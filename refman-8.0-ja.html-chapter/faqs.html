<html lang="ja"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>付録 A MySQL 8.0 のよくある質問</title><link rel="stylesheet" type="text/css" href="mvl.css"><meta name="generator" content="DocBook XSL Stylesheets V1.79.1"><link rel="home" href="index.html" title="MySQL 8.0 リファレンスマニュアル"><link rel="up" href="index.html" title="MySQL 8.0 リファレンスマニュアル"><link rel="prev" href="mysql-oci-marketplace.html" title="第 32 章 OCI マーケットプレイス上の MySQL"><link rel="next" href="error-handling.html" title="付録 B エラーメッセージと一般的な問題"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">付録 A MySQL 8.0 のよくある質問</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="mysql-oci-marketplace.html">前</a> </td><th width="60%" align="center"> </th><td width="20%" align="right"> <a accesskey="n" href="error-handling.html">次へ</a></td></tr></table><hr></div><div class="status-header"><p class="alert">このページは機械翻訳したものです。</p></div><div class="appendix"><div class="titlepage"><div><div><h1 class="title"><a name="faqs"></a>付録 A MySQL 8.0 のよくある質問</h1></div></div></div><div class="toc"><p><b>目次</b></p><dl class="toc"><dt><span class="section"><a href="faqs.html#faqs-general">A.1 MySQL 8.0 FAQ: 全般</a></span></dt><dt><span class="section"><a href="faqs.html#faqs-storage-engines">A.2 MySQL 8.0 FAQ: ストレージエンジン</a></span></dt><dt><span class="section"><a href="faqs.html#faqs-sql-modes">A.3 MySQL 8.0 FAQ: サーバー SQL モード</a></span></dt><dt><span class="section"><a href="faqs.html#faqs-stored-procs">A.4 MySQL 8.0 FAQ: ストアドプロシージャーおよびストアドファンクション</a></span></dt><dt><span class="section"><a href="faqs.html#faqs-triggers">A.5 MySQL 8.0 FAQ: トリガー</a></span></dt><dt><span class="section"><a href="faqs.html#faqs-views">A.6 MySQL 8.0 FAQ: ビュー</a></span></dt><dt><span class="section"><a href="faqs.html#faqs-information-schema">A.7 MySQL 8.0 FAQ: INFORMATION_SCHEMA</a></span></dt><dt><span class="section"><a href="faqs.html#faqs-migration">A.8 MySQL 8.0 FAQ: 移行</a></span></dt><dt><span class="section"><a href="faqs.html#faqs-security">A.9 MySQL 8.0 FAQ: セキュリティー</a></span></dt><dt><span class="section"><a href="faqs.html#faqs-mysql-cluster">A.10 MySQL 8.0 FAQ: NDB Cluster</a></span></dt><dt><span class="section"><a href="faqs.html#faqs-cjk">A.11 MySQL 8.0 FAQ: MySQL の中国語、日本語、および韓国語の文字セット</a></span></dt><dt><span class="section"><a href="faqs.html#faqs-connectors-apis">A.12 MySQL 8.0 FAQ: コネクタおよび API</a></span></dt><dt><span class="section"><a href="faqs.html#faqs-c-api">A.13 MySQL 8.0 FAQ : C API、libmysql</a></span></dt><dt><span class="section"><a href="faqs.html#faqs-replication">A.14 MySQL 8.0 FAQ: レプリケーション</a></span></dt><dt><span class="section"><a href="faqs.html#faqs-thread-pool">A.15 MySQL 8.0 FAQ: MySQL Enterprise Thread Pool</a></span></dt><dt><span class="section"><a href="faqs.html#faqs-innodb-change-buffer">A.16 MySQL 8.0 FAQ : InnoDB 変更バッファ</a></span></dt><dt><span class="section"><a href="faqs.html#faqs-tablespace-encryption">A.17 MySQL 8.0 FAQ : InnoDB 保存データ暗号化</a></span></dt><dt><span class="section"><a href="faqs.html#faqs-virtualization">A.18 MySQL 8.0 FAQ : 仮想化のサポート</a></span></dt></dl></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="faqs-general"></a>A.1 MySQL 8.0 FAQ: 全般</h2></div></div></div><div class="qandaset"><a name="idm45302164203552"></a><dl><dt>A.1.1. <a href="faqs.html#faq-mysql-version-ga">
        本番で使用 (GA) できる MySQL
        はどのバージョンですか。
      </a></dt><dt>A.1.2. <a href="faqs.html#faq-mysql-why-8.0">
        MySQL のバージョン番号付けでバージョン 6
        および 7 がスキップされ、8.0
        に直接移動したのはなぜですか。
      </a></dt><dt>A.1.3. <a href="faqs.html#faq-mysql-do-subqueries">
        MySQL 8.0
        ではサブクエリーを実行できますか。
      </a></dt><dt>A.1.4. <a href="faqs.html#faq-mysql-do-multiple-iud">
        MySQL 8.0
        では複数テーブルへの挿入、更新、および削除を実行できますか。
      </a></dt><dt>A.1.5. <a href="faqs.html#faq-mysql-have-sequences">
        MySQL 8.0
        にはシーケンスはありますか。
      </a></dt><dt>A.1.6. <a href="faqs.html#faq-mysql-have-now-fractions">
        MySQL 8.0 には秒の小数部が返される
        NOW() 関数はありますか。
      </a></dt><dt>A.1.7. <a href="faqs.html#faq-mysql-support-multi-core">
        MySQL 8.0
        はマルチコアプロセッサで動作しますか。
      </a></dt><dt>A.1.8. <a href="faqs.html#faq-mysql-why-multiple-processes">
        mysqld
        の複数のプロセスが表示されるのはなぜですか。
      </a></dt><dt>A.1.9. <a href="faqs.html#faq-mysql-have-acid-transactions">
        MySQL 8.0 は ACID
        トランザクションを実行できますか。
      </a></dt></dl><table border="0" style="width: 100%;"><colgroup><col align="left" width="1%"><col></colgroup><tbody><tr class="question"><td align="left" valign="top"><a name="faq-mysql-version-ga"></a><a name="idm45302164202880"></a><p><b>A.1.1.</b></p></td><td align="left" valign="top"><p>
        本番で使用 (GA) できる MySQL
        はどのバージョンですか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        MySQL 8.0、5.7 および MySQL 5.6
        は、本番用にサポートされています。
      </p><p>
        MySQL 8.0 は、2018 年 4 月 19
        日に本番使用のためにリリースされた MySQL 8.0.11
        で General Availability (GA)
        ステータスを達成しました。
      </p><p>
        MySQL 5.7 は MySQL 5.7.9 で一般提供 (GA)
        ステータスとなり、2015 年 10 月 21
        日に本番使用のためにリリースされました。
      </p><p>
        MySQL 5.6 は MySQL 5.6.10 で一般提供 (GA)
        ステータスとなり、2013 年 2 月 5
        日に本番使用のためにリリースされました。
      </p><p>
        MySQL 5.5 は MySQL 5.5.8 で一般提供 (GA)
        ステータスとなり、2010 年 12 月 3
        日に本番使用のためにリリースされました。
        MySQL 5.5 のアクティブな開発が終了しました。
      </p><p>
        MySQL 5.1 は MySQL 5.1.30 で一般提供 (GA)
        ステータスとなり、2008 年 11 月 14
        日に本番使用のためにリリースされました。
        MySQL 5.1 のアクティブな開発が終了しました。
      </p><p>
        MySQL 5.0 は MySQL 5.0.15 で一般提供 (GA)
        ステータスとなり、2005 年 10 月 19
        日に本番使用のためにリリースされました。
        MySQL 5.0 のアクティブな開発が終了しました。
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-mysql-why-8.0"></a><a name="idm45302164195520"></a><p><b>A.1.2.</b></p></td><td align="left" valign="top"><p>
        MySQL のバージョン番号付けでバージョン 6
        および 7 がスキップされ、8.0
        に直接移動したのはなぜですか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        この MySQL
        バージョンで導入された多くの新機能と重要な機能のため、新しいシリーズを開始することにしました。
        シリーズ番号 6 および 7 は MySQL
        によって実際に使用されていたため、8.0
        に移動しました。
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-mysql-do-subqueries"></a><a name="idm45302164192672"></a><p><b>A.1.3.</b></p></td><td align="left" valign="top"><p>
        MySQL 8.0
        ではサブクエリーを実行できますか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        はい。
        <a class="xref" href="sql-statements.html#subqueries" title="13.2.11 サブクエリー">セクション13.2.11「サブクエリー」</a>を参照してください。
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-mysql-do-multiple-iud"></a><a name="idm45302164189824"></a><p><b>A.1.4.</b></p></td><td align="left" valign="top"><p>
        MySQL 8.0
        では複数テーブルへの挿入、更新、および削除を実行できますか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        はい。
        複数テーブルへの更新の実行に必要な構文については、<a class="xref" href="sql-statements.html#update" title="13.2.13 UPDATE ステートメント">セクション13.2.13「UPDATE ステートメント」</a>を参照してください。複数テーブルでの削除の実行に必要な構文については、<a class="xref" href="sql-statements.html#delete" title="13.2.2 DELETE ステートメント">セクション13.2.2「DELETE ステートメント」</a>を参照してください。
      </p><p>
        複数テーブルへの挿入は、<code class="literal">FOR EACH
        ROW</code> 句の <code class="literal">BEGIN ... END</code>
        ブロック内に複数の
        <code class="literal">INSERT</code>
        ステートメントが含まれているトリガーを使用して実行できます。
        <a class="xref" href="stored-objects.html#triggers" title="25.3 トリガーの使用">セクション25.3「トリガーの使用」</a>を参照してください。
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-mysql-have-sequences"></a><a name="idm45302164182048"></a><p><b>A.1.5.</b></p></td><td align="left" valign="top"><p>
        MySQL 8.0
        にはシーケンスはありますか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        いいえ。ただし、MySQL には
        <code class="literal">AUTO_INCREMENT</code> システムがあり、MySQL
        8.0
        でマルチソースレプリケーション設定の挿入を処理することもできます。
        <code class="literal">auto_increment_increment</code>
        および <code class="literal">auto_increment_offset</code>
        システム変数を使用して、各サーバーがほかのサーバーと競合しない自動インクリメント値を生成するように設定できます。
        <code class="literal">auto_increment_increment</code>
        にはサーバーの数より大きい値を指定し、各サーバーが一意のオフセットを持つようにします。
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-mysql-have-now-fractions"></a><a name="idm45302164175248"></a><p><b>A.1.6.</b></p></td><td align="left" valign="top"><p>
        MySQL 8.0 には秒の小数部が返される
        <code class="literal">NOW()</code> 関数はありますか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        はい。<a class="xref" href="data-types.html#fractional-seconds" title="11.2.6 時間値での小数秒">セクション11.2.6「時間値での小数秒」</a>
        を参照してください。
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-mysql-support-multi-core"></a><a name="idm45302164171376"></a><p><b>A.1.7.</b></p></td><td align="left" valign="top"><p>
        MySQL 8.0
        はマルチコアプロセッサで動作しますか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        はい。 MySQL
        はマルチスレッド化されており、使用可能なすべての
        CPU を使用します。 すべての CPU
        を使用できるわけではありません。最新のオペレーティングシステムでは、基礎となるすべての
        CPU
        を使用できる必要がありますが、プロセスを特定の
        CPU または CPU
        のセットに制限することもできます。
      </p><p>
        Windows では、現在、<span class="command"><strong>mysqld</strong></span>
        が使用できる (論理)
        プロセッサの数に制限があります:
        シングルプロセッサグループ。最大 64
        個の論理プロセッサに制限されます。
      </p><p>
        複数のコアの使用方法は次のとおりです:
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            単一のコアは通常、1
            つのセッションから発行されたコマンドを処理するために使用されます。
          </p></li><li class="listitem"><p>
            いくつかのバックグラウンドスレッドでは、バックグラウンド
            I/O
            タスクの移動を維持するためなど、余分なコアの使用が制限されています。
          </p></li><li class="listitem"><p>
            データベースが I/O-bound (容量未満の CPU
            消費で示される) である場合、CPU
            の追加は複雑になります。 データベースが
            I/O-bound 部分と CPU
            ボンド部分にパーティション化されている場合でも、CPU
            の追加が役立つことがあります。
          </p></li></ul></div></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-mysql-why-multiple-processes"></a><a name="idm45302164161600"></a><p><b>A.1.8.</b></p></td><td align="left" valign="top"><p>
        <span class="command"><strong>mysqld</strong></span>
        の複数のプロセスが表示されるのはなぜですか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        <span class="command"><strong>mysqld</strong></span>
        は、マルチプロセスプログラムではなく単一プロセスプログラムであり、他のプロセスをフォークまたは起動しません。
        ただし、<span class="command"><strong>mysqld</strong></span>
        はマルチスレッド化されており、一部のプロセスレポートシステムユーティリティでは、マルチスレッドプロセスのスレッドごとに個別のエントリが表示されるため、実際には複数の
        <span class="command"><strong>mysqld</strong></span>
        プロセスが表示される場合があります。
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-mysql-have-acid-transactions"></a><a name="idm45302164155760"></a><p><b>A.1.9.</b></p></td><td align="left" valign="top"><p>
        MySQL 8.0 は ACID
        トランザクションを実行できますか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        はい。 MySQL
        の現在のすべてのバージョンでトランザクションがサポートされます。
        <code class="literal">InnoDB</code>
        ストレージエンジンは、行レベルのロック、マルチバージョン、非ロックの反復可能読み取り、および
        4 つのすべての SQL
        標準分離レベルを持つ、完全な ACID
        トランザクションを提供しています。
      </p><p>
        <code class="literal">NDB</code>
        ストレージエンジンは、<code class="literal">READ
        COMMITTED</code>
        トランザクション分離レベルのみをサポートしています。
      </p></td></tr></tbody></table></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="faqs-storage-engines"></a>A.2 MySQL 8.0 FAQ: ストレージエンジン</h2></div></div></div><div class="qandaset"><a name="idm45302164148736"></a><dl><dt>A.2.1. <a href="faqs.html#faq-mysql-what-storage-engines">
        MySQL
        のストレージエンジンの完全なドキュメントはどこで入手できますか。
      </a></dt><dt>A.2.2. <a href="faqs.html#faq-mysql-have-new-storage-engines">
        MySQL 8.0
        に新しいストレージエンジンはありますか。
      </a></dt><dt>A.2.3. <a href="faqs.html#faq-mysql-removed-storage-engines">
        MySQL 8.0
        で削除されたストレージエンジンはありますか。
      </a></dt><dt>A.2.4. <a href="faqs.html#faq-mysql-disabling-storage-engines">
        特定のストレージエンジンの使用を防止できますか。
      </a></dt><dt>A.2.5. <a href="faqs.html#faq-mysql-innodb-backup-recovery-advantage">
        InnoDB ストレージエンジンと
        InnoDB
        以外のストレージエンジンの組み合わせとは対照的に、InnoDB
        ストレージエンジンを排他的に使用する利点はありますか。
      </a></dt><dt>A.2.6. <a href="faqs.html#faq-mysql-what-archive-engine">
        ARCHIVE
        ストレージエンジンに固有の利点は何ですか。
      </a></dt></dl><table border="0" style="width: 100%;"><colgroup><col align="left" width="1%"><col></colgroup><tbody><tr class="question"><td align="left" valign="top"><a name="faq-mysql-what-storage-engines"></a><a name="idm45302164148032"></a><p><b>A.2.1.</b></p></td><td align="left" valign="top"><p>
        MySQL
        のストレージエンジンの完全なドキュメントはどこで入手できますか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        <a class="xref" href="storage-engines.html" title="第 16 章 代替ストレージエンジン">第16章「<i>代替ストレージエンジン</i>」</a>を参照してください。
        この章では、<code class="literal">InnoDB</code>
        ストレージエンジンと <code class="literal">NDB</code>
        ストレージエンジン (MySQL Cluster に使用)
        を除く、すべての MySQL
        ストレージエンジンについて説明します。
        <code class="literal">InnoDB</code>
        については、<a class="xref" href="innodb-storage-engine.html" title="第 15 章 InnoDB ストレージエンジン">第15章「<i>InnoDB ストレージエンジン</i>」</a>
        を参照してください。 <code class="literal">NDB</code>
        については、<a class="xref" href="mysql-cluster.html" title="第 23 章 MySQL NDB Cluster 8.0">第23章「<i>MySQL NDB Cluster 8.0</i>」</a>
        を参照してください。
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-mysql-have-new-storage-engines"></a><a name="idm45302164139456"></a><p><b>A.2.2.</b></p></td><td align="left" valign="top"><p>
        MySQL 8.0
        に新しいストレージエンジンはありますか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        いいえ。<code class="literal">InnoDB</code>
        は新しいテーブルのデフォルトのストレージエンジンです。
        詳細は、<a class="xref" href="innodb-storage-engine.html#innodb-introduction" title="15.1 InnoDB 入門">セクション15.1「InnoDB 入門」</a>
        を参照してください。
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-mysql-removed-storage-engines"></a><a name="idm45302164135648"></a><p><b>A.2.3.</b></p></td><td align="left" valign="top"><p>
        MySQL 8.0
        で削除されたストレージエンジンはありますか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        パーティショニングサポートを提供した
        <code class="literal">PARTITION</code>
        ストレージエンジンプラグインは、ネイティブのパーティショニングハンドラに置き換えられます。
        この変更の一環として、サーバーは
        <code class="option">-DWITH_PARTITION_STORAGE_ENGINE</code>
        を使用して構築できなくなりました。<code class="literal">partition</code>
        は、<code class="literal">SHOW PLUGINS</code>
        の出力または
        <code class="literal">INFORMATION_SCHEMA.PLUGINS</code>
        テーブルにも表示されなくなりました。
      </p><p>
        特定のテーブルのパーティション化をサポートするには、テーブルに使用されるストレージエンジンが独自の
        (<span class="quote">「<span class="quote">native</span>」</span>)
        パーティショニングハンドラを提供する必要があります。
        <code class="literal">InnoDB</code>
        は、ネイティブのパーティショニングハンドラを含む
        MySQL 8.0
        でサポートされている唯一のストレージエンジンです。
        ほかのストレージエンジンを使用して MySQL 8.0
        でパーティション化されたテーブルを作成しようとすると、失敗します。
        (MySQL Cluster で使用される
        <code class="literal">NDB</code>
        ストレージエンジンも独自のパーティショニングハンドラを提供しますが、MySQL
        8.0 では現在サポートされていません。)
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-mysql-disabling-storage-engines"></a><a name="idm45302164124640"></a><p><b>A.2.4.</b></p></td><td align="left" valign="top"><p>
        特定のストレージエンジンの使用を防止できますか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        はい。
        <code class="literal">disabled_storage_engines</code>
        構成オプションは、テーブルまたはテーブルスペースの作成に使用できないストレージエンジンを定義します。
        デフォルトでは、<code class="literal">disabled_storage_engines</code>
        は空 (エンジンが無効になっていない)
        ですが、1
        つ以上のエンジンのカンマ区切りリストに設定できます。
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-mysql-innodb-backup-recovery-advantage"></a><a name="idm45302164119760"></a><p><b>A.2.5.</b></p></td><td align="left" valign="top"><p>
        <code class="literal">InnoDB</code> ストレージエンジンと
        <code class="literal">InnoDB</code>
        以外のストレージエンジンの組み合わせとは対照的に、<code class="literal">InnoDB</code>
        ストレージエンジンを排他的に使用する利点はありますか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        はい。 <code class="literal">InnoDB</code>
        テーブルを排他的に使用すると、バックアップおよびリカバリ操作を簡略化できます。
        MySQL Enterprise Backup は、<code class="literal">InnoDB</code>
        ストレージエンジンを使用するすべてのテーブルの
        <a class="link" href="glossary.html#glos_hot_backup" title="ホットバックアップ">hot backup</a>
        を実行します。 <code class="literal">MyISAM</code>
        またはその他の <code class="literal">InnoDB</code>
        以外のストレージエンジンを使用するテーブルの場合は、<span class="quote">「<span class="quote">「ウォーム」</span>」</span>バックアップが実行され、データベースは引き続き実行されますが、バックアップ中にこれらのテーブルを変更することはできません。
        <a class="xref" href="mysql-enterprise.html#mysql-enterprise-backup" title="30.2 MySQL Enterprise Backup の概要">セクション30.2「MySQL Enterprise Backup の概要」</a>を参照してください。
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-mysql-what-archive-engine"></a><a name="idm45302164109456"></a><p><b>A.2.6.</b></p></td><td align="left" valign="top"><p>
        <code class="literal">ARCHIVE</code>
        ストレージエンジンに固有の利点は何ですか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        <code class="literal">ARCHIVE</code>
        ストレージエンジンは、インデックスなしで大量のデータを格納します。フットプリントは小さく、テーブルスキャンを使用して選択を実行します。
        詳細は、<a class="xref" href="storage-engines.html#archive-storage-engine" title="16.5 ARCHIVE ストレージエンジン">セクション16.5「ARCHIVE ストレージエンジン」</a>を参照してください。
      </p></td></tr></tbody></table></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="faqs-sql-modes"></a>A.3 MySQL 8.0 FAQ: サーバー SQL モード</h2></div></div></div><div class="qandaset"><a name="idm45302164104144"></a><dl><dt>A.3.1. <a href="faqs.html#faq-mysql-what-sql-modes">
        サーバー SQL モードとは何ですか。
      </a></dt><dt>A.3.2. <a href="faqs.html#faq-mysql-count-sql-modes">
        サーバー SQL モードはいくつありますか。
      </a></dt><dt>A.3.3. <a href="faqs.html#faq-mysql-how-see-sql-mode">
        サーバー SQL
        モードを判別するにはどうすればよいですか。
      </a></dt><dt>A.3.4. <a href="faqs.html#faq-mysql-sql-mode-dependency">
        モードはデータベースまたは接続に依存していますか。
      </a></dt><dt>A.3.5. <a href="faqs.html#faq-mysql-extend-strict-mode">
        厳密モードにルールを追加できますか。
      </a></dt><dt>A.3.6. <a href="faqs.html#faq-mysql-strict-impact">
        厳密モードはパフォーマンスに影響しますか。
      </a></dt><dt>A.3.7. <a href="faqs.html#faq-mysql-what-default-mode">
        MySQL 8.0
        をインストールしたときのデフォルトのサーバー
        SQL モードは何ですか。
      </a></dt></dl><table border="0" style="width: 100%;"><colgroup><col align="left" width="1%"><col></colgroup><tbody><tr class="question"><td align="left" valign="top"><a name="faq-mysql-what-sql-modes"></a><a name="idm45302164103328"></a><p><b>A.3.1.</b></p></td><td align="left" valign="top"><p>
        サーバー SQL モードとは何ですか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        サーバー SQL モードは、MySQL でサポートされる
        SQL
        構文、および実行されるデータ妥当性チェックの種類を定義します。
        これにより、MySQL
        をさまざまな環境で使用したり、MySQL
        をほかのデータベースサーバーと一緒に使用したりすることが、さらに容易になります。
        MySQL
        サーバーは、これらのモードを各クライアントに個別に適用します。
        詳細は、<a class="xref" href="server-administration.html#sql-mode" title="5.1.11 サーバー SQL モード">セクション5.1.11「サーバー SQL モード」</a>を参照してください。
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-mysql-count-sql-modes"></a><a name="idm45302164100000"></a><p><b>A.3.2.</b></p></td><td align="left" valign="top"><p>
        サーバー SQL モードはいくつありますか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        各モードは、個別にオン/オフを切り替えることができます。
        使用可能なモードの完全なリストについては、<a class="xref" href="server-administration.html#sql-mode" title="5.1.11 サーバー SQL モード">セクション5.1.11「サーバー SQL モード」</a>を参照してください。
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-mysql-how-see-sql-mode"></a><a name="idm45302164096960"></a><p><b>A.3.3.</b></p></td><td align="left" valign="top"><p>
        サーバー SQL
        モードを判別するにはどうすればよいですか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        <code class="option">--sql-mode</code>
        オプションを使用すると、デフォルトの SQL
        モード (<span class="command"><strong>mysqld</strong></span> を起動する場合)
        を設定できます。
        <code class="literal">SET
        [GLOBAL|SESSION]
        sql_mode='<em class="replaceable"><code>modes</code></em>'</code>
        ステートメントを使用すると、ローカルに接続に対して、またはグローバルに適用されるように、接続内から設定を変更できます。
        現在のモードを取得するには、<code class="literal">SELECT
        @@sql_mode</code> ステートメントを発行します。
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-mysql-sql-mode-dependency"></a><a name="idm45302164090144"></a><p><b>A.3.4.</b></p></td><td align="left" valign="top"><p>
        モードはデータベースまたは接続に依存していますか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        モードは特定のデータベースにリンクされていません。
        モードは、ローカルにセッション (接続)
        に対して設定するか、グローバルにサーバーに対して設定できます。これらの設定は、<code class="literal">SET
        [GLOBAL|SESSION]
        sql_mode='<em class="replaceable"><code>modes</code></em>'</code>
        を使用して変更できます。
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-mysql-extend-strict-mode"></a><a name="idm45302164085728"></a><p><b>A.3.5.</b></p></td><td align="left" valign="top"><p>
        厳密モードにルールを追加できますか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        <span class="emphasis"><em>厳密モード</em></span>と呼ぶ場合は、<code class="literal">TRADITIONAL</code>、<code class="literal">STRICT_TRANS_TABLES</code>、または
        <code class="literal">STRICT_ALL_TABLES</code>
        モードの少なくとも 1
        つが有効にされているモードを意味します。
        オプションは組み合わせることができるため、モードに制約を追加できます。
        詳細は、<a class="xref" href="server-administration.html#sql-mode" title="5.1.11 サーバー SQL モード">セクション5.1.11「サーバー SQL モード」</a>を参照してください。
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-mysql-strict-impact"></a><a name="idm45302164079184"></a><p><b>A.3.6.</b></p></td><td align="left" valign="top"><p>
        厳密モードはパフォーマンスに影響しますか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        一部の設定での入力データの厳密な検証では、検証を行わない場合より時間がかかります。
        パフォーマンスへの影響はそれほど大きくありませんが、そのような検証が必要ない場合
        (アプリケーションでそのすべてをすでに処理している場合)、MySQL
        には厳密モードを無効にするオプションがあります。
        ただし、必要な場合は、厳密モードでこのような検証を行うことができます。
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-mysql-what-default-mode"></a><a name="idm45302164076464"></a><p><b>A.3.7.</b></p></td><td align="left" valign="top"><p>
        MySQL 8.0
        をインストールしたときのデフォルトのサーバー
        SQL モードは何ですか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        MySQL 8.0 のデフォルトの SQL
        モードには、次のモードが含まれます:
        <code class="literal">ONLY_FULL_GROUP_BY</code>,
        <code class="literal">STRICT_TRANS_TABLES</code>,
        <code class="literal">NO_ZERO_IN_DATE</code>,
        <code class="literal">NO_ZERO_DATE</code>,
        <code class="literal">ERROR_FOR_DIVISION_BY_ZERO</code>
        および
        <code class="literal">NO_ENGINE_SUBSTITUTION</code>。
      </p><p>
        使用可能なすべてのモードおよびデフォルトの
        MySQL 動作の詳細は、<a class="xref" href="server-administration.html#sql-mode" title="5.1.11 サーバー SQL モード">セクション5.1.11「サーバー SQL モード」</a>
        を参照してください。
      </p></td></tr></tbody></table></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="faqs-stored-procs"></a>A.4 MySQL 8.0 FAQ: ストアドプロシージャーおよびストアドファンクション</h2></div></div></div><div class="qandaset"><a name="idm45302164065856"></a><dl><dt>A.4.1. <a href="faqs.html#faq-mysql-have-procedures-functions">
        MySQL 8.0
        はストアドプロシージャーおよびストアドファンクションをサポートしていますか。
      </a></dt><dt>A.4.2. <a href="faqs.html#faq-mysql-where-procedures-functions-docs">
        MySQL
        のストアドプロシージャーおよびストアドファンクションについてのドキュメントはどこにありますか。
      </a></dt><dt>A.4.3. <a href="faqs.html#faq-mysql-where-procedures-forum">
        MySQL
        のストアドプロシージャーのディスカッションフォーラムはありますか。
      </a></dt><dt>A.4.4. <a href="faqs.html#faq-mysql-where-ansi-2003-spec">
        ストアドプロシージャーの ANSI SQL 2003
        仕様はどこにありますか。
      </a></dt><dt>A.4.5. <a href="faqs.html#faq-mysql-how-manage-routines">
        ストアドルーチンを管理するにはどうすればよいですか。
      </a></dt><dt>A.4.6. <a href="faqs.html#faq-mysql-how-view-procedures-functions">
        特定のデータベースのすべてのストアドプロシージャーおよびストアドファンクションを表示する方法はありますか。
      </a></dt><dt>A.4.7. <a href="faqs.html#faq-mysql-where-procedures-stored">
        ストアドプロシージャーはどこに格納されますか。
      </a></dt><dt>A.4.8. <a href="faqs.html#faq-mysql-how-group-procedures-functions">
        ストアドプロシージャーまたはストアドファンクションをパッケージにグループ化することはできますか。
      </a></dt><dt>A.4.9. <a href="faqs.html#faq-mysql-can-procedure-call-procedure">
        ストアドプロシージャーは別のストアドプロシージャーを呼び出すことができますか。
      </a></dt><dt>A.4.10. <a href="faqs.html#faq-mysql-can-procedure-call-trigger">
        ストアドプロシージャーはトリガーを呼び出すことができますか。
      </a></dt><dt>A.4.11. <a href="faqs.html#faq-mysql-can-procedure-access-table">
        ストアドプロシージャーはテーブルにアクセスできますか。
      </a></dt><dt>A.4.12. <a href="faqs.html#faq-mysql-can-procedure-raise-error">
        ストアドプロシージャーには、アプリケーションエラーを発生させるステートメントはありますか。
      </a></dt><dt>A.4.13. <a href="faqs.html#faq-mysql-have-exceptions">
        ストアドプロシージャーには例外処理はありますか。
      </a></dt><dt>A.4.14. <a href="faqs.html#faq-mysql-can-routine-results">
        MySQL 8.0
        のストアドルーチンは結果セットを返すことができますか。
      </a></dt><dt>A.4.15. <a href="faqs.html#faq-mysql-have-with-recompile">
        ストアドプロシージャーで WITH
        RECOMPILE はサポートされますか。
      </a></dt><dt>A.4.16. <a href="faqs.html#faq-mysql-have-mod-plsql">
        mod_plsql を Apache
        のゲートウェイとして使用してデータベース内のストアドプロシージャーと直接やり取りするのと同等の機能は
        MySQL にありますか。
      </a></dt><dt>A.4.17. <a href="faqs.html#faq-mysql-can-procedure-array">
        ストアドプロシージャーに入力として配列を渡すことはできますか。
      </a></dt><dt>A.4.18. <a href="faqs.html#faq-mysql-can-pass-cursor-in">
        ストアドプロシージャーに IN
        パラメータとしてカーソルを渡すことはできますか。
      </a></dt><dt>A.4.19. <a href="faqs.html#faq-mysql-can-return-cursor-out">
        ストアドプロシージャーの OUT
        パラメータとしてカーソルを返すことはできますか。
      </a></dt><dt>A.4.20. <a href="faqs.html#faq-mysql-can-print-var-in-procedure">
        デバッグのために、ストアドルーチン内の変数の値を出力できますか。
      </a></dt><dt>A.4.21. <a href="faqs.html#faq-mysql-can-rollback-transaction-procedure">
        ストアドプロシージャー内でトランザクションをコミットまたはロールバックできますか。
      </a></dt><dt>A.4.22. <a href="faqs.html#faq-mysql-can-procedures-replicatation">
        MySQL 8.0
        のストアドプロシージャーおよびストアドファンクションはレプリケーションで動作しますか。
      </a></dt><dt>A.4.23. <a href="faqs.html#faq-mysql-are-procedures-replicated">
        レプリケーションソースサーバー上に作成されたストアドプロシージャーおよびストアドファンクションはレプリカにレプリケートされますか。
      </a></dt><dt>A.4.24. <a href="faqs.html#faq-mysql-how-procedures-replicated">
        ストアドプロシージャーおよびストアドファンクション内で実行されたアクションはどのようにレプリケートされますか。
      </a></dt><dt>A.4.25. <a href="faqs.html#faq-mysql-security-procedures-replication">
        レプリケーションでストアドプロシージャーおよびストアドファンクションを使用するための特別なセキュリティー要件はありますか。
      </a></dt><dt>A.4.26. <a href="faqs.html#faq-mysql-limitations-procedures-replication">
        ストアドプロシージャーおよびストアドファンクションのアクションをレプリケートする場合の制限は何ですか。
      </a></dt><dt>A.4.27. <a href="faqs.html#faq-mysql-limitations-pit-recovery">
        前述の制限は、MySQL が point-in-tim
      </a></dt><dt>A.4.28. <a href="faqs.html#faq-mysql-when-limitations-resolved">
        前述の制限を修正するために何が行われていますか。
      </a></dt></dl><table border="0" style="width: 100%;"><colgroup><col align="left" width="1%"><col></colgroup><tbody><tr class="question"><td align="left" valign="top"><a name="faq-mysql-have-procedures-functions"></a><a name="idm45302164065104"></a><p><b>A.4.1.</b></p></td><td align="left" valign="top"><p>
        MySQL 8.0
        はストアドプロシージャーおよびストアドファンクションをサポートしていますか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        はい。 MySQL 8.0
        は、ストアドプロシージャーとストアドファンクションの
        2
        種類のストアドルーチンをサポートしています。
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-mysql-where-procedures-functions-docs"></a><a name="idm45302164062384"></a><p><b>A.4.2.</b></p></td><td align="left" valign="top"><p>
        MySQL
        のストアドプロシージャーおよびストアドファンクションについてのドキュメントはどこにありますか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        <a class="xref" href="stored-objects.html#stored-routines" title="25.2 ストアドルーチンの使用">セクション25.2「ストアドルーチンの使用」</a>を参照してください。
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-mysql-where-procedures-forum"></a><a name="idm45302164059504"></a><p><b>A.4.3.</b></p></td><td align="left" valign="top"><p>
        MySQL
        のストアドプロシージャーのディスカッションフォーラムはありますか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        はい。
        <a class="ulink" href="https://forums.mysql.com/list.php?98" target="_top">https://forums.mysql.com/list.php?98</a>
        を参照してください。
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-mysql-where-ansi-2003-spec"></a><a name="idm45302164056416"></a><p><b>A.4.4.</b></p></td><td align="left" valign="top"><p>
        ストアドプロシージャーの ANSI SQL 2003
        仕様はどこにありますか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        残念ながら、正式な仕様は無料では入手できません
        (ANSI は有料で販売しています)。
        ただし、<em class="citetitle">「SQL-99
        完全、本当に」</em> by Peter Gulutzan や Trudy
        Pelzer
        など、ストアドプロシージャの適用範囲を含む標準の包括的な概要を提供する書籍があります。
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-mysql-how-manage-routines"></a><a name="idm45302164053104"></a><p><b>A.4.5.</b></p></td><td align="left" valign="top"><p>
        ストアドルーチンを管理するにはどうすればよいですか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        ストアドルーチンに明快な命名スキームを使用することはよい管理方法です。
        ストアドプロシージャーは、<code class="literal">CREATE
        [FUNCTION|PROCEDURE]</code>、<code class="literal">ALTER
        [FUNCTION|PROCEDURE]</code>、<code class="literal">DROP
        [FUNCTION|PROCEDURE]</code>、および <code class="literal">SHOW CREATE
        [FUNCTION|PROCEDURE]</code>
        を使用して管理できます。
        既存のストアドプロシージャーに関する情報を取得するには、<code class="literal">INFORMATION_SCHEMA</code>
        データベースの <code class="literal">ROUTINES</code>
        テーブル
        (<a class="xref" href="information-schema.html#information-schema-routines-table" title="26.30 INFORMATION_SCHEMA ROUTINES テーブル">セクション26.30「INFORMATION_SCHEMA ROUTINES テーブル」</a>を参照してください)
        を使用します。
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-mysql-how-view-procedures-functions"></a><a name="idm45302164044992"></a><p><b>A.4.6.</b></p></td><td align="left" valign="top"><p>
        特定のデータベースのすべてのストアドプロシージャーおよびストアドファンクションを表示する方法はありますか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        はい。 <em class="replaceable"><code>dbname</code></em>
        という名前のデータベースの場合、<code class="literal">INFORMATION_SCHEMA.ROUTINES</code>
        テーブルに対して次のクエリーを使用します。
      </p><pre class="programlisting">SELECT ROUTINE_TYPE, ROUTINE_NAME
    FROM INFORMATION_SCHEMA.ROUTINES
    WHERE ROUTINE_SCHEMA='<em class="replaceable"><code>dbname</code></em>';
</pre><p>
        詳細は、<a class="xref" href="information-schema.html#information-schema-routines-table" title="26.30 INFORMATION_SCHEMA ROUTINES テーブル">セクション26.30「INFORMATION_SCHEMA ROUTINES テーブル」</a>を参照してください。
      </p><p>
        ストアドルーチンの本体は、<code class="literal">SHOW
        CREATE FUNCTION</code>
        (ストアドファンクションの場合) または
        <code class="literal">SHOW CREATE PROCEDURE</code>
        (ストアドプロシージャーの場合)
        を使用して表示できます。
        詳細は、<a class="xref" href="sql-statements.html#show-create-procedure" title="13.7.7.9 SHOW CREATE PROCEDURE ステートメント">セクション13.7.7.9「SHOW CREATE PROCEDURE ステートメント」</a>を参照してください。
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-mysql-where-procedures-stored"></a><a name="idm45302164034832"></a><p><b>A.4.7.</b></p></td><td align="left" valign="top"><p>
        ストアドプロシージャーはどこに格納されますか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        ストアドプロシージャは、データディクショナリの一部である
        <code class="literal">mysql.routines</code> テーブルおよび
        <code class="literal">mysql.parameters</code>
        テーブルに格納されます。
        これらのテーブルに直接アクセスすることはできません。
        かわりに、<code class="literal">INFORMATION_SCHEMA</code>
        <code class="literal">ROUTINES</code> テーブルおよび
        <code class="literal">PARAMETERS</code>
        テーブルをクエリーします。
        <a class="xref" href="information-schema.html#information-schema-routines-table" title="26.30 INFORMATION_SCHEMA ROUTINES テーブル">セクション26.30「INFORMATION_SCHEMA ROUTINES テーブル」</a>および<a class="xref" href="information-schema.html#information-schema-parameters-table" title="26.20 INFORMATION_SCHEMA PARAMETERS テーブル">セクション26.20「INFORMATION_SCHEMA PARAMETERS テーブル」</a>を参照してください。
      </p><p>
        <code class="literal">SHOW CREATE FUNCTION</code>
        を使用してストアドファンクションに関する情報を取得し、<code class="literal">SHOW
        CREATE PROCEDURE</code>
        を使用してストアドプロシージャに関する情報を取得することもできます。
        <a class="xref" href="sql-statements.html#show-create-procedure" title="13.7.7.9 SHOW CREATE PROCEDURE ステートメント">セクション13.7.7.9「SHOW CREATE PROCEDURE ステートメント」</a>を参照してください。
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-mysql-how-group-procedures-functions"></a><a name="idm45302164023088"></a><p><b>A.4.8.</b></p></td><td align="left" valign="top"><p>
        ストアドプロシージャーまたはストアドファンクションをパッケージにグループ化することはできますか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        いいえ。これは MySQL 8.0
        ではサポートされません。
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-mysql-can-procedure-call-procedure"></a><a name="idm45302164020704"></a><p><b>A.4.9.</b></p></td><td align="left" valign="top"><p>
        ストアドプロシージャーは別のストアドプロシージャーを呼び出すことができますか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        はい。
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-mysql-can-procedure-call-trigger"></a><a name="idm45302164018496"></a><p><b>A.4.10.</b></p></td><td align="left" valign="top"><p>
        ストアドプロシージャーはトリガーを呼び出すことができますか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        ストアドプロシージャーでは、トリガーが実行される
        <code class="literal">UPDATE</code> などの SQL
        ステートメントを実行できます。
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-mysql-can-procedure-access-table"></a><a name="idm45302164015136"></a><p><b>A.4.11.</b></p></td><td align="left" valign="top"><p>
        ストアドプロシージャーはテーブルにアクセスできますか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        はい。
        ストアドプロシージャーは、必要に応じて 1
        つ以上のテーブルにアクセスできます。
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-mysql-can-procedure-raise-error"></a><a name="idm45302164012672"></a><p><b>A.4.12.</b></p></td><td align="left" valign="top"><p>
        ストアドプロシージャーには、アプリケーションエラーを発生させるステートメントはありますか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        はい。 MySQL 8.0 には、SQL 標準の
        <code class="literal">SIGNAL</code> ステートメントおよび
        <code class="literal">RESIGNAL</code>
        ステートメントが実装されています。
        <a class="xref" href="sql-statements.html#condition-handling" title="13.6.7 条件の処理">セクション13.6.7「条件の処理」</a>を参照してください。
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-mysql-have-exceptions"></a><a name="idm45302164008000"></a><p><b>A.4.13.</b></p></td><td align="left" valign="top"><p>
        ストアドプロシージャーには例外処理はありますか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        MySQL には、SQL 標準に従った
        <code class="literal">HANDLER</code>
        定義が実装されています。
        詳細は、<a class="xref" href="sql-statements.html#declare-handler" title="13.6.7.2 DECLARE ... HANDLER ステートメント">セクション13.6.7.2「DECLARE ... HANDLER ステートメント」</a>を参照してください。
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-mysql-can-routine-results"></a><a name="idm45302164003968"></a><p><b>A.4.14.</b></p></td><td align="left" valign="top"><p>
        MySQL 8.0
        のストアドルーチンは結果セットを返すことができますか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        <span class="emphasis"><em>ストアドプロシージャー</em></span>は返すことができますが、ストアドファンクションは返すことができません。
        ストアドプロシージャー内で通常の
        <code class="literal">SELECT</code>
        を実行すると、結果セットがクライアントに直接返されます。
        これを機能させるには、MySQL 4.1
        以上のクライアント/サーバープロトコルを使用する必要があります。
        つまり、PHP では、古い <code class="literal">mysql</code>
        拡張機能ではなく <code class="literal">mysqli</code>
        拡張機能を使用する必要があります。
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-mysql-have-with-recompile"></a><a name="idm45302163998128"></a><p><b>A.4.15.</b></p></td><td align="left" valign="top"><p>
        ストアドプロシージャーで <code class="literal">WITH
        RECOMPILE</code> はサポートされますか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        MySQL 8.0 にはありません。
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-mysql-have-mod-plsql"></a><a name="idm45302163995200"></a><p><b>A.4.16.</b></p></td><td align="left" valign="top"><p>
        <code class="literal">mod_plsql</code> を Apache
        のゲートウェイとして使用してデータベース内のストアドプロシージャーと直接やり取りするのと同等の機能は
        MySQL にありますか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        MySQL 8.0
        には同等の機能はありません。
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-mysql-can-procedure-array"></a><a name="idm45302163992032"></a><p><b>A.4.17.</b></p></td><td align="left" valign="top"><p>
        ストアドプロシージャーに入力として配列を渡すことはできますか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        MySQL 8.0 にはありません。
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-mysql-can-pass-cursor-in"></a><a name="idm45302163989760"></a><p><b>A.4.18.</b></p></td><td align="left" valign="top"><p>
        ストアドプロシージャーに <code class="literal">IN</code>
        パラメータとしてカーソルを渡すことはできますか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        MySQL 8.0
        では、カーソルはストアドプロシージャーの内部でのみ使用できます。
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-mysql-can-return-cursor-out"></a><a name="idm45302163986608"></a><p><b>A.4.19.</b></p></td><td align="left" valign="top"><p>
        ストアドプロシージャーの <code class="literal">OUT</code>
        パラメータとしてカーソルを返すことはできますか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        MySQL 8.0
        では、カーソルはストアドプロシージャーの内部でのみ使用できます。
        ただし、<code class="literal">SELECT</code>
        でカーソルをオープンしない場合、結果はクライアントに直接送信されます。
        変数に対して <code class="literal">SELECT INTO</code>
        を発行することもできます。
        <a class="xref" href="sql-statements.html#select" title="13.2.10 SELECT ステートメント">セクション13.2.10「SELECT ステートメント」</a>を参照してください。
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-mysql-can-print-var-in-procedure"></a><a name="idm45302163980688"></a><p><b>A.4.20.</b></p></td><td align="left" valign="top"><p>
        デバッグのために、ストアドルーチン内の変数の値を出力できますか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        はい。これは、<span class="emphasis"><em>ストアドプロシージャー</em></span>では行うことができますが、ストアドファンクションでは行うことはできません。
        ストアドプロシージャー内で通常の
        <code class="literal">SELECT</code>
        を実行すると、結果セットがクライアントに直接返されます。
        これを機能させるには、MySQL 4.1 (以上)
        のクライアント/サーバープロトコルを使用する必要があります。
        つまり、PHP では、古い <code class="literal">mysql</code>
        拡張機能ではなく <code class="literal">mysqli</code>
        拡張機能を使用する必要があります。
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-mysql-can-rollback-transaction-procedure"></a><a name="idm45302163974720"></a><p><b>A.4.21.</b></p></td><td align="left" valign="top"><p>
        ストアドプロシージャー内でトランザクションをコミットまたはロールバックできますか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        はい。
        ただし、ストアドファンクション内でトランザクション操作を実行することはできません。
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-mysql-can-procedures-replicatation"></a><a name="idm45302163972192"></a><p><b>A.4.22.</b></p></td><td align="left" valign="top"><p>
        MySQL 8.0
        のストアドプロシージャーおよびストアドファンクションはレプリケーションで動作しますか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        はい。ストアドプロシージャおよびファンクションで実行される標準アクションは、レプリケーションソースサーバーからレプリカにレプリケートされます。
        <a class="xref" href="stored-objects.html#stored-programs-logging" title="25.7 ストアドプログラムバイナリロギング">セクション25.7「ストアドプログラムバイナリロギング」</a>で詳しく説明されているいくつかの制限があります。
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-mysql-are-procedures-replicated"></a><a name="idm45302163968688"></a><p><b>A.4.23.</b></p></td><td align="left" valign="top"><p>
        レプリケーションソースサーバー上に作成されたストアドプロシージャーおよびストアドファンクションはレプリカにレプリケートされますか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        はい。オブジェクトが両方のサーバーに存在するように、レプリケーションソースサーバーで通常の
        DDL
        ステートメントを介して実行されるストアドプロシージャおよびファンクションの作成はレプリカにレプリケートされます。
        ストアドプロシージャーおよびストアドファンクションに対する
        <code class="literal">ALTER</code> ステートメントおよび
        <code class="literal">DROP</code>
        ステートメントもレプリケートされます。
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-mysql-how-procedures-replicated"></a><a name="idm45302163964096"></a><p><b>A.4.24.</b></p></td><td align="left" valign="top"><p>
        ストアドプロシージャーおよびストアドファンクション内で実行されたアクションはどのようにレプリケートされますか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        MySQL は、ストアドプロシージャで発生した各 DML
        イベントを記録し、それらの個々のアクションをレプリカにレプリケートします。
        ストアドプロシージャーを実行するために行われた実際の呼び出しはレプリケートされません。
      </p><p>
        データを変更するストアドファンクションは、各ファンクション内で行われた
        DML
        イベントとしてではなく、関数呼び出しとしてログ記録されます。
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-mysql-security-procedures-replication"></a><a name="idm45302163960224"></a><p><b>A.4.25.</b></p></td><td align="left" valign="top"><p>
        レプリケーションでストアドプロシージャーおよびストアドファンクションを使用するための特別なセキュリティー要件はありますか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        はい。
        レプリカにはソースバイナリログから読み取られたステートメントを実行する権限があるため、レプリケーションでストアドファンクションを使用するための特別なセキュリティー制約が存在します。
        レプリケーションまたは一般のバイナリロギング
        (ポイントインタイムリカバリのための)
        がアクティブである場合、MySQL の DBA
        には選択できるセキュリティーオプションが 2
        つあります。
        </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
              ストアドファンクションを作成するユーザーに、<code class="literal">SUPER</code>
              権限を付与する必要があります。
            </p></li><li class="listitem"><p>
              または、DBA は
              <code class="literal">log_bin_trust_function_creators</code>
              システム変数に 1
              を設定できます。これにより、標準の
              <code class="literal">CREATE ROUTINE</code>
              権限を持ったユーザーがストアドファンクションを作成できます。
            </p></li></ol></div><p>
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-mysql-limitations-procedures-replication"></a><a name="idm45302163950896"></a><p><b>A.4.26.</b></p></td><td align="left" valign="top"><p>
        ストアドプロシージャーおよびストアドファンクションのアクションをレプリケートする場合の制限は何ですか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        ストアドプロシージャーに埋め込まれている決定性のない
        (ランダムな)
        アクションまたは時間ベースのアクションは、正しくレプリケートされないことがあります。
        その性質上、ランダムに生成された結果は予測できず、正確には再現できません。したがって、レプリカにレプリケートされたランダムなアクションは、ソースで実行されたものを反映しません。
        ストアドファンクションを
        <code class="literal">DETERMINISTIC</code>
        として宣言するか、<code class="literal">log_bin_trust_function_creators</code>
        システム変数を 0
        に設定すると、ランダムな操作によってランダムな値が生成されなくなります。
      </p><p>
        また、ストアドプロシージャでのアクションのタイミングはレプリケーションに使用されるバイナリログを介して再現できないため、レプリカでは時間ベースのアクションを再現できません。
        バイナリログには、DML
        イベントのみが記録され、タイミング制約は含まれていません。
      </p><p>
        最後に、大規模な DML アクション
        (一括挿入など)
        中にエラーが発生した非トランザクションテーブルでは、ソースが
        DML
        アクティビティから部分的に更新される可能性があるというレプリケーションの問題が発生する可能性がありますが、エラーが発生したためレプリカは更新されません。
        回避策として、<code class="literal">IGNORE</code>
        キーワードを使用して関数 DML
        アクションを実行すると、エラーの原因となったソースの更新が無視され、エラーの原因とならない更新がレプリカにレプリケートされます。
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-mysql-limitations-pit-recovery"></a><a name="idm45302163942640"></a><p><b>A.4.27.</b></p></td><td align="left" valign="top"><p>
        前述の制限は、MySQL が point-in-tim
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        レプリケーションに影響する制限が、ポイントインタイムリカバリに同様に影響します。
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-mysql-when-limitations-resolved"></a><a name="idm45302163940304"></a><p><b>A.4.28.</b></p></td><td align="left" valign="top"><p>
        前述の制限を修正するために何が行われていますか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        ステートメントベースのレプリケーションまたは行ベースのレプリケーションのいずれかを選択できます。
        元のレプリケーションの実装は、ステートメントベースのバイナリロギングに基づいています。
        行ベースのバイナリロギングによって、前述の制限が解決されます。
      </p><p>
        <span class="firstterm">複合</span>レプリケーションも使用できます
        (<code class="option">--binlog-format=mixed</code>
        を指定してサーバーを起動します)。
        このハイブリッド形式のレプリケーション
        <span class="quote">「<span class="quote">knows</span>」</span>
        ステートメントレベルレプリケーションを安全に使用できるかどうか、または行レベルレプリケーションが必要かどうか。
      </p><p>
        追加情報については、<a class="xref" href="replication.html#replication-formats" title="17.2.1 レプリケーション形式">セクション17.2.1「レプリケーション形式」</a>を参照してください。
      </p></td></tr></tbody></table></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="faqs-triggers"></a>A.5 MySQL 8.0 FAQ: トリガー</h2></div></div></div><div class="qandaset"><a name="idm45302163932736"></a><dl><dt>A.5.1. <a href="faqs.html#faq-mysql-where-triggers-docs">
        MySQL 8.0
        のトリガーについてのドキュメントはどこにありますか。
      </a></dt><dt>A.5.2. <a href="faqs.html#faq-mysql-where-triggers-forum">
        MySQL
        のトリガーについてのディスカッションフォーラムはありますか。
      </a></dt><dt>A.5.3. <a href="faqs.html#faq-mysql-have-trigger-levels">
        MySQL 8.0
        にはステートメントレベルまたは行レベルのトリガーはありますか。
      </a></dt><dt>A.5.4. <a href="faqs.html#faq-mysql-have-trigger-defaults">
        デフォルトのトリガーはありますか。
      </a></dt><dt>A.5.5. <a href="faqs.html#faq-mysql-how-triggers-managed">
        MySQL
        でトリガーを管理するにはどうすればよいですか。
      </a></dt><dt>A.5.6. <a href="faqs.html#faq-mysql-can-view-all-triggers">
        特定のデータベースのすべてのトリガーを表示する方法はありますか。
      </a></dt><dt>A.5.7. <a href="faqs.html#faq-mysql-how-triggers-stored">
        トリガーはどこに格納されますか。
      </a></dt><dt>A.5.8. <a href="faqs.html#faq-mysql-can-trigger-procedure">
        トリガーはストアドプロシージャーを呼び出すことができますか。
      </a></dt><dt>A.5.9. <a href="faqs.html#faq-mysql-can-triggers-tables">
        トリガーはテーブルにアクセスできますか。
      </a></dt><dt>A.5.10. <a href="faqs.html#faq-mysql-can-triggers-same-events">
        1
        つのテーブルに同じトリガーイベントおよびアクション時間のトリガーを複数定義することはできますか。
      </a></dt><dt>A.5.11. <a href="faqs.html#faq-mysql-can-triggers-remote">
        トリガーはリモートサーバー上のテーブルを更新できますか。
      </a></dt><dt>A.5.12. <a href="faqs.html#faq-mysql-can-triggers-replication">
        トリガーはレプリケーションで動作しますか。
      </a></dt><dt>A.5.13. <a href="faqs.html#faq-mysql-how-triggers-source-replica">
        ソースのトリガーを介して実行されるアクションはレプリカにどのようにレプリケートされますか。
      </a></dt></dl><table border="0" style="width: 100%;"><colgroup><col align="left" width="1%"><col></colgroup><tbody><tr class="question"><td align="left" valign="top"><a name="faq-mysql-where-triggers-docs"></a><a name="idm45302163931984"></a><p><b>A.5.1.</b></p></td><td align="left" valign="top"><p>
        MySQL 8.0
        のトリガーについてのドキュメントはどこにありますか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        <a class="xref" href="stored-objects.html#triggers" title="25.3 トリガーの使用">セクション25.3「トリガーの使用」</a>を参照してください。
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-mysql-where-triggers-forum"></a><a name="idm45302163929200"></a><p><b>A.5.2.</b></p></td><td align="left" valign="top"><p>
        MySQL
        のトリガーについてのディスカッションフォーラムはありますか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        はい。 <a class="ulink" href="https://forums.mysql.com/list.php?99" target="_top">https://forums.mysql.com/list.php?99</a>
        にあります。
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-mysql-have-trigger-levels"></a><a name="idm45302163926416"></a><p><b>A.5.3.</b></p></td><td align="left" valign="top"><p>
        MySQL 8.0
        にはステートメントレベルまたは行レベルのトリガーはありますか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        MySQL 8.0 では、すべてのトリガーは
        <code class="literal">FOR EACH ROW</code>
        です。つまり、トリガーは、挿入、更新または削除される各行に対してアクティブ化されます。
        MySQL 8.0 は <code class="literal">FOR EACH STATEMENT</code>
        を使用したトリガーをサポートしていません。
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-mysql-have-trigger-defaults"></a><a name="idm45302163922224"></a><p><b>A.5.4.</b></p></td><td align="left" valign="top"><p>
        デフォルトのトリガーはありますか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        明示的にはありません。 MySQL は、一部の
        <code class="literal">TIMESTAMP</code> カラム、および
        <code class="literal">AUTO_INCREMENT</code>
        を使用して定義されたカラムに特殊な動作を割り当てています。
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-mysql-how-triggers-managed"></a><a name="idm45302163918112"></a><p><b>A.5.5.</b></p></td><td align="left" valign="top"><p>
        MySQL
        でトリガーを管理するにはどうすればよいですか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        MySQL 8.0
        では、トリガーを作成する場合は
        <code class="literal">CREATE TRIGGER</code>
        ステートメントを使用し、削除する場合は
        <code class="literal">DROP TRIGGER</code>
        を使用します。
        これらのステートメントについては、<a class="xref" href="sql-statements.html#create-trigger" title="13.1.22 CREATE TRIGGER ステートメント">セクション13.1.22「CREATE TRIGGER ステートメント」</a>および<a class="xref" href="sql-statements.html#drop-trigger" title="13.1.34 DROP TRIGGER ステートメント">セクション13.1.34「DROP TRIGGER ステートメント」</a>を参照してください。
      </p><p>
        トリガーに関する情報は、<code class="literal">INFORMATION_SCHEMA.TRIGGERS</code>
        テーブルをクエリーすることによって取得できます。
        <a class="xref" href="information-schema.html#information-schema-triggers-table" title="26.45 INFORMATION_SCHEMA TRIGGERS テーブル">セクション26.45「INFORMATION_SCHEMA TRIGGERS テーブル」</a>を参照してください。
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-mysql-can-view-all-triggers"></a><a name="idm45302163909888"></a><p><b>A.5.6.</b></p></td><td align="left" valign="top"><p>
        特定のデータベースのすべてのトリガーを表示する方法はありますか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        はい。 データベース <code class="literal">dbname</code>
        に定義されているすべてのトリガーのリストを取得するには、<code class="literal">INFORMATION_SCHEMA.TRIGGERS</code>
        テーブルに対して次のようなクエリーを使用します。
      </p><pre class="programlisting">SELECT TRIGGER_NAME, EVENT_MANIPULATION, EVENT_OBJECT_TABLE, ACTION_STATEMENT
    FROM INFORMATION_SCHEMA.TRIGGERS
    WHERE TRIGGER_SCHEMA='<em class="replaceable"><code>dbname</code></em>';
</pre><p>
        このテーブルについては、<a class="xref" href="information-schema.html#information-schema-triggers-table" title="26.45 INFORMATION_SCHEMA TRIGGERS テーブル">セクション26.45「INFORMATION_SCHEMA TRIGGERS テーブル」</a>を参照してください。
      </p><p>
        MySQL に固有の <code class="literal">SHOW TRIGGERS</code>
        ステートメントを使用することもできます。
        <a class="xref" href="sql-statements.html#show-triggers" title="13.7.7.40 SHOW TRIGGERS ステートメント">セクション13.7.7.40「SHOW TRIGGERS ステートメント」</a>を参照してください。
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-mysql-how-triggers-stored"></a><a name="idm45302163900656"></a><p><b>A.5.7.</b></p></td><td align="left" valign="top"><p>
        トリガーはどこに格納されますか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        トリガーは、データディクショナリの一部である
        <code class="literal">mysql.triggers</code>
        システムテーブルに格納されます。
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-mysql-can-trigger-procedure"></a><a name="idm45302163897664"></a><p><b>A.5.8.</b></p></td><td align="left" valign="top"><p>
        トリガーはストアドプロシージャーを呼び出すことができますか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        はい。
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-mysql-can-triggers-tables"></a><a name="idm45302163895520"></a><p><b>A.5.9.</b></p></td><td align="left" valign="top"><p>
        トリガーはテーブルにアクセスできますか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        トリガーは、それ自体が定義されているテーブルの古いデータおよび新しいデータの両方にアクセスできます。
        トリガーはほかのテーブルに影響を与えることもできますが、その関数またはトリガーを呼び出したステートメントによってすでに使用されている
        (読み取りまたは書き込みのために)
        テーブルを変更することはできません。
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-mysql-can-triggers-same-events"></a><a name="idm45302163892848"></a><p><b>A.5.10.</b></p></td><td align="left" valign="top"><p>
        1
        つのテーブルに同じトリガーイベントおよびアクション時間のトリガーを複数定義することはできますか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        MySQL 8.0
        では、同じトリガーイベントおよびアクション時間を持つ特定のテーブルに対して複数のトリガーを定義できます。
        たとえば、1 つのテーブルに対して 2 つの
        <code class="literal">BEFORE UPDATE</code>
        トリガーを定義できます。
        デフォルトでは、同じトリガーイベントおよびアクション時間を持つトリガーは、作成された順序で実行されます。
        トリガーの順序を指定するには、<code class="literal">FOR EACH
        ROW</code> のあとに <code class="literal">FOLLOWS</code> または
        <code class="literal">PRECEDES</code>
        を示す句、および同じトリガーイベントとアクション時間を持つ既存のトリガーの名前を指定します。
        <code class="literal">FOLLOWS</code>
        を指定すると、新しいトリガーは既存のトリガーのあとに実行されます。
        <code class="literal">PRECEDES</code>
        を指定すると、新しいトリガーは既存のトリガーの前に実行されます。
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-mysql-can-triggers-remote"></a><a name="idm45302163884448"></a><p><b>A.5.11.</b></p></td><td align="left" valign="top"><p>
        トリガーはリモートサーバー上のテーブルを更新できますか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        はい。
        リモートサーバー上のテーブルは、<code class="literal">FEDERATED</code>
        ストレージエンジンを使用して更新できます。
        (<a class="xref" href="storage-engines.html#federated-storage-engine" title="16.8 FEDERATED ストレージエンジン">セクション16.8「FEDERATED ストレージエンジン」</a>を参照してください)。
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-mysql-can-triggers-replication"></a><a name="idm45302163880608"></a><p><b>A.5.12.</b></p></td><td align="left" valign="top"><p>
        トリガーはレプリケーションで動作しますか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        はい。
        ただし、それらがどのように機能するかは、MySQL
        <span class="quote">「<span class="quote">「クラシック」</span>」</span>ステートメントベースと行ベースのどちらのレプリケーション形式を使用しているかによって異なります。
      </p><p>
        ステートメントベースレプリケーションを使用する場合、レプリカ上のトリガーは、ソース上で実行される
        (およびレプリカにレプリケートされる)
        ステートメントによって実行されます。
      </p><p>
        行ベースのレプリケーションを使用している場合、ソースで実行されてレプリカにレプリケートされたステートメントのため、トリガーはレプリカで実行されません。
        かわりに、行ベースのレプリケーションを使用すると、ソースでトリガーを実行したことによって発生した変更がレプリカに適用されます。
      </p><p>
        詳細は、<a class="xref" href="replication.html#replication-features-triggers" title="17.5.1.36 レプリケーションとトリガー">セクション17.5.1.36「レプリケーションとトリガー」</a>を参照してください。
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-mysql-how-triggers-source-replica"></a><a name="idm45302163874544"></a><p><b>A.5.13.</b></p></td><td align="left" valign="top"><p>
        ソースのトリガーを介して実行されるアクションはレプリカにどのようにレプリケートされますか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        これは、ステートメントベースのレプリケーションまたは行ベースのレプリケーションのいずれを使用しているかによって異なります。
      </p><p><b>ステートメントベースのレプリケーション. </b>
          まず、ソースに存在するトリガーをレプリカサーバーに再作成する必要があります。
          これが行われると、レプリケーションに関与するほかの標準の
          DML
          ステートメントと同様に、レプリケーションフローが動作します。
          たとえば、レプリケーションソースサーバーに存在する
          <code class="literal">AFTER</code>
          挿入トリガーを持つテーブル <code class="literal">EMP</code>
          について考えてみます。
          レプリカサーバーにも同じ <code class="literal">EMP</code>
          テーブルおよび <code class="literal">AFTER</code>
          挿入トリガーが存在します。
          レプリケーションフローは次のようになります。
        </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
            <code class="literal">INSERT</code>
            ステートメントが <code class="literal">EMP</code>
            に発行されます。
          </p></li><li class="listitem"><p>
            <code class="literal">EMP</code> の <code class="literal">AFTER</code>
            トリガーが実行されます。
          </p></li><li class="listitem"><p>
            <code class="literal">INSERT</code>
            ステートメントがバイナリログに書き込まれます。
          </p></li><li class="listitem"><p>
            レプリカは、<code class="literal">INSERT</code>
            ステートメントを <code class="literal">EMP</code>
            に取得して実行します。
          </p></li><li class="listitem"><p>
            レプリカに存在する <code class="literal">EMP</code> の
            <code class="literal">AFTER</code>
            トリガーがアクティブ化されます。
          </p></li></ol></div><p><b>行ベースのレプリケーション. </b>
          行ベースのレプリケーションを使用すると、ソースでトリガーを実行したことによって発生した変更がレプリカに適用されます。
          ただし、トリガー自体は、実際には行ベースレプリケーションの下のレプリカでは実行されません。
          これは、ソースとレプリカの両方がソースからの変更を適用し、さらにこれらの変更の原因となったトリガーがレプリカに適用された場合、変更がレプリカに
          2
          回適用され、ソースとレプリカのデータが異なるためです。
        </p><p>
        ほとんどの場合、行ベースのレプリケーションおよびステートメントベースのレプリケーションで結果は同じです。
        ただし、ソースとレプリカで異なるトリガーを使用する場合は、行ベースのレプリケーションを使用できません。
        (これは、行ベースの形式では、トリガーが実行される原因となったステートメントではなく、ソースで実行されているトリガーによって行われた変更がレプリカにレプリケートされ、レプリカ上の対応するトリガーが実行されないためです。)
        代わりに、そのようなトリガーが実行されるきっかけとなったステートメントを、ステートメントベースのレプリケーションを使用してレプリケートする必要があります。
      </p><p>
        詳細は、<a class="xref" href="replication.html#replication-features-triggers" title="17.5.1.36 レプリケーションとトリガー">セクション17.5.1.36「レプリケーションとトリガー」</a>を参照してください。
      </p></td></tr></tbody></table></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="faqs-views"></a>A.6 MySQL 8.0 FAQ: ビュー</h2></div></div></div><div class="qandaset"><a name="idm45302163847088"></a><dl><dt>A.6.1. <a href="faqs.html#faq-mysql-where-docs-views">
        MySQL
        のビューについて説明しているドキュメントはどこにありますか。
      </a></dt><dt>A.6.2. <a href="faqs.html#faq-mysql-where-views-forum">
        MySQL
        のビューについてのディスカッションフォーラムはありますか。
      </a></dt><dt>A.6.3. <a href="faqs.html#faq-mysql-where-view-dropped-table">
        基礎テーブルが削除または名前変更された場合、ビューはどうなりますか。
      </a></dt><dt>A.6.4. <a href="faqs.html#faq-mysql-have-table-snapshots">
        MySQL 8.0
        にはテーブルのスナップショットはありますか。
      </a></dt><dt>A.6.5. <a href="faqs.html#faq-mysql-have-materialized-views">
        MySQL 8.0
        にはマテリアライズドビューはありますか。
      </a></dt><dt>A.6.6. <a href="faqs.html#faq-mysql-can-insert-joins-views">
        結合に基づいているビューに挿入できますか。
      </a></dt></dl><table border="0" style="width: 100%;"><colgroup><col align="left" width="1%"><col></colgroup><tbody><tr class="question"><td align="left" valign="top"><a name="faq-mysql-where-docs-views"></a><a name="idm45302163846384"></a><p><b>A.6.1.</b></p></td><td align="left" valign="top"><p>
        MySQL
        のビューについて説明しているドキュメントはどこにありますか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        <a class="xref" href="stored-objects.html#views" title="25.5 ビューの使用">セクション25.5「ビューの使用」</a>を参照してください。
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-mysql-where-views-forum"></a><a name="idm45302163843520"></a><p><b>A.6.2.</b></p></td><td align="left" valign="top"><p>
        MySQL
        のビューについてのディスカッションフォーラムはありますか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        はい。
        <a class="ulink" href="https://forums.mysql.com/list.php?100" target="_top">https://forums.mysql.com/list.php?100</a>
        を参照してください。
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-mysql-where-view-dropped-table"></a><a name="idm45302163840448"></a><p><b>A.6.3.</b></p></td><td align="left" valign="top"><p>
        基礎テーブルが削除または名前変更された場合、ビューはどうなりますか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        ビューが作成されたあとに、その定義が参照しているテーブルまたはビューを削除または変更できます。
        この種類の問題に関してビュー定義を確認するには、<code class="literal">CHECK
        TABLE</code> ステートメントを使用します。
        (<a class="xref" href="sql-statements.html#check-table" title="13.7.3.2 CHECK TABLE ステートメント">セクション13.7.3.2「CHECK TABLE ステートメント」</a>を参照してください。)
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-mysql-have-table-snapshots"></a><a name="idm45302163836016"></a><p><b>A.6.4.</b></p></td><td align="left" valign="top"><p>
        MySQL 8.0
        にはテーブルのスナップショットはありますか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        いいえ。
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-mysql-have-materialized-views"></a><a name="idm45302163833792"></a><p><b>A.6.5.</b></p></td><td align="left" valign="top"><p>
        MySQL 8.0
        にはマテリアライズドビューはありますか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        いいえ。
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-mysql-can-insert-joins-views"></a><a name="idm45302163831648"></a><p><b>A.6.6.</b></p></td><td align="left" valign="top"><p>
        結合に基づいているビューに挿入できますか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        <code class="literal">INSERT</code>
        ステートメントに、関連するテーブルが 1
        つのみであることを明確にするカラムリストがある場合は、実行できます。
      </p><p>
        ビューに対する単一の挿入で、複数のテーブルに挿入することは<span class="emphasis"><em>できません</em></span>。
      </p></td></tr></tbody></table></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="faqs-information-schema"></a>A.7 MySQL 8.0 FAQ: INFORMATION_SCHEMA</h2></div></div></div><div class="qandaset"><a name="idm45302163826544"></a><dl><dt>A.7.1. <a href="faqs.html#faq-mysql-where-docs-information-schema">
        MySQL の INFORMATION_SCHEMA
        データベースについてのドキュメントはどこにありますか。
      </a></dt><dt>A.7.2. <a href="faqs.html#faq-mysql-where-forum-information-schema">
        INFORMATION_SCHEMA
        についてのディスカッションフォーラムはありますか。
      </a></dt><dt>A.7.3. <a href="faqs.html#faq-mysql-where-ansi-information-schema">
        INFORMATION_SCHEMA の ANSI SQL 2003
        仕様はどこにありますか。
      </a></dt><dt>A.7.4. <a href="faqs.html#faq-mysql-compare-oracle-data-dir-info-schema">
        Oracle Data Dictionary と MySQL
        INFORMATION_SCHEMA
        の違いは何ですか。
      </a></dt><dt>A.7.5. <a href="faqs.html#faq-mysql-can-modify-information-schema">
        INFORMATION_SCHEMA
        データベースのテーブルに挿入または変更を行うことはできますか。
      </a></dt></dl><table border="0" style="width: 100%;"><colgroup><col align="left" width="1%"><col></colgroup><tbody><tr class="question"><td align="left" valign="top"><a name="faq-mysql-where-docs-information-schema"></a><a name="idm45302163825792"></a><p><b>A.7.1.</b></p></td><td align="left" valign="top"><p>
        MySQL の <code class="literal">INFORMATION_SCHEMA</code>
        データベースについてのドキュメントはどこにありますか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        <a class="xref" href="information-schema.html" title="第 26 章 INFORMATION_SCHEMA テーブル">第26章「<i>INFORMATION_SCHEMA テーブル</i>」</a>を参照してください。
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-mysql-where-forum-information-schema"></a><a name="idm45302163822256"></a><p><b>A.7.2.</b></p></td><td align="left" valign="top"><p>
        <code class="literal">INFORMATION_SCHEMA</code>
        についてのディスカッションフォーラムはありますか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        <a class="ulink" href="https://forums.mysql.com/list.php?101" target="_top">https://forums.mysql.com/list.php?101</a>
        を参照してください。
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-mysql-where-ansi-information-schema"></a><a name="idm45302163818672"></a><p><b>A.7.3.</b></p></td><td align="left" valign="top"><p>
        <code class="literal">INFORMATION_SCHEMA</code> の ANSI SQL 2003
        仕様はどこにありますか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        残念ながら、正式な仕様は無料では入手できません。
        (ANSI は有料で販売しています。)
        ただし、<em class="citetitle">「SQL-99
        完全、本当に」</em> by Peter Gulutzan や Trudy
        Pelzer など、<code class="literal">INFORMATION_SCHEMA</code>
        を含む標準の包括的な概要を提供するブックがあります。
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-mysql-compare-oracle-data-dir-info-schema"></a><a name="idm45302163814144"></a><p><b>A.7.4.</b></p></td><td align="left" valign="top"><p>
        Oracle Data Dictionary と MySQL
        <code class="literal">INFORMATION_SCHEMA</code>
        の違いは何ですか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        Oracle および MySQL
        は両方とも、テーブルにメタデータを提供しています。
        ただし、Oracle と MySQL
        では異なるテーブル名およびカラム名が使用されています。
        MySQL の実装は、SQL 標準で定義されている
        <code class="literal">INFORMATION_SCHEMA</code> もサポートする DB2
        および SQL Server の実装に似ています。
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-mysql-can-modify-information-schema"></a><a name="idm45302163809808"></a><p><b>A.7.5.</b></p></td><td align="left" valign="top"><p>
        <code class="literal">INFORMATION_SCHEMA</code>
        データベースのテーブルに挿入または変更を行うことはできますか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        いいえ。アプリケーションが特定の標準構造に依存していることがあるため、変更しないでください。
        このため、<span class="emphasis"><em><code class="literal">INFORMATION_SCHEMA</code>
        テーブルまたはデータを変更したことによるバグまたはその他の問題はサポートできません</em></span>。
      </p></td></tr></tbody></table></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="faqs-migration"></a>A.8 MySQL 8.0 FAQ: 移行</h2></div></div></div><div class="qandaset"><a name="idm45302163804624"></a><dl><dt>A.8.1. <a href="faqs.html#faq-mysql-how-migration-mysql">
        MySQL 5.7 から MySQL 8.0
        に移行する方法に関する情報はどこにありますか。
      </a></dt><dt>A.8.2. <a href="faqs.html#faq-mysql-how-storage-engines-changed">
        MySQL 8.0 のストレージエンジン
        (テーブルタイプ)
        のサポートは、以前のバージョンからどのように変更されましたか。
      </a></dt></dl><table border="0" style="width: 100%;"><colgroup><col align="left" width="1%"><col></colgroup><tbody><tr class="question"><td align="left" valign="top"><a name="faq-mysql-how-migration-mysql"></a><a name="idm45302163803920"></a><p><b>A.8.1.</b></p></td><td align="left" valign="top"><p>
        MySQL 5.7 から MySQL 8.0
        に移行する方法に関する情報はどこにありますか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        アップグレード情報については、<a class="xref" href="installing.html#upgrading" title="2.11 MySQL のアップグレード">セクション2.11「MySQL のアップグレード」</a>を参照してください。
        アップグレード時はメジャーバージョンをスキップせずに、各手順でメジャーバージョンから次のメジャーバージョンにアップグレードして、手順の操作を完了してください。
        これはより複雑に見える可能性がありますが、最終的に時間とトラブルを節約します。
        アップグレード中に問題が発生した場合、その起点は、ユーザーまたは
        MySQL Enterprise
        サブスクリプションを保有している場合は MySQL
        サポートによって識別しやすくなります。
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-mysql-how-storage-engines-changed"></a><a name="idm45302163799824"></a><p><b>A.8.2.</b></p></td><td align="left" valign="top"><p>
        MySQL 8.0 のストレージエンジン
        (テーブルタイプ)
        のサポートは、以前のバージョンからどのように変更されましたか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        ストレージエンジンのサポートは次のように変更されました。
        </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
              <code class="literal">ISAM</code> テーブルのサポートは
              MySQL 5.0
              で削除されたため、<code class="literal">ISAM</code>
              の代わりに <code class="literal">MyISAM</code>
              ストレージエンジンを使用してください。
              テーブル <em class="replaceable"><code>tblname</code></em> を
              <code class="literal">ISAM</code> から <code class="literal">MyISAM</code>
              に変更するには、次のようなステートメントを発行します。
            </p><pre class="programlisting">ALTER TABLE <em class="replaceable"><code>tblname</code></em> ENGINE=MYISAM;</pre></li><li class="listitem"><p>
              <code class="literal">MyISAM</code> テーブルの内部
              <code class="literal">RAID</code> も MySQL 5.0
              で削除されました。 これは、2G
              バイトを超えるファイルサイズをサポートしていないファイルシステムで大きいテーブルを許容するために以前使用されていました。
              現在のすべてのファイルシステムではより大きいテーブルが許容されます。<code class="literal">MERGE</code>
              テーブル、ビューなどの新しいほかのソリューションもあります。
            </p></li><li class="listitem"><p>
              すべてのストレージエンジンの
              <code class="literal">VARCHAR</code>
              カラム型で、末尾のスペースが維持されるようになりました。
            </p></li><li class="listitem"><p>
              <code class="literal">MEMORY</code> テーブル (以前は
              <code class="literal">HEAP</code> テーブルと呼ばれました)
              にも <code class="literal">VARCHAR</code>
              カラムを含めることができます。
            </p></li></ul></div><p>
      </p></td></tr></tbody></table></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="faqs-security"></a>A.9 MySQL 8.0 FAQ: セキュリティー</h2></div></div></div><div class="qandaset"><a name="idm45302163779920"></a><dl><dt>A.9.1. <a href="faqs.html#faq-mysql-where-docs-security">
        MySQL
        のセキュリティーの問題に関するドキュメントはどこにありますか。
      </a></dt><dt>A.9.2. <a href="faqs.html#faq-mysql-default-authentication-plugin">
        MySQL 8.0
        のデフォルトの認証プラグインは何ですか。
      </a></dt><dt>A.9.3. <a href="faqs.html#faq-mysql-have-native-ssl">
        MySQL 8.0 には SSL
        に対するネイティブなサポートはありますか。
      </a></dt><dt>A.9.4. <a href="faqs.html#faq-mysql-is-ssl-available">
        SSL サポートは MySQL
        バイナリに組み込まれていますか。または、バイナリを有効にするにはバイナリを自分で再コンパイルする必要がありますか。
      </a></dt><dt>A.9.5. <a href="faqs.html#faq-mysql-have-builtin-ldap">
        MySQL 8.0 には LDAP
        ディレクトリに対する組み込みの認証はありますか。
      </a></dt><dt>A.9.6. <a href="faqs.html#faq-mysql-have-builtin-rbac">
        MySQL 8.0
        にはロールベースのアクセス制御 (RBAC)
        のサポートは含まれていますか。
      </a></dt></dl><table border="0" style="width: 100%;"><colgroup><col align="left" width="1%"><col></colgroup><tbody><tr class="question"><td align="left" valign="top"><a name="faq-mysql-where-docs-security"></a><a name="idm45302163779216"></a><p><b>A.9.1.</b></p></td><td align="left" valign="top"><p>
        MySQL
        のセキュリティーの問題に関するドキュメントはどこにありますか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        最初に<a class="xref" href="security.html" title="第 6 章 セキュリティー">第6章「<i>セキュリティー</i>」</a>をお読みください。
      </p><p>
        特定のセキュリティーの問題に関して役に立つことがある
        MySQL
        ドキュメントのほかの部分としては、次のセクションがあります。
        </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
              <a class="xref" href="security.html#security-guidelines" title="6.1.1 セキュリティーガイドライン">セクション6.1.1「セキュリティーガイドライン」</a>。
            </p></li><li class="listitem"><p>
              <a class="xref" href="security.html#security-against-attack" title="6.1.3 攻撃者に対する MySQL のセキュアな状態の維持">セクション6.1.3「攻撃者に対する MySQL のセキュアな状態の維持」</a>。
            </p></li><li class="listitem"><p>
              <a class="xref" href="error-handling.html#resetting-permissions" title="B.3.3.2 root のパスワードをリセットする方法">セクションB.3.3.2「root のパスワードをリセットする方法」</a>。
            </p></li><li class="listitem"><p>
              <a class="xref" href="security.html#changing-mysql-user" title="6.1.5 MySQL を通常ユーザーとして実行する方法">セクション6.1.5「MySQL を通常ユーザーとして実行する方法」</a>。
            </p></li><li class="listitem"><p>
              <a class="xref" href="security.html#security-options" title="6.1.4 セキュリティー関連の mysqld オプションおよび変数">セクション6.1.4「セキュリティー関連の mysqld オプションおよび変数」</a>。
            </p></li><li class="listitem"><p>
              <a class="xref" href="security.html#load-data-local-security" title="6.1.6 LOAD DATA LOCAL のセキュリティー上の考慮事項">セクション6.1.6「LOAD DATA LOCAL のセキュリティー上の考慮事項」</a>。
            </p></li><li class="listitem"><p>
              <a class="xref" href="installing.html#postinstallation" title="2.10 インストール後のセットアップとテスト">セクション2.10「インストール後のセットアップとテスト」</a>。
            </p></li><li class="listitem"><p>
              <a class="xref" href="security.html#encrypted-connections" title="6.3 暗号化された接続の使用">セクション6.3「暗号化された接続の使用」</a>。
            </p></li><li class="listitem"><p>
              <a class="ulink" href="https://dev.mysql.com/doc/extending-mysql/8.0/en/adding-loadable-function.html#loadable-function-security" target="_top">Loadable Function Security Precautions</a>。
            </p></li></ul></div><p>
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-mysql-default-authentication-plugin"></a><a name="idm45302163761248"></a><p><b>A.9.2.</b></p></td><td align="left" valign="top"><p>
        MySQL 8.0
        のデフォルトの認証プラグインは何ですか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        MySQL 8.0
        のデフォルトの認証プラグインは
        <code class="literal">caching_sha2_password</code> です。
        このプラグインについては、<a class="xref" href="security.html#caching-sha2-pluggable-authentication" title="6.4.1.2 SHA-2 プラガブル認証のキャッシュ">セクション6.4.1.2「SHA-2 プラガブル認証のキャッシュ」</a>を参照してください。
      </p><p>
        <code class="literal">caching_sha2_password</code>
        プラグインは、<code class="literal">mysql_native_password</code>
        プラグイン (以前の MySQL
        シリーズのデフォルトプラグイン)
        よりもセキュアなパスワード暗号化を提供します。
        サーバー操作のためのデフォルトのプラグインのこの変更による影響、およびサーバーとクライアントおよびコネクタとの互換性については、<a class="xref" href="installing.html#upgrade-caching-sha2-password" title="優先認証プラグインとしての caching_sha2_password">優先認証プラグインとしての caching_sha2_password</a>
        を参照してください。
      </p><p>
        プラガブル認証およびその他の使用可能な認証プラグインの一般情報は、<a class="xref" href="security.html#pluggable-authentication" title="6.2.17 プラガブル認証">セクション6.2.17「プラガブル認証」</a>
        および <a class="xref" href="security.html#authentication-plugins" title="6.4.1 認証プラグイン">セクション6.4.1「認証プラグイン」</a>
        を参照してください。
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-mysql-have-native-ssl"></a><a name="idm45302163752016"></a><p><b>A.9.3.</b></p></td><td align="left" valign="top"><p>
        MySQL 8.0 には SSL
        に対するネイティブなサポートはありますか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        ほとんどの 8.0
        バイナリには、クライアントおよびサーバー間の
        SSL 接続のサポートがあります。
        <a class="xref" href="security.html#encrypted-connections" title="6.3 暗号化された接続の使用">セクション6.3「暗号化された接続の使用」</a>を参照してください。
      </p><p>
        (たとえば) クライアントアプリケーションで SSL
        接続がサポートされない場合は、SSH
        を使用して接続をトンネルすることもできます。
        例については、<a class="xref" href="security.html#windows-and-ssh" title="6.3.4 SSH を使用した Windows から MySQL へのリモート接続">セクション6.3.4「SSH を使用した Windows から MySQL へのリモート接続」</a>を参照してください。
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-mysql-is-ssl-available"></a><a name="idm45302163747264"></a><p><b>A.9.4.</b></p></td><td align="left" valign="top"><p>
        SSL サポートは MySQL
        バイナリに組み込まれていますか。または、バイナリを有効にするにはバイナリを自分で再コンパイルする必要がありますか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        ほとんどの 8.0
        バイナリでは、保護、認証、またはその両方のクライアント/サーバー接続に対して
        SSL が有効になっています。
        <a class="xref" href="security.html#encrypted-connections" title="6.3 暗号化された接続の使用">セクション6.3「暗号化された接続の使用」</a>を参照してください。
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-mysql-have-builtin-ldap"></a><a name="idm45302163743824"></a><p><b>A.9.5.</b></p></td><td align="left" valign="top"><p>
        MySQL 8.0 には LDAP
        ディレクトリに対する組み込みの認証はありますか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        Enterprise エディションには、LDAP
        ディレクトリに対する認証をサポートする
        <a class="link" href="security.html#pam-pluggable-authentication" title="6.4.1.5 PAM プラガブル認証">PAM Authentication
        Plugin</a> が含まれています。
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-mysql-have-builtin-rbac"></a><a name="idm45302163740544"></a><p><b>A.9.6.</b></p></td><td align="left" valign="top"><p>
        MySQL 8.0
        にはロールベースのアクセス制御 (RBAC)
        のサポートは含まれていますか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        現在はありません。
      </p></td></tr></tbody></table></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="faqs-mysql-cluster"></a>A.10 MySQL 8.0 FAQ: NDB Cluster</h2></div></div></div><a class="indexterm" name="idm45302163737568"></a><a class="indexterm" name="idm45302163735840"></a><a class="indexterm" name="idm45302163733808"></a><p>
      次のセクションでは、MySQL NDB Cluster および <code class="literal">NDB</code> ストレージエンジンについてよくある質問に答えます。
    </p><div class="qandaset"><a name="idm45302163730432"></a><dl><dt>A.10.1. <a href="faqs.html#faq-cluster-which-versions-support-cluster">
        NDB Cluster をサポートする MySQL ソフトウェアのバージョンはどれですか。 ソースからコンパイルする必要がありますか。 
      </a></dt><dt>A.10.2. <a href="faqs.html#faq-cluster-what-is-ndb">
        「NDB」 および 「NDBCLUSTER」 は何を意味していますか。
      </a></dt><dt>A.10.3. <a href="faqs.html#faq-cluster-what-cluster-vs-replication">
        NDB Cluster の使用と MySQL レプリケーションの使用の違いは何ですか。
      </a></dt><dt>A.10.4. <a href="faqs.html#faq-cluster-how-cluster-network-need">
        NDB Cluster を実行するために特別なネットワークは必要ですか。 クラスタ内のコンピュータはどのように通信しますか。 
      </a></dt><dt>A.10.5. <a href="faqs.html#faq-cluster-what-min-hosts-cluster">
        NDB Cluster を実行するために必要なコンピュータの数とその理由を教えてください。
      </a></dt><dt>A.10.6. <a href="faqs.html#faq-cluster-what-hosts-do-clustering">
        NDB Cluster では、どのようなコンピュータが機能しますか。
      </a></dt><dt>A.10.7. <a href="faqs.html#faq-cluster-what-show-nodegroup-star">
        NDB Cluster 管理クライアントで SHOW コマンドを実行すると、次のような出力行が表示されます:
      </a></dt><dt>A.10.8. <a href="faqs.html#faq-cluster-which-os-clustering">
        NDB Cluster はどのオペレーティングシステムで使用できますか。
      </a></dt><dt>A.10.9. <a href="faqs.html#faq-cluster-what-cluster-requirements">
        NDB Cluster を実行するためのハードウェア要件は何ですか。
      </a></dt><dt>A.10.10. <a href="faqs.html#faq-cluster-what-memory-needed-cluster">
        NDB Cluster を使用するには、どのくらいの RAM が必要ですか。 ディスクメモリーを使用することはできますか。 
      </a></dt><dt>A.10.11. <a href="faqs.html#faq-cluster-what-cluster-file-systems">
        NDB Cluster ではどのファイルシステムを使用できますか。 ネットワークファイルシステムまたはネットワーク共有は使用できますか。 
      </a></dt><dt>A.10.12. <a href="faqs.html#faq-cluster-can-cluster-vm">
        NDB Cluster ノードを仮想マシン (VMWare、VirtualBox、Parallels、Xen によって作成されたものなど) 内で実行できますか。
      </a></dt><dt>A.10.13. <a href="faqs.html#faq-cluster-why-error-1114">
        NDB Cluster データベースにデータを移入しようとしています。 ロード処理が予期せずに終了し、次のようなエラーメッセージが表示されます。 
      </a></dt><dt>A.10.14. <a href="faqs.html#faq-cluster-can-cluster-remote-network">
        NDB Cluster は TCP/IP を使用します。 これは、1 つ以上のノードをリモートの場所に配置して、インターネット経由で実行できることを意味しますか。 
      </a></dt><dt>A.10.15. <a href="faqs.html#faq-cluster-what-language-needed-cluster">
        NDB Cluster を使用するには、新しいプログラミング言語またはクエリー言語を学習する必要がありますか。
      </a></dt><dt>A.10.16. <a href="faqs.html#faq-cluster-what-api-cluster-support">
        NDB Cluster でサポートされているプログラミング言語および API は何ですか。
      </a></dt><dt>A.10.17. <a href="faqs.html#faq-cluster-what-cluster-management-tools">
        NDB Cluster には管理ツールは含まれていますか。
      </a></dt><dt>A.10.18. <a href="faqs.html#faq-cluster-what-cluster-errors-are">
        NDB Cluster の使用時にエラーまたは警告メッセージが何を意味しているかを調べるにはどうすればよいですか。
      </a></dt><dt>A.10.19. <a href="faqs.html#faq-cluster-is-cluster-transaction-safe">
        NDB Cluster トランザクションセーフですか。 どのような分離レベルがサポートされますか。 
      </a></dt><dt>A.10.20. <a href="faqs.html#faq-cluster-what-storage-engines-cluster">
        NDB Cluster でサポートされているストレージエンジンを教えてください。
      </a></dt><dt>A.10.21. <a href="faqs.html#faq-cluster-is-data-loss-no-power">
        致命的な障害が発生した場合 (たとえば、都市全体の電力が失われ、UPS で障害が発生した場合、すべてのデータが失われますか。
      </a></dt><dt>A.10.22. <a href="faqs.html#faq-cluster-can-cluster-fullindex">
        NDB Cluster で FULLTEXT インデックスを使用できますか。
      </a></dt><dt>A.10.23. <a href="faqs.html#faq-cluster-can-multinode-cluster-one-host">
        単一のコンピュータ上で複数のノードを実行できますか。
      </a></dt><dt>A.10.24. <a href="faqs.html#faq-cluster-how-add-nodes-no-restart">
        NDB Cluster を再起動せずにデータノードを追加できますか。
      </a></dt><dt>A.10.25. <a href="faqs.html#faq-cluster-what-cluster-limitations">
        NDB Cluster を使用するときに注意するべき制限はありますか。
      </a></dt><dt>A.10.26. <a href="faqs.html#faq-cluster-have-foreign-keys-cluster">
        NDB Cluster は外部キーをサポートしていますか。
      </a></dt><dt>A.10.27. <a href="faqs.html#faq-cluster-how-import-db-cluster">
        NDB Cluster に既存の MySQL データベースをインポートするにはどうすればよいですか。
      </a></dt><dt>A.10.28. <a href="faqs.html#faq-cluster-how-nodes-communicate">
        NDB Cluster ノードはどのように相互に通信しますか。
      </a></dt><dt>A.10.29. <a href="faqs.html#faq-cluster-what-is-arbitrator">
        アービトレータとは何ですか。
      </a></dt><dt>A.10.30. <a href="faqs.html#faq-cluster-what-types-cluster-support">
        NDB Cluster でサポートされているデータ型は何ですか。
      </a></dt><dt>A.10.31. <a href="faqs.html#faq-cluster-how-start-stop-cluster">
        NDB Cluster を起動および停止するにはどうすればよいですか。
      </a></dt><dt>A.10.32. <a href="faqs.html#faq-cluster-what-shutdown-do-data">
        NDB Cluster をシャットダウンすると、NDB Cluster データはどうなりますか。
      </a></dt><dt>A.10.33. <a href="faqs.html#faq-cluster-have-multiple-node-managers">
        NDB Cluster に複数の管理ノードを設定することをお勧めしますか。
      </a></dt><dt>A.10.34. <a href="faqs.html#faq-cluster-have-different-cluster-hosts">
        1 つの NDB Cluster に異なる種類のハードウェアとオペレーティングシステムを混在させることはできますか。
      </a></dt><dt>A.10.35. <a href="faqs.html#faq-cluster-have-multiple-nodes-one-host">
        単一のホスト上で 2 つのデータノードを実行できますか。 2 つの SQL ノードは実行できますか。 
      </a></dt><dt>A.10.36. <a href="faqs.html#faq-cluster-have-host-names-cluster">
        NDB Cluster でホスト名を使用できますか。
      </a></dt><dt>A.10.37. <a href="faqs.html#faq-cluster-have-ipv6-support-cluster">
        NDB Cluster は IPv6 をサポートしていますか。
      </a></dt><dt>A.10.38. <a href="faqs.html#faq-cluster-have-multiple-users-servers-cluster">
        複数の MySQL サーバーを持つ NDB Cluster で MySQL ユーザーを処理するにはどうすればよいですか。
      </a></dt><dt>A.10.39. <a href="faqs.html#faq-cluster-how-continue-after-node-error">
        SQL ノードの 1 つで障害が発生した場合に、クエリーの送信を続けるにはどうすればよいですか。
      </a></dt><dt>A.10.40. <a href="faqs.html#faq-cluster-how-backup-restore-cluster">
        NDB Cluster をバックアップおよび復元するにはどうすればよいですか。
      </a></dt><dt>A.10.41. <a href="faqs.html#faq-cluster-what-angel-process">
        「エンジェルプロセス」とは何ですか。
      </a></dt></dl><table border="0" style="width: 100%;"><colgroup><col align="left" width="1%"><col></colgroup><tbody><tr class="question"><td align="left" valign="top"><a name="faq-cluster-which-versions-support-cluster"></a><a name="idm45302163729632"></a><p><b>A.10.1.</b></p></td><td align="left" valign="top"><p>
        NDB Cluster をサポートする MySQL ソフトウェアのバージョンはどれですか。 ソースからコンパイルする必要がありますか。 
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        NDB Cluster は、標準の MySQL Server 8.0 リリースではサポートされません。 代わりに、MySQL NDB Cluster は別の製品として提供されます。 使用可能な NDB Cluster リリースシリーズには、次のものが含まれます: 
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><b>NDB Cluster 7.2. </b>
              このシリーズは、新しいデプロイメントまたはメンテナンスではサポートされなくなりました。 NDB Cluster 7.2 のユーザーは、できるだけ早く新しいリリースシリーズにアップグレードするようにしてください。 新しい配備では、最新の NDB Cluster 8.0 リリースを使用することをお勧めします。 
            </p></li><li class="listitem"><p><b>NDB Cluster 7.3. </b>
              このシリーズは NDB Cluster の以前の General Availability (GA) バージョンであり、本番で引き続き使用できますが、新しい配備では最新の NDB Cluster 8.0 リリースを使用することをお勧めします。 最新の NDB Cluster 7.3 リリースは、<a class="ulink" href="https://dev.mysql.com/downloads/cluster/" target="_top">https://dev.mysql.com/downloads/cluster/</a> から取得できます。 
            </p></li><li class="listitem"><p><b>NDB Cluster 7.4. </b>
              このシリーズは NDB Cluster の以前の General Availability (GA) バージョンであり、本番で引き続き使用できますが、新しい配備では最新の NDB Cluster 8.0 リリースを使用することをお勧めします。 最新の NDB Cluster 7.4 リリースは、<a class="ulink" href="https://dev.mysql.com/downloads/cluster/" target="_top">https://dev.mysql.com/downloads/cluster/</a> から取得できます。 
            </p></li><li class="listitem"><p><b>NDB Cluster 7.5. </b>
              このシリーズは NDB Cluster の以前の General Availability (GA) バージョンであり、本番で引き続き使用できますが、新しい配備では最新の NDB Cluster 7.6 リリースを使用することをお勧めします。 最新の NDB Cluster 7.5 リリースは、<a class="ulink" href="https://dev.mysql.com/downloads/cluster/" target="_top">https://dev.mysql.com/downloads/cluster/</a> から取得できます。 
            </p></li><li class="listitem"><p><b>NDB Cluster 7.6. </b>
              このシリーズは NDB Cluster の以前の General Availability (GA) バージョンであり、本番で引き続き使用できますが、新しい配備では最新の NDB Cluster 8.0 リリースを使用することをお勧めします。 最新の NDB Cluster 7.6 リリースは、<a class="ulink" href="https://dev.mysql.com/downloads/cluster/" target="_top">https://dev.mysql.com/downloads/cluster/</a> から取得できます。 
            </p></li><li class="listitem"><p><b>NDB Cluster 8.0. </b>
              このシリーズは、<code class="literal">NDB</code> ストレージエンジンおよび MySQL Server 8.0 のバージョン 8.0 に基づいた NDB Cluster の最新の General Availability (GA) バージョンです。 NDB Cluster 8.0 は本番で使用できます。本番用の新しい配備では、現在 NDB Cluster 8.0.23 であるこのシリーズの最新の GA リリースを使用するようにしてください。 <a class="ulink" href="https://dev.mysql.com/downloads/cluster/" target="_top">https://dev.mysql.com/downloads/cluster/</a> から最新の NDB Cluster 8.0 リリースを取得できます。 このシリーズの新機能およびその他の重要な変更の詳細は、<a class="ulink" href="https://dev.mysql.com/doc/refman/8.0/en/mysql-cluster-what-is-new.html" target="_top">What is New in NDB Cluster</a> を参照してください。 
            </p></li></ul></div><p>
        NDB Cluster はソース (<a class="xref" href="mysql-cluster.html#mysql-cluster-install-linux-source" title="23.2.1.4 Linux でのソースからの NDB Cluster の構築">セクション23.2.1.4「Linux でのソースからの NDB Cluster の構築」</a> および <a class="xref" href="mysql-cluster.html#mysql-cluster-install-windows-source" title="23.2.2.2 Windows でのソースからの NDB Cluster のコンパイルとインストール">セクション23.2.2.2「Windows でのソースからの NDB Cluster のコンパイルとインストール」</a> を参照) から取得およびコンパイルできますが、もっとも特殊なケースを除くすべてのケースで、使用しているオペレーティングシステムおよび状況に適した Oracle によって提供される次のインストーラのいずれかを使用することをお勧めします:
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            web ベースの <a class="link" href="mysql-cluster.html#mysql-cluster-installer" title="23.2.8 NDB Cluster Auto-Installer (サポートされなくなりました)">NDB Cluster Auto-Installer</a> (<code class="literal">NDB</code> でサポートされているすべてのプラットフォームで動作)
          </p></li><li class="listitem"><p>
            Linux <a class="link" href="mysql-cluster.html#mysql-cluster-install-linux-binary" title="23.2.1.1 Linux への NDB Cluster バイナリリリースのインストール">binary release</a> (<code class="filename">tar.gz</code> ファイル)
          </p></li><li class="listitem"><p>
            Linux <a class="link" href="mysql-cluster.html#mysql-cluster-install-linux-rpm" title="23.2.1.2 RPM から NDB Cluster をインストール">RPM package</a>
          </p></li><li class="listitem"><p>
            Linux <a class="link" href="mysql-cluster.html#mysql-cluster-install-debian" title="23.2.1.3 .deb ファイルを使用した NDB Cluster のインストール"><code class="filename">.deb</code> file</a>
          </p></li><li class="listitem"><p>
            Windows <a class="link" href="mysql-cluster.html#mysql-cluster-install-windows-binary" title="23.2.2.1 バイナリリリースから Windows への NDB Cluster のインストール">binary <span class="quote">「<span class="quote">no-install</span>」</span> release</a>
          </p></li><li class="listitem"><p>
            Windows <a class="link" href="installing.html#mysql-installer" title="2.3.3 MySQL Installer for Windows">MSI Installer</a>
          </p></li></ul></div><p>
        インストールパッケージは、プラットフォームパッケージ管理システムからも入手できます。
      </p><p>
        使用している MySQL Server で <code class="literal">NDB</code> がサポートされるかどうかを判別するには、<code class="literal">SHOW VARIABLES LIKE 'have_%'</code>、<code class="literal">SHOW ENGINES</code>、または <code class="literal">SHOW PLUGINS</code> ステートメントのいずれかを使用します。
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-cluster-what-is-ndb"></a><a name="idm45302163687232"></a><p><b>A.10.2.</b></p></td><td align="left" valign="top"><p>
        <span class="quote">「<span class="quote">NDB</span>」</span> および <span class="quote">「<span class="quote">NDBCLUSTER</span>」</span> は何を意味していますか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        <span class="quote">「<span class="quote">NDB</span>」</span> は <span class="quote">「<span class="quote"><span class="bold"><strong>N</strong></span>etwork <span class="bold"><strong>D</strong></span>ata<span class="bold"><strong>b</strong></span>ase</span>」</span> を意味しています。 <code class="literal">NDB</code> と <code class="literal">NDBCLUSTER</code> はどちらも、MySQL でのクラスタリングのサポートを可能にするストレージエンジンの名前です。 <code class="literal">NDB</code> をお薦めしますが、どちらの名前も正しいです。 
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-cluster-what-cluster-vs-replication"></a><a name="idm45302163679104"></a><p><b>A.10.3.</b></p></td><td align="left" valign="top"><p>
        NDB Cluster の使用と MySQL レプリケーションの使用の違いは何ですか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        従来の MySQL レプリケーションでは、ソース MySQL サーバーが 1 つ以上のレプリカを更新します。 トランザクションは順次コミットされ、遅いトランザクションによってレプリカがソースより遅れる可能性があります。 これは、ソースに障害が発生した場合、レプリカが最後のいくつかのトランザクションを記録していない可能性があることを意味します。 <code class="literal">InnoDB</code> などのトランザクションセーフエンジンが使用されている場合、トランザクションはレプリカで完了するか、まったく適用されませんが、レプリケーションではソースとレプリカのすべてのデータが常に一貫していることは保証されません。 NDB Cluster では、すべてのデータノードの同期が維持され、いずれかのデータノードによってコミットされたトランザクションがすべてのデータノードに対してコミットされます。 データノードの障害が発生した場合、ほかのすべてのデータノードでは整合性のある状態が維持されます。 
      </p><p>
        つまり、標準の MySQL レプリケーションは<span class="firstterm">非同期</span>ですが、NDB Cluster は<span class="firstterm">同期</span>です。
      </p><p>
        非同期レプリケーションは NDB Cluster でも使用できます。 <span class="firstterm">NDB Cluster レプリケーション</span> (<span class="quote">「<span class="quote">geo-replication</span>」</span> とも呼ばれる) には、2 つの NDB Cluster 間および NDB Cluster から非クラスタ MySQL サーバーへの両方をレプリケートする機能が含まれています。 <a class="xref" href="mysql-cluster.html#mysql-cluster-replication" title="23.6 NDB Cluster レプリケーション">セクション23.6「NDB Cluster レプリケーション」</a>を参照してください。 
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-cluster-how-cluster-network-need"></a><a name="idm45302163669152"></a><p><b>A.10.4.</b></p></td><td align="left" valign="top"><p>
        NDB Cluster を実行するために特別なネットワークは必要ですか。 クラスタ内のコンピュータはどのように通信しますか。 
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        NDB Cluster は、TCP/IP を使用してコンピュータを接続する高帯域幅環境で使用することを目的としています。 そのパフォーマンスは、クラスタ内のコンピュータ間の接続速度に直接関係しています。 NDB Cluster の最小接続要件には、標準的な 100 メガビットイーサネットネットワークまたは同等のものが含まれます。 可能な場合はギガビット Ethernet を使用することをお勧めします。 
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-cluster-what-min-hosts-cluster"></a><a name="idm45302163666208"></a><p><b>A.10.5.</b></p></td><td align="left" valign="top"><p>
        NDB Cluster を実行するために必要なコンピュータの数とその理由を教えてください。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        実行可能なクラスタの実行には、少なくとも 3 台のコンピュータが必要となります。 ただし、NDB Cluster 内のコンピュータの最小<span class="emphasis"><em>推奨</em></span>数は 4 です: それぞれが管理ノードと SQL ノードを実行し、2 台のコンピュータがデータノードとして機能します。 データノードを 2 台にする目的は冗長性を持たせるためです。管理ノードは別個のマシンで実行して、いずれかのデータノードで障害が発生した場合にアービトレーションサービスが継続されることを保証する必要があります。 
      </p><p>
        スループットおよび高可用性を向上させるには、複数の SQL ノード (クラスタに接続された MySQL サーバー) を使用してください。 複数の管理サーバーを実行することもできます (必須ではありません)。 
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-cluster-what-hosts-do-clustering"></a><a name="idm45302163661280"></a><p><b>A.10.6.</b></p></td><td align="left" valign="top"><p>
        NDB Cluster では、どのようなコンピュータが機能しますか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        NDB Cluster には物理的な編成と論理的な編成の両方があり、コンピュータは物理的な要素です。 クラスタの論理要素または機能要素は<span class="firstterm">ノード</span>と呼ばれ、クラスタのノードを収容するコンピュータは<span class="firstterm">クラスタホスト</span>と呼ばれることがあります。 クラスタ内の特定のロールにそれぞれ対応する 3 つのタイプのノードがあります。 これらを次に示します。 
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><b>管理ノード. </b>
              このノードはクラスタ全体の管理サービス (起動、シャットダウン、バックアップ、およびほかのノードの構成データを含む) を提供します。 管理ノードサーバーはアプリケーション <span class="command"><strong>ndb_mgmd</strong></span> として実装され、NDB Cluster の制御に使用される管理クライアントは <span class="command"><strong>ndb_mgm</strong></span> です。 これらのプログラムについては、<a class="xref" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgmd" title="23.4.4 ndb_mgmd — NDB Cluster 管理サーバーデーモン">セクション23.4.4「ndb_mgmd — NDB Cluster 管理サーバーデーモン」</a>および<a class="xref" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgm" title="23.4.5 ndb_mgm — NDB Cluster 管理クライアント">セクション23.4.5「ndb_mgm — NDB Cluster 管理クライアント」</a>を参照してください。 
            </p></li><li class="listitem"><p><b>データノード. </b>
              このタイプのノードは、データを格納およびレプリケートします。 データノードの機能は、<code class="literal">NDB</code> データノードプロセス<span class="command"><strong>ndbd</strong></span> のインスタンスによって処理されます。 詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-programs-ndbd" title="23.4.1 ndbd — NDB Cluster データノードデーモン">セクション23.4.1「ndbd — NDB Cluster データノードデーモン」</a>を参照してください。 
            </p></li><li class="listitem"><p><b>SQL ノード. </b>
              これは、<code class="literal">NDBCLUSTER</code> ストレージエンジンをサポートして構築され、エンジンを有効にするための <code class="option">--ndb-cluster</code> オプションと NDB Cluster 管理サーバーに接続できるようにするための <code class="option">--ndb-connectstring</code> オプションで起動される MySQL Server (<span class="command"><strong>mysqld</strong></span>) の単なるインスタンスです。 これらのオプションについては、<a class="xref" href="mysql-cluster.html#mysql-cluster-program-options-mysqld" title="23.3.3.9.1 NDB Cluster の MySQL Server オプション">セクション23.3.3.9.1「NDB Cluster の MySQL Server オプション」</a>を参照してください。 
            </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
              <span class="firstterm">API ノード</span>は、データの格納および取得のためにクラスタのデータノードを直接使用するアプリケーションです。 このため、SQL ノードは MySQL サーバーを使用してクラスタへの SQL インタフェースを提供する API ノードの一種であると考えることができます。 NDB Cluster データに直接のオブジェクト指向トランザクションおよびスキャンインタフェースを提供する NDB API を使用して、そのようなアプリケーション (MySQL Server に依存しない) を記述できます。詳細は、<a class="ulink" href="https://dev.mysql.com/doc/ndbapi/en/overview-ndb-api.html" target="_top">NDB Cluster API Overview: The NDB API</a> を参照してください。 
            </p></div></li></ul></div></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-cluster-what-show-nodegroup-star"></a><a name="idm45302163637968"></a><p><b>A.10.7.</b></p></td><td align="left" valign="top"><p>
        NDB Cluster 管理クライアントで <code class="literal">SHOW</code> コマンドを実行すると、次のような出力行が表示されます:
      </p><pre class="programlisting">id=2    @10.100.10.32  (Version: 8.0.23-ndb-8.0.23 Nodegroup: 0, *)
</pre><p>
        <code class="literal">「*」</code>は何を意味していますか。 このノードはほかのノードとどのように異なりますか。 
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        最も簡単な回答は、<span class="quote">「<span class="quote">「NDB Cluster のソースコードを記述または分析するソフトウェアエンジニアでないかぎり、これは制御できないため、どのような場合でも心配する必要はありません」</span>」</span>です。
      </p><p>
        この回答に満足できない場合、より長くテクニカルなバージョンは次のとおりです。
      </p><p>
        NDB Cluster 内の多くのメカニズムでは、データノード間で分散調整が必要です。 これらの分散アルゴリズムおよびプロトコルには、グローバルチェックポイント、DDL (スキーマ) の変更、およびノードの再起動処理が含まれます。 この調整を単純にするために、それらのメンバーのいずれかがリーダーとして動作するようにデータノードで<span class="quote">「<span class="quote">選出</span>」</span>されます。 この選択に影響を与えるユーザー向けメカニズムはありません。これは完全に自動です。これは NDB Cluster 内部アーキテクチャーの重要な部分です。 
      </p><p>
        ノードがこれらのメカニズムの<span class="quote">「<span class="quote">リーダー</span>」</span>として動作する場合、通常、それがアクティビティーの調整の中心となり、<span class="quote">「<span class="quote">フォロワー</span>」</span>として動作するほかのノードは、リーダーによって指示されたアクティビティーの各自の担当分を実行します。 リーダーとして動作するノードで障害が発生すると、残りのノードによって新しいリーダーが選出されます。 古いリーダーによって調整されていた進行中のタスクは、実際に関係するメカニズムに従って、失敗するか、新しいリーダーによって続行されます。 
      </p><p>
        これらの各種のメカニズムおよびプロトコルの一部で別のリーダーノードが使用されることがありますが、一般的には、それらのすべてで同じリーダーが選択されます。 管理クライアントの <code class="literal">SHOW</code> の出力でリーダーとして示されるノードは、DDL およびメタデータアクティビティの調整を担当する <code class="literal">DICT</code> マネージャと内部的に呼ばれます。 
      </p><p>
        NDB Cluster は、リーダーの選択がクラスタ自体の外部で認識できないように設計されています。 たとえば、現在のリーダーの CPU またはリソースの使用量がほかのデータノードより著しく高いことはなく、リーダーで障害が発生した場合にほかのデータノードで障害が発生した場合よりクラスタに対して特別に大きい影響があるということはありません。 
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-cluster-which-os-clustering"></a><a name="idm45302163623008"></a><p><b>A.10.8.</b></p></td><td align="left" valign="top"><p>
        NDB Cluster はどのオペレーティングシステムで使用できますか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        NDB Cluster は、ほとんどの Unix に似たオペレーティングシステムでサポートされています。 NDB Cluster は、Microsoft Windows オペレーティングシステムの本番設定でもサポートされています。 
      </p><p>
        さまざまなオペレーティングシステムバージョン、オペレーティングシステム配布、およびハードウェアプラットフォームで NDB Cluster に提供されるサポートのレベルに関する詳細は、<a class="ulink" href="https://www.mysql.com/support/supportedplatforms/cluster.html" target="_top">https://www.mysql.com/support/supportedplatforms/cluster.html</a> を参照してください。
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-cluster-what-cluster-requirements"></a><a name="idm45302163618848"></a><p><b>A.10.9.</b></p></td><td align="left" valign="top"><p>
        NDB Cluster を実行するためのハードウェア要件は何ですか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        NDB Cluster は、<code class="literal">NDB</code> 対応バイナリが使用可能な任意のプラットフォームで実行するようにしてください。 データノードおよび API ノードの場合、より速い CPU およびより多くのメモリーによって、パフォーマンスが向上することがあり、64 ビットの CPU は 32 ビットのプロセッサよりも効率的である場合があります。 各ノードのデータベースの分担を保持するために、データノードに使用されるマシンに十分なメモリーがある必要があります (詳細は、<span class="emphasis"><em>「必要な RAM のサイズはどれくらいですか」</em></span>を参照してください)。 NDB Cluster 管理サーバーの実行にのみ使用されるコンピュータの場合、要件は最小限です。一般に、このタスクには共通のデスクトップ PC (または同等のもの) で十分です。 ノードは標準の TCP/IP ネットワークおよびハードウェアを使用して通信できます。 高速の SCI プロトコルを使用することもできます。ただし、SCI を使用するには、特殊なネットワークハードウェアおよびソフトウェアが必要となります (<a class="xref" href="mysql-cluster.html#mysql-cluster-interconnects" title="23.3.4 NDB Cluster での高速インターコネクトの使用">セクション23.3.4「NDB Cluster での高速インターコネクトの使用」</a>を参照してください)。 
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-cluster-what-memory-needed-cluster"></a><a name="idm45302163612720"></a><p><b>A.10.10.</b></p></td><td align="left" valign="top"><p>
        NDB Cluster を使用するには、どのくらいの RAM が必要ですか。 ディスクメモリーを使用することはできますか。 
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        NDB Cluster は最初はインメモリーとしてのみ実装されましたが、現在使用可能なすべてのバージョンで NDB Cluster をディスクに格納する機能も提供されています。 詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-disk-data" title="23.5.10 NDB Cluster ディスクデータテーブル">セクション23.5.10「NDB Cluster ディスクデータテーブル」</a>を参照してください。 
      </p><p>
        インメモリーの <code class="literal">NDB</code> テーブルの場合は、クラスタ内の各データノードで必要となる RAM の容量のおおよその見積もりを取得するために次の式を使用できます。
      </p><pre class="programlisting">(SizeofDatabase × NumberOfReplicas × 1.1 ) / NumberOfDataNodes
</pre><p>
        メモリー要件をより正確に計算するには、クラスタデータベースの各テーブルで行ごとに必要となる格納領域 (詳細は、<a class="xref" href="data-types.html#storage-requirements" title="11.7 データ型のストレージ要件">セクション11.7「データ型のストレージ要件」</a>を参照してください) を判別して、それを行数で乗算する必要があります。 カラムインデックスについては、次のことを考慮する必要もあります。 
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <code class="literal">NDBCLUSTER</code> テーブルに作成される各主キーまたはハッシュインデックスには、レコードごとに 21−25 バイトが必要となります。 これらのインデックスは <code class="literal">IndexMemory</code> を使用します。 
          </p></li><li class="listitem"><p>
            順序付けされた各インデックスでは、<code class="literal">DataMemory</code> を使用して、レコードごとに 10 バイトのストレージが必要となります。
          </p></li><li class="listitem"><p>
            また、主キーまたは一意のインデックスを作成すると、このインデックスが <code class="literal">USING HASH</code> を指定して作成された場合を除き、順序付けされたインデックスが作成されます。 言い換えると、次のようになります。 
          </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                通常、クラスタテーブルの主キーまたは一意のインデックスには、レコードごとに 31 - 35 バイトが使用されます。
              </p></li><li class="listitem"><p>
                ただし、主キーまたは一意のインデックスが <code class="literal">USING HASH</code> を指定して作成されている場合は、レコードごとに 21 バイトから 25 バイトのみが必要となります。
              </p></li></ul></div></li></ul></div><p>
        すべての主キーおよび一意インデックスに対して <code class="literal">USING HASH</code> を使用する「NDB Cluster の作成」テーブルでは、通常、<code class="literal">USING HASH</code> が主キーおよび一意キーの作成に使用されなかったテーブルの更新よりも 20 から 30% 速く、テーブルの更新が高速に実行されます。 これは、必要なメモリーが少なくなり (順序付けされたインデックスが作成されないため)、使用される CPU が少なくなる (読み取りおよび (場合によっては) 更新する必要があるインデックスが少なくなるため) ためです。 ただし、これは、本来範囲スキャンを使用するクエリーをほかの方法で実行する必要があることも意味し、選択が低速になることがあります。 
      </p><p>
        クラスタのメモリー要件を計算するときに、最新の MySQL 8.0 リリースに付属している <span class="command"><strong>ndb_size.pl</strong></span> ユーティリティーが役に立つことがあります。 この Perl スクリプトは、現在の (クラスタではない) MySQL データベースに接続して、<code class="literal">NDBCLUSTER</code> ストレージエンジンを使用した場合にデータベースで必要となる容量に関する報告を作成します。 詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-programs-ndb-size-pl" title="23.4.28 ndb_size.pl — NDBCLUSTER サイズ要件エスティメータ">セクション23.4.28「ndb_size.pl — NDBCLUSTER サイズ要件エスティメータ」</a>を参照してください。 
      </p><p>
        <span class="emphasis"><em>すべての「NDB Cluster」テーブルに主キーが必要です</em></span>を覚えておくことは特に重要です。 <code class="literal">NDB</code> ストレージエンジンは、主キーが定義されていない場合、主キーを自動的に作成します。この主キーは <code class="literal">USING HASH</code> を指定せずに作成されます。 
      </p><p>
        NDB Cluster データおよびインデックスの格納に使用されているメモリーの量は、<span class="command"><strong>ndb_mgm</strong></span> クライアントの <code class="literal">REPORT MEMORYUSAGE</code> コマンドを使用していつでも確認できます。詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-mgm-client-commands" title="23.5.1 NDB Cluster 管理クライアントのコマンド">セクション23.5.1「NDB Cluster 管理クライアントのコマンド」</a> を参照してください。 また、使用可能な <code class="literal">DataMemory</code> または NDB 7.6 より前の <code class="literal">IndexMemory</code> の 80% が使用されているとき、および使用率が 90%、99% および 100% に達したときに、警告がクラスタログに書き込まれます。 
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-cluster-what-cluster-file-systems"></a><a name="idm45302163579280"></a><p><b>A.10.11.</b></p></td><td align="left" valign="top"><p>
        NDB Cluster ではどのファイルシステムを使用できますか。 ネットワークファイルシステムまたはネットワーク共有は使用できますか。 
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        一般に、ホストオペレーティングシステムにネイティブなファイルシステムは NDB Cluster で正常に動作します。 NDB Cluster で特定のファイルシステムが特に適切に動作する (または特にうまく動作しない) ことがわかった場合は、<a class="ulink" href="https://forums.mysql.com/list.php?25" target="_top">「NDB Cluster フォーラム」</a>での結果について話し合うように招待します。 
      </p><p>
        Windows の場合は、標準の MySQL の場合と同様に、NDB Cluster に <code class="literal">NTFS</code> ファイルシステムを使用することをお勧めします。 <code class="literal">FAT</code> または <code class="literal">VFAT</code> ファイルシステムで NDB Cluster をテストしません。 このため、MySQL または NDB Cluster での使用はお勧めしません。 
      </p><p>
        NDB Cluster はシェアードナッシングのソリューションとして実装されています。これの背後にある考えは、単一のハードウェアの障害によって複数のクラスタノードの障害が発生したり、場合によってはクラスタ全体の障害が発生したりしないことです。 このため、NDB Cluster ではネットワーク共有またはネットワークファイルシステムの使用はサポートされていません。 これは、SAN などの共有ストレージデバイスにも当てはまります。 
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-cluster-can-cluster-vm"></a><a name="idm45302163571360"></a><p><b>A.10.12.</b></p></td><td align="left" valign="top"><p>
        NDB Cluster ノードを仮想マシン (VMWare、VirtualBox、Parallels、Xen によって作成されたものなど) 内で実行できますか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        NDB Cluster は、仮想マシンでの使用がサポートされています。 現在、<a class="ulink" href="http://www.oracle.com/technetwork/server-storage/vm/index.html" target="_top">Oracle VM</a> を使用してサポートおよびテストが行われています。 
      </p><p>
        一部の NDB Cluster ユーザーは、ほかの仮想化製品を使用して NDB Cluster を正常に配備しました。このような場合、Oracle は NDB Cluster のサポートを提供できますが、仮想環境に固有の問題はその製品ベンダーに示す必要があります。
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-cluster-why-error-1114"></a><a name="idm45302163566992"></a><p><b>A.10.13.</b></p></td><td align="left" valign="top"><p>
        NDB Cluster データベースにデータを移入しようとしています。 ロード処理が予期せずに終了し、次のようなエラーメッセージが表示されます。 
      </p><p>
        <code class="literal"><span class="errortext">「ERROR 1114: The table 'my_cluster_table' is full」</span></code>
      </p><p>
        これが発生するのはなぜですか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        原因はすべてのテーブルデータおよびすべてのインデックス (<span class="emphasis"><em>テーブル定義に主キーの定義が含まれていない場合に自動的に作成される、<code class="literal">NDB</code> ストレージエンジンによって要求される主キーを含む</em></span>) のための十分な RAM が、使用しているセットアップで提供されていないことである可能性があります。
      </p><p>
        すべてのデータノードで同じ容量の RAM が使用されることにも注意してください。クラスタ内のデータノードは、データノードの中で使用可能なメモリーの容量がもっとも少ないノードより多いメモリーを使用することはできないためです。 たとえば、クラスタデータノードをホストしているコンピュータが 4 台あり、これらのうち 3 台にクラスタデータを格納できる 3GB の RAM があり、残りのデータノードには 1GB の RAM しかない場合、各データノードは NDB Cluster データおよびインデックス専用にすることができます。 
      </p><p>
        場合によっては、<span class="command"><strong>ndb_mgm -e "ALL REPORT MEMORYUSAGE"</strong></span> で <code class="literal">DataMemory</code> に大きい空き領域が示されていても<span class="errortext">Table is full</span>というエラーがMySQL クライアントアプリケーションで表示されることがあります。 <code class="literal">CREATE TABLE</code> の <code class="literal">MAX_ROWS</code> オプションを使用すると、<code class="literal">NDB</code> で強制的に「NDB Cluster」テーブルの追加パーティションを作成し、ハッシュインデックスに使用可能なメモリーを増やすことができます。 通常、テーブルに格納することが予期されている行数の 2 倍の数値を <code class="literal">MAX_ROWS</code> に設定すれば十分です。 
      </p><p>
        同様の理由で、データが大量にロードされたノードで、データノードが再起動される問題が発生することもあります。 <code class="literal">MinFreePct</code> パラメータは、<code class="literal">DataMemory</code> および (NDB 7.6 より前の) <code class="literal">IndexMemory</code> の一部 (デフォルトでは 5%) を再起動で使用するために予約することで、この問題を解決できます。 この予約されたメモリーは、<code class="literal">NDB</code> テーブルまたはデータの格納には使用できません。 
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-cluster-can-cluster-remote-network"></a><a name="idm45302163546976"></a><p><b>A.10.14.</b></p></td><td align="left" valign="top"><p>
        NDB Cluster は TCP/IP を使用します。 これは、1 つ以上のノードをリモートの場所に配置して、インターネット経由で実行できることを意味しますか。 
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        NDB Cluster は 100 Mbps またはギガビット Ethernet を使用した LAN 設定で見つかったような専用の高速接続を保証する条件で実行されることを前提として設計および実装されているため、このような状況でクラスタが確実に実行される可能性は <span class="emphasis"><em>very</em></span> ではありません。 これより遅い環境で使用したときのパフォーマンスはテストされておらず保証されません。 
      </p><p>
        また、NDB Cluster 内のノード間の通信はセキュリティー保護されておらず、ほかの保護メカニズムによって暗号化も保護もされていないことに注意してください。 クラスタのもっともセキュアな構成は、外部からクラスタのデータまたは管理ノードに直接アクセスされない、ファイアウォールの内側のプライベートネットワークです。 (SQL ノードの場合は、MySQL サーバーのほかのインスタンスの場合と同様の予防措置を取るようにしてください。) 詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-security" title="23.5.17 NDB Cluster のセキュリティーの問題">セクション23.5.17「NDB Cluster のセキュリティーの問題」</a>を参照してください。 
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-cluster-what-language-needed-cluster"></a><a name="idm45302163541472"></a><p><b>A.10.15.</b></p></td><td align="left" valign="top"><p>
        NDB Cluster を使用するには、新しいプログラミング言語またはクエリー言語を学習する必要がありますか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        <span class="emphasis"><em>いいえ</em></span>。 クラスタ自体の管理および構成にはいくつかの特殊なコマンドが使用されますが、次の操作には標準の (My)SQL ステートメントのみが必要となります。 
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            テーブルの作成、変更、および削除
          </p></li><li class="listitem"><p>
            テーブルデータの挿入、更新、および削除
          </p></li><li class="listitem"><p>
            プライマリインデックスおよび一意のインデックスの作成、変更、および削除
          </p></li></ul></div><p>
        NDB Cluster を設定するには、いくつかの特殊な構成パラメータおよびファイルが必要です。これらについては、<a class="xref" href="mysql-cluster.html#mysql-cluster-config-file" title="23.3.3 NDB Cluster 構成ファイル">セクション23.3.3「NDB Cluster 構成ファイル」</a> を参照してください。
      </p><p>
        NDB Cluster 管理クライアント (<span class="command"><strong>ndb_mgm</strong></span>) では、クラスタノードの起動や停止などのタスクにいくつかの単純なコマンドが使用されます。 <a class="xref" href="mysql-cluster.html#mysql-cluster-mgm-client-commands" title="23.5.1 NDB Cluster 管理クライアントのコマンド">セクション23.5.1「NDB Cluster 管理クライアントのコマンド」</a>を参照してください。 
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-cluster-what-api-cluster-support"></a><a name="idm45302163531712"></a><p><b>A.10.16.</b></p></td><td align="left" valign="top"><p>
        NDB Cluster でサポートされているプログラミング言語および API は何ですか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        NDB Cluster は、ODBC、.Net、MySQL C API、PHP、Perl、Python などの一般的なスクリプト言語用の多数のドライバなど、標準の MySQL Server と同じプログラミング API および言語をサポートしています。 これらの API を使用して記述された NDB Cluster アプリケーションは、ほかの MySQL アプリケーションと同様に動作し、SQL ステートメントを MySQL Server (NDB Cluster の場合は SQL ノード) に送信し、データ行を含む応答を受信します。 これらの API については、<a class="xref" href="connectors-apis.html" title="第 29 章 Connector および API">第29章「<i>Connector および API</i>」</a>を参照してください。 
      </p><p>
        NDB Cluster は NDB API を使用したアプリケーションプログラミングもサポートしています。NDB API は、MySQL Server を経由せずに NDB Cluster データへの下位レベルの C++ インタフェースを提供します。 <a class="ulink" href="https://dev.mysql.com/doc/ndbapi/en/ndbapi.html" target="_top">The NDB API</a>を参照してください。 また、多くの <code class="literal">NDBCLUSTER</code> 管理関数が C 言語の MGM API によって提供されています。詳細は、<a class="ulink" href="https://dev.mysql.com/doc/ndbapi/en/mgm-api.html" target="_top">The MGM API</a>を参照してください。 
      </p><p>
        NDB Cluster は、セッションおよびトランザクションを使用したデータのドメインオブジェクトモデルをサポートする ClusterJ を使用した Java アプリケーションプログラミングもサポートしています。 詳細は、<a class="ulink" href="https://dev.mysql.com/doc/ndbapi/en/mccj-overview-java.html" target="_top">Java and NDB Cluster</a>を参照してください。 
      </p><p>
        さらに、NDB Cluster は <code class="literal">memcached</code> をサポートしているため、開発者は <code class="literal">memcached</code> インタフェースを使用して NDB Cluster に格納されているデータにアクセスできます。詳細は、<a class="ulink" href="https://dev.mysql.com/doc/ndbapi/en/ndbmemcache.html" target="_top">ndbmemcache—Memcache API for NDB Cluster (NO LONGER SUPPORTED)</a> を参照してください。
      </p><p>
        NDB Cluster には、NDB Cluster をデータストアとして、<code class="literal">Node.js</code> に対して記述された NoSQL アプリケーションをサポートするアダプタも含まれています。 詳細は、<a class="ulink" href="https://dev.mysql.com/doc/ndbapi/en/ndb-nodejs.html" target="_top">MySQL NoSQL Connector for JavaScript</a>を参照してください。 
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-cluster-what-cluster-management-tools"></a><a name="idm45302163517312"></a><p><b>A.10.17.</b></p></td><td align="left" valign="top"><p>
        NDB Cluster には管理ツールは含まれていますか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        NDB Cluster には、基本管理機能を実行するためのコマンドラインクライアントが含まれています。 <a class="xref" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgm" title="23.4.5 ndb_mgm — NDB Cluster 管理クライアント">セクション23.4.5「ndb_mgm — NDB Cluster 管理クライアント」</a>および<a class="xref" href="mysql-cluster.html#mysql-cluster-mgm-client-commands" title="23.5.1 NDB Cluster 管理クライアントのコマンド">セクション23.5.1「NDB Cluster 管理クライアントのコマンド」</a>を参照してください。 
      </p><p>
        NDB Cluster 7.6 以前は、ローリング再起動や構成変更などの多くの NDB Cluster 管理タスクを自動化できる高度なコマンド行インタフェースを提供する個別の製品である MySQL Cluster Manager でもサポートされています。 バージョン 1.4.8 以降、MySQL Cluster Manager は NDB Cluster 8.0 の実験的なサポートも提供します。 MySQL Cluster Manager については、<a class="ulink" href="https://dev.mysql.com/doc/mysql-cluster-manager/1.4/en/" target="_top">MySQL™ Cluster Manager 1.4.8 User Manual</a>を参照してください。 
      </p><p>
        NDB Cluster は、NDB Cluster ソフトウェアディストリビューションの一部として、NDB Cluster を設定および配備するためのグラフィカルブラウザベースの Auto-Installer も提供します。 詳細は、<a class="ulink" href="https://dev.mysql.com/doc/refman/5.7/en/mysql-cluster-install-auto.html" target="_top">The NDB Cluster Auto-Installer (NDB 7.5) (No longer supported)</a>を参照してください。 
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-cluster-what-cluster-errors-are"></a><a name="idm45302163509888"></a><p><b>A.10.18.</b></p></td><td align="left" valign="top"><p>
        NDB Cluster の使用時にエラーまたは警告メッセージが何を意味しているかを調べるにはどうすればよいですか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        これを行うことができる方法は 2 つあります。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            エラー状態または警告状態を通知された直後に、<span class="command"><strong>mysql</strong></span> クライアント内で <span class="command"><strong>SHOW ERRORS</strong></span> または <span class="command"><strong>SHOW WARNINGS</strong></span> を使用します。
          </p></li><li class="listitem"><p>
            システムのシェルプロンプトで、<span class="command"><strong>perror --ndb <em class="replaceable"><code>error_code</code></em></strong></span> を使用します。
          </p></li></ul></div></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-cluster-is-cluster-transaction-safe"></a><a name="idm45302163502000"></a><p><b>A.10.19.</b></p></td><td align="left" valign="top"><p>
        NDB Cluster トランザクションセーフですか。 どのような分離レベルがサポートされますか。 
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        <span class="emphasis"><em>はい</em></span>。 <code class="literal">NDB</code> ストレージエンジンを指定して作成されたテーブルの場合は、トランザクションがサポートされます。 現在、NDB Cluster は <code class="literal">READ COMMITTED</code> トランザクション分離レベルのみをサポートしています。 
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-cluster-what-storage-engines-cluster"></a><a name="idm45302163496896"></a><p><b>A.10.20.</b></p></td><td align="left" valign="top"><p>
        NDB Cluster でサポートされているストレージエンジンを教えてください。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        NDB Cluster には <code class="literal">NDB</code> ストレージエンジンが必要です。 つまり、NDB Cluster 内のノード間でテーブルを共有するには、<code class="literal">ENGINE=NDB</code> (または同等のオプション <code class="literal">ENGINE=NDBCLUSTER</code>) を使用してテーブルを作成する必要があります。 
      </p><p>
        NDB Cluster で使用されている MySQL サーバー上で、ほかのストレージエンジン (<code class="literal">InnoDB</code> や <code class="literal">MyISAM</code> など) を使用してテーブルを作成することは可能ですが、これらのテーブルは <code class="literal">NDB</code> を使用しないため、クラスタ化に参加しません。このような各テーブルは、作成される個々の MySQL サーバーインスタンスに対して厳密にローカルです。
      </p><p>
        NDB Cluster は、アーキテクチャー、要件、および実装に関して <code class="literal">InnoDB</code> クラスタリングとは大きく異なります。名前に類似点があるにもかかわらず、両者は互換性がありません。 <code class="literal">InnoDB</code> クラスタリングの詳細は、<a class="ulink" href="https://dev.mysql.com/doc/mysql-shell/8.0/ja/admin-api-userguide.html" target="_top">MySQL AdminAPI の使用</a> を参照してください。 <code class="literal">NDB</code> ストレージエンジンと <code class="literal">InnoDB</code> ストレージエンジンの違いについては、<a class="xref" href="mysql-cluster.html#mysql-cluster-compared" title="23.1.6 MySQL Server NDB Cluster と比較した InnoDB の使用">セクション23.1.6「MySQL Server NDB Cluster と比較した InnoDB の使用」</a> も参照してください。 
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-cluster-is-data-loss-no-power"></a><a name="idm45302163482080"></a><p><b>A.10.21.</b></p></td><td align="left" valign="top"><p>
        致命的な障害が発生した場合 (たとえば、都市全体の電力が失われ、UPS で障害が発生した場合、すべてのデータが失われますか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        コミットされたすべてのトランザクションはログ記録されます。 このため、大災害が起こった場合に一部のデータが失われることはありますが、それはごく限定的なものとなります。 データの損失は、トランザクションごとの操作の数を最小限にすることによって、さらに減らすことができます。 (どのような場合でも、1 つのトランザクションで多数の操作を実行するのはよい考えではありません。) 
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-cluster-can-cluster-fullindex"></a><a name="idm45302163479120"></a><p><b>A.10.22.</b></p></td><td align="left" valign="top"><p>
        NDB Cluster で <code class="literal">FULLTEXT</code> インデックスを使用できますか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        <code class="literal">FULLTEXT</code> のインデックス作成は現在、<code class="literal">InnoDB</code> および <code class="literal">MyISAM</code> ストレージエンジンでのみサポートされています。 詳細は、<a class="xref" href="functions.html#fulltext-search" title="12.10 全文検索関数">セクション12.10「全文検索関数」</a>を参照してください。 
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-cluster-can-multinode-cluster-one-host"></a><a name="idm45302163472800"></a><p><b>A.10.23.</b></p></td><td align="left" valign="top"><p>
        単一のコンピュータ上で複数のノードを実行できますか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        実行できますが常に推奨できるとは限りません。 クラスタを実行する主な理由の 1 つは冗長性を持たせるためです。 この冗長性の利点を完全に享受するには、各ノードを別個のマシン上に配置してください。 単一のマシンに複数のノードを配置した場合、そのマシンで障害が発生したときに、それらのすべてのノードが失われます。 このため、単一のマシンで複数のデータノードを実行する場合は、そのマシンの障害によってノードグループのすべてのデータノードが失われることがないように設定することが<span class="emphasis"><em>非常に</em></span>重要です。 
      </p><p>
        NDB Cluster は、低コスト (またはコストなし) のオペレーティングシステムでロードされたコモディティハードウェア上で実行できるため、余分なマシンまたは 2 台のマシンを使用すると、ミッションクリティカルなデータを保護する価値があります。 管理ノードを実行するクラスタホストの要件は最低限のものであることにも注意してください。 このタスクは、300 MHz の Pentium または同等の CPU、オペレーティングシステムのための十分な RAM、および <span class="command"><strong>ndb_mgmd</strong></span> プロセスと <span class="command"><strong>ndb_mgm</strong></span> プロセスのための少量のオーバーヘッドに対応した装備があれば実行できます。 
      </p><p>
        複数の CPU、コア、またはその両方を持つ単一のホストで、複数のクラスタデータノードを実行することは容認できます。 NDB Cluster ディストリビューションは、このようなシステムでの使用を目的としたマルチスレッドバージョンのデータノードバイナリも提供します。 詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-programs-ndbmtd" title="23.4.3 ndbmtd — NDB Cluster データノードデーモン (マルチスレッド)">セクション23.4.3「ndbmtd — NDB Cluster データノードデーモン (マルチスレッド)」</a>を参照してください。 
      </p><p>
        同じマシン上でデータノードと SQL ノードを同時に実行できる場合もあります。そのような配置での実行状態は、さまざまな要因 (コアおよび CPU の数、データノードおよび SQL ノードのプロセスが使用できるディスクおよびメモリーの容量など) によって異なります。そのような構成を計画する場合は、これらの要因を考慮する必要があります。
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-cluster-how-add-nodes-no-restart"></a><a name="idm45302163463408"></a><p><b>A.10.24.</b></p></td><td align="left" valign="top"><p>
        NDB Cluster を再起動せずにデータノードを追加できますか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        クラスタをオフラインにせずに、実行中の NDB Cluster に新しいデータノードを追加できます。 詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-online-add-node" title="23.5.7 NDB Cluster データノードのオンラインでの追加">セクション23.5.7「NDB Cluster データノードのオンラインでの追加」</a>を参照してください。 
      </p><p>
        ほかのタイプの NDB Cluster ノードの場合は、ローリング再起動がすべて必要です (<a class="xref" href="mysql-cluster.html#mysql-cluster-rolling-restart" title="23.5.5 NDB Cluster のローリング再起動の実行">セクション23.5.5「NDB Cluster のローリング再起動の実行」</a> を参照)。
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-cluster-what-cluster-limitations"></a><a name="idm45302163458944"></a><p><b>A.10.25.</b></p></td><td align="left" valign="top"><p>
        NDB Cluster を使用するときに注意するべき制限はありますか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        MySQL NDB Cluster での <code class="literal">NDB</code> テーブルの制限事項は次のとおりです:
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            一時テーブルはサポートされません。<code class="literal">ENGINE=NDB</code> または <code class="literal">ENGINE=NDBCLUSTER</code> を使用した <code class="literal">CREATE TEMPORARY TABLE</code> ステートメントは、エラーが発生して失敗します。
          </p></li><li class="listitem"><p>
            <code class="literal">NDBCLUSTER</code> テーブルでサポートされるユーザー定義のパーティション化のタイプは、<code class="literal">KEY</code> および <code class="literal">LINEAR KEY</code> のみです。 ほかのパーティショニングタイプを使用して <code class="literal">NDB</code> テーブルを作成しようとすると、エラーが発生して失敗します。 
          </p></li><li class="listitem"><p>
            <code class="literal">FULLTEXT</code> インデックスはサポートされません。
          </p></li><li class="listitem"><p>
            インデックスのプリフィクスはサポートされません。 インデックスを作成できるのは完全なカラムのみです。 
          </p></li><li class="listitem"><p>
            空間インデックスはサポートされません (空間カラムは使用できます)。 <a class="xref" href="data-types.html#spatial-types" title="11.4 空間データ型">セクション11.4「空間データ型」</a>を参照してください。 
          </p></li><li class="listitem"><p>
            部分的なトランザクションおよび部分的なロールバックのサポートは、ほかのトランザクションストレージエンジン (個別のステートメントをロールバックできる <code class="literal">InnoDB</code> など) と同等です。
          </p></li><li class="listitem"><p>
            テーブルごとに許可される属性の最大数は 512 個です。 属性名は 31 文字以内である必要があります。 各テーブルで、テーブル名とデータベース名を合わせた最大長は 122 文字です。 
          </p></li><li class="listitem"><p>
            NDB 8.0 では、テーブル行の最大サイズは 14 K バイトであり、<code class="literal">BLOB</code> 値はカウントされません。 NDB 8.0 では、この最大値は 30000 バイトに増加します。 詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-limitations-database-objects" title="23.1.7.5 NDB Cluster 内のデータベースオブジェクトに関連付けられる制限">セクション23.1.7.5「NDB Cluster 内のデータベースオブジェクトに関連付けられる制限」</a>を参照してください。 
          </p><p>
            <code class="literal">NDB</code> テーブルごとの行数の制限はありません。 テーブルサイズの制限は多くの要因によって異なり、各データノードで使用できる RAM の容量に特に関係しています。 
          </p></li></ul></div><p>
        NDB Cluster の制限の完全なリストについては、<a class="xref" href="mysql-cluster.html#mysql-cluster-limitations" title="23.1.7 NDB Cluster の既知の制限事項">セクション23.1.7「NDB Cluster の既知の制限事項」</a> を参照してください。 <a class="xref" href="mysql-cluster.html#mysql-cluster-limitations-resolved" title="23.1.7.11 前 NDB Cluster 8.0 で解決される NDB Cluster の問題">セクション23.1.7.11「前 NDB Cluster 8.0 で解決される NDB Cluster の問題」</a>も参照してください。 
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-cluster-have-foreign-keys-cluster"></a><a name="idm45302163432640"></a><p><b>A.10.26.</b></p></td><td align="left" valign="top"><p>
        NDB Cluster は外部キーをサポートしていますか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        NDB Cluster は、<code class="literal">InnoDB</code> ストレージエンジンで検出されるものと同等の外部キー制約のサポートを提供します。詳細は、<a class="xref" href="introduction.html#constraint-foreign-key" title="1.7.3.2 FOREIGN KEY の制約">セクション1.7.3.2「FOREIGN KEY の制約」</a>、および <a class="xref" href="sql-statements.html#create-table-foreign-keys" title="13.1.20.5 FOREIGN KEY の制約">セクション13.1.20.5「FOREIGN KEY の制約」</a> を参照してください。 外部キーのサポートが必要なアプリケーションは NDB Cluster 7.3, 7.4, 7.5 以降を使用するようにしてください。 
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-cluster-how-import-db-cluster"></a><a name="idm45302163427616"></a><p><b>A.10.27.</b></p></td><td align="left" valign="top"><p>
        NDB Cluster に既存の MySQL データベースをインポートするにはどうすればよいですか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        NDB Cluster には、ほかのバージョンの MySQL と同様にデータベースをインポートできます。 この FAQ の各所で説明されている制限以外の唯一の特別な要件は、クラスタに含まれるテーブルが <code class="literal">NDB</code> ストレージエンジンを使用する必要があることです。 これは、<code class="literal">ENGINE=NDB</code> または <code class="literal">ENGINE=NDBCLUSTER</code> を指定してテーブルを作成する必要があることを意味します。 
      </p><p>
        ほかのストレージエンジンを使用しているテーブルを、1 つ以上の <code class="literal">ALTER TABLE</code> ステートメントを使用して、<code class="literal">NDBCLUSTER</code> に変更することもできます。 ただし、変更を行う前に、テーブルの定義が <code class="literal">NDBCLUSTER</code> ストレージエンジンと互換性がある必要があります。 MySQL 8.0 では、追加の回避策も必要となります。詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-limitations" title="23.1.7 NDB Cluster の既知の制限事項">セクション23.1.7「NDB Cluster の既知の制限事項」</a>を参照してください。 
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-cluster-how-nodes-communicate"></a><a name="idm45302163417472"></a><p><b>A.10.28.</b></p></td><td align="left" valign="top"><p>
        NDB Cluster ノードはどのように相互に通信しますか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        クラスタのノードは、3 種類の転送メカニズム (TCP/IP、SHM (共有メモリー)、および SCI (スケーラブルコヒーラントインタフェース)) を使用して通信できます。 使用可能な場合、同じクラスタホスト上にあるノード間では SHM がデフォルトで使用されます。ただし、これは実験的とみなされます。 SCI は、スケーラブルなマルチプロセッサシステムを構築するために使用される高速 (1 Gbps 以上) で高可用性のプロトコルであり、特殊なハードウェアおよびドライバが必要となります。 NDB Cluster のトランスポートメカニズムとして SCI を使用する方法の詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-interconnects" title="23.3.4 NDB Cluster での高速インターコネクトの使用">セクション23.3.4「NDB Cluster での高速インターコネクトの使用」</a> を参照してください。 
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-cluster-what-is-arbitrator"></a><a name="idm45302163413104"></a><p><b>A.10.29.</b></p></td><td align="left" valign="top"><p>
        <span class="firstterm">アービトレータ</span>とは何ですか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        クラスタ内の 1 つ以上のデータノードで障害が発生した場合、すべてのクラスタデータノードが相互に<span class="quote">「<span class="quote">「参照」</span>」</span>できるわけではありません。 実際に、2 つのセットのデータノードがネットワークのパーティション化で別々に分離されることがあります (<span class="quote">「<span class="quote">スプリットブレイン</span>」</span>シナリオとも呼ばれます)。 各セットのデータノードがクラスタ全体のように動作しようとするため、このタイプの状況は好ましくありません。 競合するデータノードのセットのいずれかを選択するために、アービトレータが必要となります。 
      </p><p>
        少なくとも 1 つのノードグループのすべてのデータノードが存続して場合、クラスタの単一のサブセットが独自に機能するクラスタを形成できないため、ネットワークのパーティション化は問題とはなりません。 本当の問題はすべてのノードが存続している単一のノードグループがない場合に発生し、その場合はネットワークのパーティション化 (<span class="quote">「<span class="quote">スプリットブレイン</span>」</span>シナリオ) が発生する可能性があります。 そしてアービトレータが必要となります。 すべてのクラスタノードは、同じノードをアービトレータとして認識しますが、通常、これは管理サーバーです。ただし、クラスタ内の MySQL サーバーのいずれかを代わりにアービトレータとして動作するように構成できます。 アービトレータは、クラスタノードの最初のセットがアクセスすることを受け入れ、残りのセットにシャットダウンするように指示します。 アービトレータの選択は、MySQL サーバーおよび管理サーバーノードの <code class="literal">ArbitrationRank</code> 構成パラメータによって制御されます。 <code class="literal">ArbitrationRank</code> 構成パラメータを使用してアービトレータの選択プロセスを制御することもできます。 これらのパラメータについては、<a class="xref" href="mysql-cluster.html#mysql-cluster-mgm-definition" title="23.3.3.5 NDB Cluster 管理サーバーの定義">セクション23.3.3.5「NDB Cluster 管理サーバーの定義」</a>を参照してください。 
      </p><p>
        アービトレータの役割によって、指定されたホストに重い要求が課されることはないため、アービトレータのホストはこの目的のために特別に処理が速いマシン、または追加のメモリーがあるマシンである必要はありません。
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-cluster-what-types-cluster-support"></a><a name="idm45302163402128"></a><p><b>A.10.30.</b></p></td><td align="left" valign="top"><p>
        NDB Cluster でサポートされているデータ型は何ですか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        NDB Cluster は、MySQL 空間拡張機能に関連付けられたデータ型を含め、通常の MySQL データ型をすべてサポートしますが、<code class="literal">NDB</code> ストレージエンジンは空間インデックスをサポートしていません。 (空間インデックスは <code class="literal">MyISAM</code> によってのみサポートされます。詳細は、<a class="xref" href="data-types.html#spatial-types" title="11.4 空間データ型">セクション11.4「空間データ型」</a>を参照してください。) また、<code class="literal">NDB</code> テーブルとともに使用された場合、インデックスに関していくつかの違いがあります。 
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
          「NDB Cluster ディスクデータ」テーブル (<code class="literal">TABLESPACE ... STORAGE DISK ENGINE=NDB</code> または <code class="literal">TABLESPACE ... STORAGE DISK ENGINE=NDBCLUSTER</code> で作成されたテーブル) には固定幅の行のみがあります。 これは、(たとえば) <code class="literal">VARCHAR(255)</code> カラムが含まれている各ディスクデータテーブルレコードで、実際に格納される文字数に関係なく、255 文字 (テーブルに使用されている文字セットおよび照合順序に必要となります) の領域が必要となることを意味します。 
        </p></div><p>
        これらの問題については、<a class="xref" href="mysql-cluster.html#mysql-cluster-limitations" title="23.1.7 NDB Cluster の既知の制限事項">セクション23.1.7「NDB Cluster の既知の制限事項」</a>を参照してください。
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-cluster-how-start-stop-cluster"></a><a name="idm45302163389984"></a><p><b>A.10.31.</b></p></td><td align="left" valign="top"><p>
        NDB Cluster を起動および停止するにはどうすればよいですか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        クラスタ内の各ノードを次の順序で個別に起動する必要があります。
      </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
            <span class="command"><strong>ndb_mgmd</strong></span> コマンドを使用して、管理ノードを起動します。
          </p><p>
            <code class="option">-f</code> オプションまたは <code class="option">--config-file</code> オプションを指定して、構成ファイルのある場所を管理ノードに通知する必要があります。
          </p></li><li class="listitem"><p>
            <span class="command"><strong>ndbd</strong></span> コマンドを使用して、各データノードを起動します。
          </p><p>
            データノードが管理サーバーに接続する方法を認識するように、<code class="option">-c</code> オプションまたは <code class="option">--ndb-connectstring</code> オプションを指定して各データノードを起動する必要があります。
          </p></li><li class="listitem"><p>
            任意の起動スクリプト (<span class="command"><strong>mysqld_safe</strong></span> など) を使用して各 MySQL サーバー (SQL ノード) を起動します。
          </p><p>
            各 MySQL サーバーは、<code class="option">--ndbcluster</code> オプションおよび <code class="option">--ndb-connectstring</code> オプションを指定して起動する必要があります。 これらのオプションにより、<span class="command"><strong>mysqld</strong></span> は <code class="literal">NDBCLUSTER</code> ストレージエンジンのサポートおよび管理サーバーへの接続方法を有効にします。 
          </p></li></ol></div><p>
        影響を受けるノードがあるマシンのシステムシェルで、これらの各コマンドを実行する必要があります。 (そのマシンを物理的にその場で操作する必要はありません。リモートログインシェルをこの目的に使用できます。) クラスタが実行されていることを確認するには、管理ノードが収容されているマシンで <code class="literal">NDB</code> 管理クライアント <span class="command"><strong>ndb_mgm</strong></span> を起動して、<code class="literal">SHOW</code> コマンドまたは <code class="literal">ALL STATUS</code> コマンドを発行します。 
      </p><p>
        実行されているクラスタをシャットダウンするには、管理クライアントで <code class="literal">SHUTDOWN</code> コマンドを発行します。 または、システムシェルに次のコマンドを入力できます。 
      </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>ndb_mgm -e "SHUTDOWN"</code></strong>
</pre><p>
        (この例の引用符はオプションです。<code class="option">-e</code> オプションの後ろのコマンド文字列にスペースがないためです。また、管理クライアントのほかのコマンドと同様に、<code class="literal">SHUTDOWN</code> コマンドでは大文字/小文字が区別されません。)
      </p><p>
        これらのコマンドのいずれかによって、<span class="command"><strong>ndb_mgm</strong></span>、<span class="command"><strong>ndb_mgm</strong></span>、および <span class="command"><strong>ndbd</strong></span> プロセスが正常に終了します。 SQL ノードとして実行されている MySQL サーバーは、<span class="command"><strong>mysqladmin shutdown</strong></span> を使用して停止できます。 
      </p><p>
        詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-mgm-client-commands" title="23.5.1 NDB Cluster 管理クライアントのコマンド">セクション23.5.1「NDB Cluster 管理クライアントのコマンド」</a>および<a class="xref" href="mysql-cluster.html#mysql-cluster-install-shutdown-restart" title="23.2.6 NDB Cluster の安全なシャットダウンと再起動">セクション23.2.6「NDB Cluster の安全なシャットダウンと再起動」</a>を参照してください。
      </p><p>
        MySQL Cluster Manager および NDB Cluster Auto-Installer には、NDB Cluster ノードの応答なし停止の開始を処理する追加の方法が用意されています。 これらのツールの詳細は、<a class="ulink" href="https://dev.mysql.com/doc/mysql-cluster-manager/1.4/en/" target="_top">MySQL™ Cluster Manager 1.4.8 User Manual</a> および <a class="xref" href="mysql-cluster.html#mysql-cluster-installer" title="23.2.8 NDB Cluster Auto-Installer (サポートされなくなりました)">セクション23.2.8「NDB Cluster Auto-Installer (サポートされなくなりました)」</a> を参照してください。 
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-cluster-what-shutdown-do-data"></a><a name="idm45302163355088"></a><p><b>A.10.32.</b></p></td><td align="left" valign="top"><p>
        NDB Cluster をシャットダウンすると、NDB Cluster データはどうなりますか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        クラスタのデータノードによってメモリーに保持されていたデータがディスクに書き込まれ、次回クラスタが起動されたときにメモリーにリロードされます。
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-cluster-have-multiple-node-managers"></a><a name="idm45302163352448"></a><p><b>A.10.33.</b></p></td><td align="left" valign="top"><p>
        NDB Cluster に複数の管理ノードを設定することをお勧めしますか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        フェイルセーフとして役に立つことがあります。 特定の時点でクラスタを制御しているのは 1 つの管理ノードのみですが、1 つの管理ノードをプライマリとして構成し、プライマリ管理ノードで障害が発生した場合に、1 つ以上の追加の管理ノードが引き継ぐようにすることができます。 
      </p><p>
        NDB Cluster 管理ノードを構成する方法については、<a class="xref" href="mysql-cluster.html#mysql-cluster-config-file" title="23.3.3 NDB Cluster 構成ファイル">セクション23.3.3「NDB Cluster 構成ファイル」</a> を参照してください。
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-cluster-have-different-cluster-hosts"></a><a name="idm45302163348400"></a><p><b>A.10.34.</b></p></td><td align="left" valign="top"><p>
        1 つの NDB Cluster に異なる種類のハードウェアとオペレーティングシステムを混在させることはできますか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        はい。すべてのマシンおよびオペレーティングシステムが同じ<span class="quote">「<span class="quote">エンディアン</span>」</span> (すべてがビッグエンディアンまたはすべてがリトルエンディアン) であれば可能です。
      </p><p>
        異なる NDB Cluster リリースのソフトウェアを異なるノードで使用することもできます。 ただし、このような使用はローリングアップグレード手順の一部としてのみサポートされています (<a class="xref" href="mysql-cluster.html#mysql-cluster-rolling-restart" title="23.5.5 NDB Cluster のローリング再起動の実行">セクション23.5.5「NDB Cluster のローリング再起動の実行」</a> を参照)。 
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-cluster-have-multiple-nodes-one-host"></a><a name="idm45302163343632"></a><p><b>A.10.35.</b></p></td><td align="left" valign="top"><p>
        単一のホスト上で 2 つのデータノードを実行できますか。 2 つの SQL ノードは実行できますか。 
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        はい。実行できます。 複数のデータノードの場合は、各ノードで別のデータディレクトリを使用することをお勧めします (必須ではありません)。 単一のマシン上で複数の SQL ノードを実行する場合は、<span class="command"><strong>mysqld</strong></span> の各インスタンスで別の TCP/IP ポートを使用する必要があります。 
      </p><p>
        データノードと SQL ノードを同じホスト上で同時に実行することは可能ですが、<span class="command"><strong>ndbd</strong></span> または <span class="command"><strong>ndbmtd</strong></span> プロセスが <span class="command"><strong>mysqld</strong></span> とのメモリーを競合する可能性があることに注意してください。
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-cluster-have-host-names-cluster"></a><a name="idm45302163337024"></a><p><b>A.10.36.</b></p></td><td align="left" valign="top"><p>
        NDB Cluster でホスト名を使用できますか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        はい。クラスタのホストに DNS および DHCP を使用できます。 ただし、アプリケーションが<span class="quote">「<span class="quote">ファイブナイン</span>」</span>可用性を要求する場合は、固定 (数値) IP アドレスを使用してください。クラスタホスト間通信を DNS、DHCP などのサービスに依存させると、潜在的な障害点が増えるためです。 
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-cluster-have-ipv6-support-cluster"></a><a name="idm45302163334064"></a><p><b>A.10.37.</b></p></td><td align="left" valign="top"><p>
        NDB Cluster は IPv6 をサポートしていますか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        IPv6 は SQL ノード (MySQL サーバー) 間の接続でサポートされていますが、ほかのすべてのタイプの NDB Cluster ノード間の接続は IPv4 を使用する必要があります。
      </p><p>
        これは、実質的には NDB Cluster 間のレプリケーションに IPv6 を使用できるが、同じ NDB Cluster 内のノード間の接続には IPv4 を使用する必要があることを意味します。 詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-replication-issues" title="23.6.3 NDB Cluster レプリケーションの既知の問題">セクション23.6.3「NDB Cluster レプリケーションの既知の問題」</a>を参照してください。 
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-cluster-have-multiple-users-servers-cluster"></a><a name="idm45302163329936"></a><p><b>A.10.38.</b></p></td><td align="left" valign="top"><p>
        複数の MySQL サーバーを持つ NDB Cluster で MySQL ユーザーを処理するにはどうすればよいですか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        通常、MySQL ユーザーアカウントと特権は、同じ NDB Cluster にアクセスする異なる MySQL サーバー間で自動的に伝播されません。 MySQL NDB Cluster は、<code class="literal">NDB_STORED_USER</code> 権限を使用した共有および同期されたユーザーおよび権限のサポートを提供します。詳細は、<a class="xref" href="mysql-cluster.html#mysql-cluster-privilege-distribution" title="23.5.12 NDB_STORED_USER での分散 MySQL 権限">セクション23.5.12「NDB_STORED_USER での分散 MySQL 権限」</a> を参照してください。 この実装は NDB 8.0 の新機能であり、NDB 8.0 でサポートされなくなった以前のバージョンの NDB Cluster で採用されていた共有特権メカニズムと互換性がないことに注意してください。 
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-cluster-how-continue-after-node-error"></a><a name="idm45302163324784"></a><p><b>A.10.39.</b></p></td><td align="left" valign="top"><p>
        SQL ノードの 1 つで障害が発生した場合に、クエリーの送信を続けるにはどうすればよいですか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        MySQL NDB Cluster では、SQL ノード間の自動フェイルオーバーは一切提供されません。 アプリケーションは、SQL ノードの損失を処理し、それらの間でフェイルオーバーする準備ができている必要があります。 
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-cluster-how-backup-restore-cluster"></a><a name="idm45302163322048"></a><p><b>A.10.40.</b></p></td><td align="left" valign="top"><p>
        NDB Cluster をバックアップおよび復元するにはどうすればよいですか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        NDB 管理クライアントおよび <span class="command"><strong>ndb_restore</strong></span> プログラムで NDB Cluster のネイティブバックアップおよび復元機能を使用できます。 <a class="xref" href="mysql-cluster.html#mysql-cluster-backup" title="23.5.8 NDB Cluster のオンラインバックアップ">セクション23.5.8「NDB Cluster のオンラインバックアップ」</a>および<a class="xref" href="mysql-cluster.html#mysql-cluster-programs-ndb-restore" title="23.4.23 ndb_restore — NDB Cluster バックアップの復元">セクション23.4.23「ndb_restore — NDB Cluster バックアップの復元」</a>を参照してください。 
      </p><p>
        このために <span class="command"><strong>mysqldump</strong></span> および MySQL サーバーで提供されている従来の機能を使用することもできます。 詳細は、<a class="xref" href="programs.html#mysqldump" title="4.5.4 mysqldump — データベースバックアッププログラム">セクション4.5.4「mysqldump — データベースバックアッププログラム」</a>を参照してください。 
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-cluster-what-angel-process"></a><a name="idm45302163315408"></a><p><b>A.10.41.</b></p></td><td align="left" valign="top"><p>
        <span class="quote">「<span class="quote">エンジェルプロセス</span>」</span>とは何ですか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        このプロセスは、データノードプロセスをモニターし、必要に応じて再起動を試みます。 <span class="command"><strong>ndbd</strong></span> を起動したあとに、システムでアクティブなプロセスのリストをチェックすると、その名前で実行されているプロセスが実際には 2 つあることを確認できます (簡潔にするために、出力では <span class="command"><strong>ndb_mgmd</strong></span> および <span class="command"><strong>ndbd</strong></span> を省略しました)。 
      </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>./ndb_mgmd</code></strong>

shell&gt; <strong class="userinput"><code>ps aux | grep ndb</code></strong>
me      23002  0.0  0.0 122948  3104 ?        Ssl  14:14   0:00 ./ndb_mgmd
me      23025  0.0  0.0   5284   820 pts/2    S+   14:14   0:00 grep ndb

shell&gt; <strong class="userinput"><code>./ndbd -c 127.0.0.1 --initial</code></strong>

shell&gt; <strong class="userinput"><code>ps aux | grep ndb</code></strong>
me      23002  0.0  0.0 123080  3356 ?        Ssl  14:14   0:00 ./ndb_mgmd
me      23096  0.0  0.0  35876  2036 ?        Ss   14:14   0:00 ./ndbmtd -c 127.0.0.1 --initial
me      23097  1.0  2.4 524116 91096 ?        Sl   14:14   0:00 ./ndbmtd -c 127.0.0.1 --initial
me      23168  0.0  0.0   5284   812 pts/2    R+   14:15   0:00 grep ndb
</pre><p>
        メモリー使用率と CPU 使用率の両方について <code class="literal">0.0</code> を示す <span class="command"><strong>ndbd</strong></span> プロセスは、angel プロセスです (ただし、実際には非常に少量のプロセスを使用します)。 このプロセスは、<span class="command"><strong>ndbd</strong></span> または <span class="command"><strong>ndbmtd</strong></span> のメインプロセス (実際にデータを処理するプライマリデータノードプロセス) が実行されているかどうかのみをチェックします。 許可されている場合 (たとえば、<code class="literal">StopOnError</code> 構成パラメータが <code class="literal">false</code> に設定されている場合)、angel プロセスはプライマリデータノードプロセスの再起動を試みます。 
      </p></td></tr></tbody></table></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="faqs-cjk"></a>A.11 MySQL 8.0 FAQ: MySQL の中国語、日本語、および韓国語の文字セット</h2></div></div></div><a class="indexterm" name="idm45302163298688"></a><a class="indexterm" name="idm45302163296640"></a><a class="indexterm" name="idm45302163294400"></a><a class="indexterm" name="idm45302163292272"></a><a class="indexterm" name="idm45302163290096"></a><a class="indexterm" name="idm45302163287856"></a><a class="indexterm" name="idm45302163285696"></a><a class="indexterm" name="idm45302163284592"></a><a class="indexterm" name="idm45302163282400"></a><a class="indexterm" name="idm45302163280144"></a><a class="indexterm" name="idm45302163278112"></a><a class="indexterm" name="idm45302163277024"></a><a class="indexterm" name="idm45302163274688"></a><a class="indexterm" name="idm45302163272512"></a><a class="indexterm" name="idm45302163270448"></a><a class="indexterm" name="idm45302163268256"></a><a class="indexterm" name="idm45302163266112"></a><a class="indexterm" name="idm45302163264752"></a><a class="indexterm" name="idm45302163262512"></a><a class="indexterm" name="idm45302163260336"></a><a class="indexterm" name="idm45302163258992"></a><a class="indexterm" name="idm45302163256816"></a><a class="indexterm" name="idm45302163254656"></a><a class="indexterm" name="idm45302163253216"></a><a class="indexterm" name="idm45302163251136"></a><a class="indexterm" name="idm45302163249088"></a><a class="indexterm" name="idm45302163246928"></a><a class="indexterm" name="idm45302163244720"></a><a class="indexterm" name="idm45302163242544"></a><a class="indexterm" name="idm45302163240352"></a><a class="indexterm" name="idm45302163238176"></a><a class="indexterm" name="idm45302163236016"></a><a class="indexterm" name="idm45302163233840"></a><a class="indexterm" name="idm45302163231680"></a><a class="indexterm" name="idm45302163229536"></a><a class="indexterm" name="idm45302163227376"></a><a class="indexterm" name="idm45302163225200"></a><a class="indexterm" name="idm45302163223040"></a><a class="indexterm" name="idm45302163220896"></a><a class="indexterm" name="idm45302163218736"></a><a class="indexterm" name="idm45302163216576"></a><a class="indexterm" name="idm45302163214544"></a><a class="indexterm" name="idm45302163212288"></a><a class="indexterm" name="idm45302163210944"></a><a class="indexterm" name="idm45302163208752"></a><a class="indexterm" name="idm45302163206576"></a><a class="indexterm" name="idm45302163204400"></a><a class="indexterm" name="idm45302163202224"></a><a class="indexterm" name="idm45302163200192"></a><a class="indexterm" name="idm45302163198160"></a><p>
      この一連のよくある質問は、CJK (中国語、日本語、韓国語) の問題に関する多くの問い合わせに対応している MySQL のサポートグループおよび開発グループの経験から得られたものです。
    </p><div class="qandaset"><a name="idm45302163195200"></a><dl><dt>A.11.1. <a href="faqs.html#faq-cjk-what-cjk-avail">
        MySQL で使用できる CJK 文字セットはどの文字セットですか。
      </a></dt><dt>A.11.2. <a href="faqs.html#faq-cjk-why-cjk-question-marks">
        CJK 文字をテーブルに挿入しました。 SELECT でそれらが「?」文字として表示されるのはなぜですか。 
      </a></dt><dt>A.11.3. <a href="faqs.html#faq-cjk-what-problems-big5">
        Big5 中国語文字セットを使用する場合は、どのような問題に注意するべきですか。
      </a></dt><dt>A.11.4. <a href="faqs.html#faq-cjk-what-japanese-chars-fail">
        日本語文字セットの変換が失敗するのはなぜですか。
      </a></dt><dt>A.11.5. <a href="faqs.html#faq-cjk-how-convert-81ca-cp932">
        SJIS の 81CA を cp932 に変換する場合はどうすればよいですか。
      </a></dt><dt>A.11.6. <a href="faqs.html#faq-cjk-how-represent-yen">
        MySQL では円 (¥) 記号をどのように表しますか。
      </a></dt><dt>A.11.7. <a href="faqs.html#faq-cjk-what-problems-korean">
        MySQL で韓国語文字セットを使用する場合に注意する問題はありますか。
      </a></dt><dt>A.11.8. <a href="faqs.html#faq-cjk-why-incorrect-string-value">
        なぜ「Incorrect string value」というエラーメッセージが表示されるのですか。
      </a></dt><dt>A.11.9. <a href="faqs.html#faq-cjk-why-gui-not-display-cjk">
        Access、PHP または別の API を使用して、アプリケーションで GUI フロントエンドまたはブラウザに CJK 文字が正しく表示されないのはなぜですか。
      </a></dt><dt>A.11.10. <a href="faqs.html#faq-cjk-how-use-4-0-charset">
        MySQL 8.0 にアップグレードしました。 文字セットに関して、MySQL 4.0 の動作に戻すにはどうすればよいですか。 
      </a></dt><dt>A.11.11. <a href="faqs.html#faq-cjk-why-cjk-fail-searches">
        CJK 文字での LIKE 検索および FULLTEXT 検索が失敗することがあるのはなぜですか。
      </a></dt><dt>A.11.12. <a href="faqs.html#faq-cjk-how-know-avail-characters">
        文字 X がすべての文字セットで使用可能であるかどうかを判別するにはどうすればよいですか。
      </a></dt><dt>A.11.13. <a href="faqs.html#faq-cjk-how-cjk-sort-unicode-1">
        CJK 文字列が Unicode で間違ってソートされるのはなぜですか。 (I) 
      </a></dt><dt>A.11.14. <a href="faqs.html#faq-cjk-how-cjk-sort-unicode-2">
        CJK 文字列が Unicode で間違ってソートされるのはなぜですか。 (II) 
      </a></dt><dt>A.11.15. <a href="faqs.html#faq-cjk-why-supplement-char-rejected">
        補助文字が MySQL で拒否されるのはなぜですか。
      </a></dt><dt>A.11.16. <a href="faqs.html#faq-cjk-why-cjk-not-cjkv">
        「CJK」 は 「CJKV」 である必要がありますか。
      </a></dt><dt>A.11.17. <a href="faqs.html#faq-cjk-how-cjk-db-table-names">
        MySQL では、CJK 文字をデータベース名およびテーブル名で使用できますか。
      </a></dt><dt>A.11.18. <a href="faqs.html#faq-cjk-where-doc-translations">
        MySQL マニュアルの中国語版、日本語版、および韓国語版はどこにありますか。
      </a></dt><dt>A.11.19. <a href="faqs.html#faq-cjk-help-with-cjk">
        MySQL での CJK および関連する問題についての支援はどこで受けることができますか。
      </a></dt></dl><table border="0" style="width: 100%;"><colgroup><col align="left" width="1%"><col></colgroup><tbody><tr class="question"><td align="left" valign="top"><a name="faq-cjk-what-cjk-avail"></a><a name="idm45302163194592"></a><p><b>A.11.1.</b></p></td><td align="left" valign="top"><p>
        MySQL で使用できる CJK 文字セットはどの文字セットですか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        CJK 文字セットのリストは、MySQL のバージョンによって異なることがあります。 たとえば、<code class="literal">gb18030</code> 文字セットは MySQL 5.7.4 より前はサポートされていません。 ただし、<code class="literal">INFORMATION_SCHEMA.CHARACTER_SETS</code> 表のすべてのエントリの <code class="literal">DESCRIPTION</code> カラムには適用可能な言語の名前が表示されるため、次のクエリーを使用して Unicode 以外のすべての CJK 文字セットの最新のリストを取得できます。 
      </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT CHARACTER_SET_NAME, DESCRIPTION</code></strong>
       <strong class="userinput"><code>FROM INFORMATION_SCHEMA.CHARACTER_SETS</code></strong>
       <strong class="userinput"><code>WHERE DESCRIPTION LIKE '%Chin%'</code></strong>
       <strong class="userinput"><code>OR DESCRIPTION LIKE '%Japanese%'</code></strong>
       <strong class="userinput"><code>OR DESCRIPTION LIKE '%Korean%'</code></strong>
       <strong class="userinput"><code>ORDER BY CHARACTER_SET_NAME;</code></strong>
+--------------------+---------------------------------+
| CHARACTER_SET_NAME | DESCRIPTION                     |
+--------------------+---------------------------------+
| big5               | Big5 Traditional Chinese        |
| cp932              | SJIS for Windows Japanese       |
| eucjpms            | UJIS for Windows Japanese       |
| euckr              | EUC-KR Korean                   |
| gb18030            | China National Standard GB18030 |
| gb2312             | GB2312 Simplified Chinese       |
| gbk                | GBK Simplified Chinese          |
| sjis               | Shift-JIS Japanese              |
| ujis               | EUC-JP Japanese                 |
+--------------------+---------------------------------+
</pre><p>
        (詳細は<a class="xref" href="information-schema.html#information-schema-character-sets-table" title="26.4 INFORMATION_SCHEMA CHARACTER_SETS テーブル">セクション26.4「INFORMATION_SCHEMA CHARACTER_SETS テーブル」</a>を参照してください。)
      </p><p>
        MySQL では、中国人民共和国で正式な <span class="firstterm">GB</span> (<span class="foreignphrase"><em class="foreignphrase">Guojia Biaozhun</em></span>、<span class="emphasis"><em>国民標準</em></span>または<span class="emphasis"><em>簡体字中国語</em></span>) 文字セットの 3 つのバリアントがサポートされています: <code class="literal">gb2312</code>、<code class="literal">gbk</code> および (MySQL 5.7.4 の時点) <code class="literal">gb18030</code>。
      </p><p>
        <code class="literal">gbk</code> は <code class="literal">gb2312</code> のスーパーセットであるため、ユーザーが <code class="literal">gbk</code> 文字を <code class="literal">gb2312</code> に挿入しようとする場合があります。 ただし、最終的には、まれな中国語の文字を挿入しようとしましたが、機能しません。 (例は、Bug #16072 を参照してください)。 
      </p><p>
        ここでは、<code class="literal">gb2312</code> または <code class="literal">gbk</code> で正当な文字を明らかにして、正式なドキュメントへの参照を示します。 <code class="literal">gb2312</code> または <code class="literal">gbk</code> のバグを報告する前に、次のリファレンスを確認してください: 
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            MySQL <code class="literal">gbk</code> 文字セットは実際には<span class="quote">「<span class="quote">「Microsoft コードページ 936」</span>」</span>です。 これは、正式な <code class="literal">gbk</code> とは文字 <code class="literal">A1A4</code> (中黒)、<code class="literal">A1AA</code> (エムダッシュ)、<code class="literal">A6E0-A6F5</code>、および <code class="literal">A8BB-A8C0</code> が異なります。 
          </p></li><li class="listitem"><p>
            <code class="literal">gbk</code>/Unicode マッピングのリストについては、<a class="ulink" href="http://www.unicode.org/Public/MAPPINGS/VENDORS/MICSFT/WINDOWS/CP936.TXT" target="_top">http://www.unicode.org/Public/MAPPINGS/VENDORS/MICSFT/WINDOWS/CP936.TXT</a> を参照してください。
          </p></li></ul></div><p>
        また、CJK 文字を Unicode 文字セットで格納することもできますが、使用可能な照合順序では文字が予期したとおりにソートされない場合があります:
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <code class="literal">utf8</code> および <code class="literal">ucs2</code> 文字セットでは、Unicode Basic Multilingual Plane (BMP) の文字がサポートされています。 これらの文字には、<code class="literal">U+0000</code> と <code class="literal">U+FFFF</code> の間のコードポイント値があります。 
          </p></li><li class="listitem"><p>
            <code class="literal">utf8mb4</code>, <code class="literal">utf16</code>, <code class="literal">utf16le</code> および <code class="literal">utf32</code> の文字セットでは、BMP 文字と BMP の外部にある補助文字がサポートされています。 補助文字には、<code class="literal">U+10000</code> と <code class="literal">U+10FFFF</code> の間のコードポイント値があります。 
          </p></li></ul></div><p>
        Unicode 文字セットに使用される照合順序によって、セット内の文字をソート (区別) する機能が決まります:
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            Unicode 照合アルゴリズム (UCA) に基づく照合では、4.0.0 は BMP 文字のみを区別します。
          </p></li><li class="listitem"><p>
            UCA 5.2.0 または 9.0.0 に基づく照合では、BMP と補助文字が区別されます。
          </p></li><li class="listitem"><p>
            UCA 以外の照合順序では、すべての Unicode 文字が区別されない場合があります。 たとえば、<code class="literal">utf8mb4</code> のデフォルトの照合は <code class="literal">utf8mb4_general_ci</code> で、BMP 文字のみが区別されます。 
          </p></li></ul></div><p>
        さらに、文字の区別は、特定の CJK 言語の表記規則に従って文字を順序付けすることと同じではありません。 現在、MySQL には CJK 固有の UCA 照合順序である <code class="literal">gb18030_unicode_520_ci</code> のみがあります (Unicode 以外の <code class="literal">gb18030</code> 文字セットを使用する必要があります)。 
      </p><p>
        Unicode 照合およびそれらの区別プロパティ (補助文字の照合プロパティを含む) の詳細は、<a class="xref" href="charset.html#charset-unicode-sets" title="10.10.1 Unicode 文字セット">セクション10.10.1「Unicode 文字セット」</a> を参照してください。
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-cjk-why-cjk-question-marks"></a><a name="idm45302163141200"></a><p><b>A.11.2.</b></p></td><td align="left" valign="top"><p>
        CJK 文字をテーブルに挿入しました。 <code class="literal">SELECT</code> でそれらが<span class="quote">「<span class="quote">?</span>」</span>文字として表示されるのはなぜですか。 
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        この問題は通常、MySQL の設定がアプリケーションプログラムまたはオペレーティングシステムの設定と一致しないことが原因です。 これらのタイプの問題を修正するための一般的な手順を次に示します。 
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <span class="emphasis"><em>使用している MySQL のバージョンを確認します</em></span>。
          </p><p>
            これを判別するには、<code class="literal">SELECT VERSION();</code> ステートメントを使用します。
          </p></li><li class="listitem"><p>
            <span class="emphasis"><em>意図した文字セットがデータベースで実際に使用されていることを確認します</em></span>。
          </p><p>
            ユーザーは多くの場合、クライアントの文字セットはサーバーの文字セットまたは表示のために使用される文字セットと常に同じであると考えます。 ただし、これらは両方とも間違った想定です。 次のステートメントを使用して、<code class="literal">SHOW CREATE TABLE <em class="replaceable"><code>tablename</code></em></code> の結果を確認するか、またはさらに適切に確認できます: 
          </p><pre class="programlisting">SELECT character_set_name, collation_name
    FROM information_schema.columns
    WHERE table_schema = your_database_name
        AND table_name = your_table_name
        AND column_name = your_column_name;
</pre></li><li class="listitem"><p>
            <span class="emphasis"><em>正しく表示されない文字の 16 進値を判別します</em></span>。
          </p><p>
            テーブル <em class="replaceable"><code>table_name</code></em> のカラム <em class="replaceable"><code>column_name</code></em> のこの情報を取得するには、次のクエリーを使用します。
          </p><pre class="programlisting">SELECT HEX(<em class="replaceable"><code>column_name</code></em>)
FROM <em class="replaceable"><code>table_name</code></em>;
</pre><p>
            <code class="literal">3F</code> は <code class="literal">?</code> 文字のエンコードです。これは、<code class="literal">?</code> が実際にカラムに格納される文字であることを意味します。 これは、ほとんどの場合、特定の文字をクライアントの文字セットからターゲットの文字セットに変換するときの問題のために発生します。 
          </p></li><li class="listitem"><p>
            <span class="emphasis"><em>Make では、ラウンドトリップが可能であることを確認します。 <em class="replaceable"><code>literal</code></em> (または<em class="replaceable"><code>_introducer hexadecimal-value</code></em>) を選択した場合、<em class="replaceable"><code>literal</code></em> を result</em></span> として取得しますか。 
          </p><p>
            たとえば、日本語のカタカナ文字 <span class="foreignphrase"><em class="foreignphrase">Pe</em></span> (<code class="literal">ペ</code>) はすべての CJK 文字セットに存在し、コードポイント値 (16 進コーディング) は <code class="literal">0x30da</code> です。 この文字のラウンドトリップをテストするには、次のクエリーを使用します。 
          </p><pre class="programlisting">SELECT 'ペ' AS `ペ`;         /* or SELECT _ucs2 0x30da; */
</pre><p>
            結果が<code class="literal">ペ</code>でもない場合、ラウンドトリップは失敗します。
          </p><p>
            そのような失敗に関するバグレポートの場合は、<code class="literal">SELECT HEX('ペ');</code> も試すように要請されることがあります。 これにより、クライアントのエンコードが正しいかどうかを判断できます。 
          </p></li><li class="listitem"><p>
            <span class="emphasis"><em>問題が MySQL 以外のブラウザまたはほかのアプリケーションの問題ではないことを確認します</em></span>。
          </p><p>
            このタスクを実行するには、<span class="command"><strong>mysql</strong></span> クライアントプログラムを使用します。 <span class="command"><strong>mysql</strong></span> で文字が正しく表示されるが、アプリケーションで文字が表示されない場合は、おそらくシステム設定が原因です。 
          </p><p>
            設定を確認するには、<code class="literal">SHOW VARIABLES</code> ステートメントを使用します。このステートメントの出力は次のようになります:
          </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>SHOW VARIABLES LIKE 'char%';</code></strong>
+--------------------------+----------------------------------------+
| Variable_name            | Value                                  |
+--------------------------+----------------------------------------+
| character_set_client     | utf8                                   |
| character_set_connection | utf8                                   |
| character_set_database   | latin1                                 |
| character_set_filesystem | binary                                 |
| character_set_results    | utf8                                   |
| character_set_server     | latin1                                 |
| character_set_system     | utf8                                   |
| character_sets_dir       | /usr/local/mysql/share/mysql/charsets/ |
+--------------------------+----------------------------------------+
</pre><p>
            これらは、West (<code class="literal">latin1</code> は西ヨーロッパ言語の文字セット) のサーバーに接続された国際指向クライアント (<code class="literal">utf8</code> Unicode の使用に注意) の一般的な文字セット設定です。
          </p><p>
            Latin よりも Unicode (通常、Unix での <code class="literal">utf8</code> バリアント、および Windows での <code class="literal">ucs2</code> バリアント) の方が望ましいですが、オペレーティングシステムのユーティリティーで最適にサポートされる文字セットではないことがあります。 多くの Windows ユーザーは、Microsoft の文字セット (日本語 Windows 用の <code class="literal">cp932</code> など) が適当であると判断します。 
          </p><p>
            サーバー設定を制御できず、基礎となるコンピュータで使用される設定がわからない場合は、使用している国に共通の文字セット (<code class="literal">euckr</code> = Korea、<code class="literal">gb18030</code>、<code class="literal">gb2312</code> または <code class="literal">gbk</code> = People Republic of China; <code class="literal">big5</code> = Taiwan; <code class="literal">sjis</code>, <code class="literal">ujis</code>, <code class="literal">cp932</code>、または <code class="literal">eucjpms</code> = Japan; <code class="literal">ucs2</code> または <code class="literal">utf8</code> = anywhere) に変更してみてください。 通常、クライアント、接続、および結果の設定のみを変更する必要があります。 <code class="literal">SET NAMES</code>. ステートメントは、3 つすべてを一度に変更します。 例: 
          </p><pre class="programlisting">SET NAMES 'big5';
</pre><p>
            設定が正しい場合は、<code class="filename">my.cnf</code> または <code class="filename">my.ini</code> を編集することによってそれを永続的なものにできます。 たとえば、次のような行を追加できます。 
          </p><pre class="programlisting">[mysqld]
character-set-server=big5
[client]
default-character-set=big5
</pre><p>
            アプリケーションで使用されている API 構成の設定に問題があることもあります。詳細は、<em class="citetitle">「GUI フロントエンドまたはブラウザで CJK 文字が正しく表示されないのはなぜですか」</em>を参照してください。
          </p></li></ul></div></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-cjk-what-problems-big5"></a><a name="idm45302163083296"></a><p><b>A.11.3.</b></p></td><td align="left" valign="top"><p>
        Big5 中国語文字セットを使用する場合は、どのような問題に注意するべきですか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        MySQL は、香港および台湾 (中華民国) で一般的な Big5 文字セットをサポートしています。 MySQL <code class="literal">big5</code> 文字セットは、実際には元の <code class="literal">big5</code> 文字セットと非常によく似た Microsoft コードページ 950 にあります。 
      </p><p>
        <code class="literal">HKSCS</code> 拡張を追加する機能要求は申請されています。 この拡張を必要とするユーザーの場合、Bug #13577 のための推奨パッチが役に立つことがあります。 
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-cjk-what-japanese-chars-fail"></a><a name="idm45302163077680"></a><p><b>A.11.4.</b></p></td><td align="left" valign="top"><p>
        日本語文字セットの変換が失敗するのはなぜですか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        MySQL は、<code class="literal">sjis</code>、<code class="literal">ujis</code>、<code class="literal">cp932</code>、および <code class="literal">eucjpms</code> 文字セットと Unicode をサポートしています。 一般的なニーズは文字セット間で変換を行うことです。 たとえば、Unix のサーバー (通常は <code class="literal">sjis</code> または <code class="literal">ujis</code> が使用されます) と Windows のクライアント (通常は <code class="literal">cp932</code> が使用されます) を使用している場合があります。 
      </p><p>
        次の変換テーブルでは、<code class="literal">ucs2</code> カラムはソースを表し、<code class="literal">sjis</code>, <code class="literal">cp932</code>, <code class="literal">ujis</code> および <code class="literal">eucjpms</code> カラムは宛先を表します。つまり、<code class="literal">CONVERT(ucs2)</code> を使用するか、値を含む <code class="literal">ucs2</code> カラムを <code class="literal">sjis</code>, <code class="literal">cp932</code>, <code class="literal">ujis</code> または <code class="literal">eucjpms</code> カラムに割り当てると、最後の 4 カラムは 16 進数の結果を提供します。
      </p><div class="informaltable"><table summary="Result of assigning various ucs2 characters to a column that uses the sjis, cp932, ujis, or eucjpms character set."><col style="width: 40%"><col align="left" style="width: 12%"><col align="right" style="width: 12%"><col align="right" style="width: 12%"><col align="right" style="width: 12%"><col align="right" style="width: 12%"><thead><tr>
            <th scope="col">文字名</th>
            <th scope="col">ucs2</th>
            <th scope="col">sjis</th>
            <th scope="col">cp932</th>
            <th scope="col">ujis</th>
            <th scope="col">eucjpms</th>
          </tr></thead><tbody><tr>
            <th scope="row">BROKEN BAR (破断線)</th>
            <td>00A6</td>
            <td>3F</td>
            <td>3F</td>
            <td>8FA2C3</td>
            <td>3F</td>
          </tr><tr>
            <th scope="row">FULLWIDTH BROKEN BAR (全角破断線)</th>
            <td>FFE4</td>
            <td>3F</td>
            <td>FA55</td>
            <td>3F</td>
            <td>8FA2</td>
          </tr><tr>
            <th scope="row">YEN SIGN (円記号)</th>
            <td>00A5</td>
            <td>3F</td>
            <td>3F</td>
            <td>20</td>
            <td>3F</td>
          </tr><tr>
            <th scope="row">FULLWIDTH YEN SIGN (全角円記号)</th>
            <td>FFE5</td>
            <td>818F</td>
            <td>818F</td>
            <td>A1EF</td>
            <td>3F</td>
          </tr><tr>
            <th scope="row">TILDE (チルダ)</th>
            <td>007E</td>
            <td>7E</td>
            <td>7E</td>
            <td>7E</td>
            <td>7E</td>
          </tr><tr>
            <th scope="row">OVERLINE (オーバーライン)</th>
            <td>203E</td>
            <td>3F</td>
            <td>3F</td>
            <td>20</td>
            <td>3F</td>
          </tr><tr>
            <th scope="row">HORIZONTAL BAR (水平線)</th>
            <td>2015</td>
            <td>815C</td>
            <td>815C</td>
            <td>A1BD</td>
            <td>A1BD</td>
          </tr><tr>
            <th scope="row">EM DASH (エムダッシュ)</th>
            <td>2014</td>
            <td>3F</td>
            <td>3F</td>
            <td>3F</td>
            <td>3F</td>
          </tr><tr>
            <th scope="row">REVERSE SOLIDUS (リバースソリダス)</th>
            <td>005C</td>
            <td>815F</td>
            <td>5C</td>
            <td>5C</td>
            <td>5C</td>
          </tr><tr>
            <th scope="row">全角逆斜線</th>
            <td>FF3C</td>
            <td>3F</td>
            <td>815F</td>
            <td>3F</td>
            <td>A1C0</td>
          </tr><tr>
            <th scope="row">WAVE DASH (波ダッシュ)</th>
            <td>301C</td>
            <td>8160</td>
            <td>3F</td>
            <td>A1C1</td>
            <td>3F</td>
          </tr><tr>
            <th scope="row">FULLWIDTH TILDE (全角チルダ)</th>
            <td>FF5E</td>
            <td>3F</td>
            <td>8160</td>
            <td>3F</td>
            <td>A1C1</td>
          </tr><tr>
            <th scope="row">DOUBLE VERTICAL LINE (双柱)</th>
            <td>2016</td>
            <td>8161</td>
            <td>3F</td>
            <td>A1C2</td>
            <td>3F</td>
          </tr><tr>
            <th scope="row">PARALLEL TO (平行)</th>
            <td>2225</td>
            <td>3F</td>
            <td>8161</td>
            <td>3F</td>
            <td>A1C2</td>
          </tr><tr>
            <th scope="row">MINUS SIGN (マイナス記号)</th>
            <td>2212</td>
            <td>817C</td>
            <td>3F</td>
            <td>A1DD</td>
            <td>3F</td>
          </tr><tr>
            <th scope="row">FULLWIDTH HYPHEN-MINUS (全角ハイフンマイナス)</th>
            <td>FF0D</td>
            <td>3F</td>
            <td>817C</td>
            <td>3F</td>
            <td>A1DD</td>
          </tr><tr>
            <th scope="row">CENT SIGN (セント記号)</th>
            <td>00A2</td>
            <td>8191</td>
            <td>3F</td>
            <td>A1F1</td>
            <td>3F</td>
          </tr><tr>
            <th scope="row">FULLWIDTH CENT SIGN (全角セント記号)</th>
            <td>FFE0</td>
            <td>3F</td>
            <td>8191</td>
            <td>3F</td>
            <td>A1F1</td>
          </tr><tr>
            <th scope="row">POUND SIGN (ポンド記号)</th>
            <td>00A3</td>
            <td>8192</td>
            <td>3F</td>
            <td>A1F2</td>
            <td>3F</td>
          </tr><tr>
            <th scope="row">FULLWIDTH POUND SIGN (全角ポンド記号)</th>
            <td>FFE1</td>
            <td>3F</td>
            <td>8192</td>
            <td>3F</td>
            <td>A1F2</td>
          </tr><tr>
            <th scope="row">NOT SIGN (否定記号)</th>
            <td>00AC</td>
            <td>81CA</td>
            <td>3F</td>
            <td>A2CC</td>
            <td>3F</td>
          </tr><tr>
            <th scope="row">FULLWIDTH NOT SIGN (全角否定記号)</th>
            <td>FFE2</td>
            <td>3F</td>
            <td>81CA</td>
            <td>3F</td>
            <td>A2CC</td>
          </tr></tbody></table></div><p>
        では、この表の次の部分について考えてみましょう。
      </p><div class="informaltable"><table summary="Result of assigning NOT SIGN and FULLWIDTH NOT SIGN ucs2 characters to a column that uses the sjis, cp932, ujis, or eucjpms character set."><col style="width: 55%"><col align="right" style="width: 15%"><col align="right" style="width: 15%"><col align="right" style="width: 15%"><thead><tr>
            <th scope="col"></th>
            <th scope="col">ucs2</th>
            <th scope="col">sjis</th>
            <th scope="col">cp932</th>
          </tr></thead><tbody><tr>
            <th scope="row">NOT SIGN (否定記号)</th>
            <td>00AC</td>
            <td>81CA</td>
            <td>3F</td>
          </tr><tr>
            <th scope="row">FULLWIDTH NOT SIGN (全角否定記号)</th>
            <td>FFE2</td>
            <td>3F</td>
            <td>81CA</td>
          </tr></tbody></table></div><p>
        つまり、MySQL は <code class="literal">NOT SIGN</code> (Unicode <code class="literal">U+00AC</code>) を <code class="literal">sjis</code> コードポイント <code class="literal">0x81CA</code> および <code class="literal">cp932</code> コードポイント <code class="literal">3F</code> に変換します。(<code class="literal">3F</code> は疑問符 (<span class="quote">「<span class="quote">?</span>」</span>) です。 これは、変換を実行できない場合に常に使用されるものです。) 
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-cjk-how-convert-81ca-cp932"></a><a name="idm45302162889504"></a><p><b>A.11.5.</b></p></td><td align="left" valign="top"><p>
        SJIS の <code class="literal">81CA</code> を <code class="literal">cp932</code> に変換する場合はどうすればよいですか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        答えは<span class="quote">「<span class="quote">?</span>」</span>です。 これにはデメリットがあり、多くのユーザーが<span class="quote">「<span class="quote">「ルーズ」</span>」</span>変換を希望するため、<code class="literal">sjis</code> の <code class="literal">81CA (NOT SIGN)</code> は <code class="literal">cp932</code> の <code class="literal">81CA (FULLWIDTH NOT SIGN)</code> になります。 
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-cjk-how-represent-yen"></a><a name="idm45302162882128"></a><p><b>A.11.6.</b></p></td><td align="left" valign="top"><p>
        MySQL では円 (<code class="literal">¥</code>) 記号をどのように表しますか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        一部のバージョンの日本語文字セット (<code class="literal">sjis</code> と <code class="literal">euc</code>) では <code class="literal">5C</code> が<span class="firstterm">逆斜線</span> (<code class="literal">\</code>、バックスラッシュとも呼ばれる) として扱われ、他のバージョンでは円記号 (<code class="literal">¥</code>) として扱われるため、問題が発生します。
      </p><p>
        MySQL は JIS (Japanese Industrial Standards) 標準に記述されている 1 つのバージョンのみに従っています。 MySQL では <span class="emphasis"><em><code class="literal">5C</code> は常にリバースソリダス (<code class="literal">\</code>)</em></span> です。 
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-cjk-what-problems-korean"></a><a name="idm45302162872384"></a><p><b>A.11.7.</b></p></td><td align="left" valign="top"><p>
        MySQL で韓国語文字セットを使用する場合に注意する問題はありますか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        理論的には、複数のバージョンの <code class="literal">euckr</code> (<span class="firstterm">Extended Unix Code Korea</span>) 文字セットがありますが、認識されている問題は 1 つだけです。 コードポイント <code class="literal">0x5c</code> が<code class="literal">ウォン記号</code>  (<code class="literal">₩</code>) である EUC-KR の<span class="quote">「<span class="quote">KS-Roman</span>」</span>バリアントではなく、コードポイント <code class="literal">0x5c</code> がリバースソリダス (つまり、<code class="literal">\</code>) である EUC-KR の<span class="quote">「<span class="quote">ASCII</span>」</span>バリアントが使用されています。 これは、Unicode の <code class="literal">U+20A9</code> を <code class="literal">euckr</code> に変換できないことを意味します。 
      </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT</code></strong>
           <strong class="userinput"><code>CONVERT('₩' USING euckr) AS euckr,</code></strong>
           <strong class="userinput"><code>HEX(CONVERT('₩' USING euckr)) AS hexeuckr;</code></strong>
+-------+----------+
| euckr | hexeuckr |
+-------+----------+
| ?     | 3F       |
+-------+----------+
</pre></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-cjk-why-incorrect-string-value"></a><a name="idm45302162859040"></a><p><b>A.11.8.</b></p></td><td align="left" valign="top"><p>
        なぜ<span class="errortext">「Incorrect string value」</span>というエラーメッセージが表示されるのですか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        この問題を確認するには、Unicode (<code class="literal">ucs2</code>) カラムと中国語 (<code class="literal">gb2312</code>) カラムを含むテーブルを作成します。
      </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>CREATE TABLE ch</code></strong>
       <strong class="userinput"><code>(ucs2 CHAR(3) CHARACTER SET ucs2,</code></strong>
       <strong class="userinput"><code>gb2312 CHAR(3) CHARACTER SET gb2312);</code></strong>
</pre><p>
        非厳密 SQL モードでは、両方のカラムにまれな文字<code class="literal">汌</code>を配置してみてください。
      </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>SET sql_mode = '';</code></strong>
mysql&gt; <strong class="userinput"><code>INSERT INTO ch VALUES ('A汌B','A汌B');</code></strong>
Query OK, 1 row affected, 1 warning (0.00 sec)
</pre><p>
        <code class="literal">INSERT</code> によって警告が生成されます。 次のステートメントを使用してその内容を確認します。 
      </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>SHOW WARNINGS\G</code></strong>
*************************** 1. row ***************************
  Level: Warning
   Code: 1366
Message: Incorrect string value: '\xE6\xB1\x8CB' for column 'gb2312' at row 1
</pre><p>
        <code class="literal">gb2312</code> カラムのみに関する警告でした。
      </p><pre class="programlisting">mysql&gt; SELECT ucs2,HEX(ucs2),gb2312,HEX(gb2312) FROM ch;
+-------+--------------+--------+-------------+
| ucs2  | HEX(ucs2)    | gb2312 | HEX(gb2312) |
+-------+--------------+--------+-------------+
| A汌B | 00416C4C0042 | A?B    | 413F42      |
+-------+--------------+--------+-------------+
</pre><p>
        いくつかのことを説明する必要があります。
      </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
            前述のように、<code class="literal">汌</code>文字は <code class="literal">gb2312</code> 文字セットに含まれていません。
          </p></li><li class="listitem"><p>
            古いバージョンの MySQL を使用している場合は、別のメッセージが表示されることがあります。
          </p></li><li class="listitem"><p>
            MySQL は厳密な SQL モードを使用するように設定されていないため、エラーではなく警告が発生します。 非厳密モードでは、MySQL は放棄するのではなく、最良の適合を得るために実行しようとします。 厳密な SQL モードでは、<span class="errortext">「不正な文字列値」</span>メッセージは警告ではなくエラーとして発生し、<code class="literal">INSERT</code> は失敗します。 
          </p></li></ol></div></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-cjk-why-gui-not-display-cjk"></a><a name="idm45302162834224"></a><p><b>A.11.9.</b></p></td><td align="left" valign="top"><p>
        Access、PHP または別の API を使用して、アプリケーションで GUI フロントエンドまたはブラウザに CJK 文字が正しく表示されないのはなぜですか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        <span class="command"><strong>mysql</strong></span> クライアントを使用してサーバーへの直接接続を取得し、そこで同じクエリーを試行します。 <span class="command"><strong>mysql</strong></span> が正しく応答する場合、問題はアプリケーションインタフェースの初期化が必要である可能性があります。 <span class="command"><strong>mysql</strong></span> で <code class="literal">SHOW VARIABLES LIKE 'char%';</code> ステートメント使用して、使用される文字セットを確認します。 Access を使用している場合、コネクタ/ODBC を使用して接続している可能性があります。 この場合は、<a class="ulink" href="https://dev.mysql.com/doc/connector-odbc/en/connector-odbc-configuration.html" target="_top">Configuring Connector/ODBC</a>を確認してください。 たとえば、<code class="literal">big5</code> を使用する場合は、<code class="literal">SET NAMES 'big5'</code>と入力します。 (この場合、<code class="literal">;</code>文字は必要ありません。) ASP を使用している場合は、コードに <code class="literal">SET NAMES</code> を追加する必要があることがあります。 過去に作成された例を次に示します。 
      </p><pre class="programlisting">&lt;%
Session.CodePage=0
Dim strConnection
Dim Conn
strConnection="driver={MySQL ODBC 3.51 Driver};server=<em class="replaceable"><code>server</code></em>;uid=<em class="replaceable"><code>username</code></em>;" \
               &amp; "pwd=<em class="replaceable"><code>password</code></em>;database=<em class="replaceable"><code>database</code></em>;stmt=SET NAMES 'big5';"
Set Conn = Server.CreateObject("ADODB.Connection")
Conn.Open strConnection
%&gt;
</pre><p>
        ほぼ同様に、Connector/NET で <code class="literal">latin1</code> 以外の文字セットを使用している場合は、接続文字列に文字セットを指定する必要があります。 詳細は、<a class="ulink" href="https://dev.mysql.com/doc/connector-net/en/connector-net-connections.html" target="_top">Connector/NET Connections</a>を参照してください。 
      </p><p>
        PHP を使用している場合は、次のコードを試してください。
      </p><pre class="programlisting">&lt;?php
  $link = new mysqli($host, $usr, $pwd, $db);

  if( mysqli_connect_errno() )
  {
    printf("Connect failed: %s\n", mysqli_connect_error());
    exit();
  }

  $link-&gt;query("SET NAMES 'utf8'");
?&gt;
</pre><p>
        この場合、<code class="literal">SET NAMES</code> を使用して <code class="literal">character_set_client</code>、<code class="literal">character_set_connection</code> および <code class="literal">character_set_results</code> を変更しました。
      </p><p>
        PHP アプリケーションで頻繁に発生する別の問題は、ブラウザによって行われる想定に関連しています。 問題を修正するために <code class="literal">&lt;meta&gt;</code> タグの追加または変更で十分な場合があります: たとえば、ユーザーエージェントがページコンテンツを <code class="literal">UTF-8</code> として解釈するようにするには、HTML ページの <code class="literal">&lt;head&gt;</code> セクションに <code class="literal">&lt;meta http-equiv="Content-Type" content="text/html; charset=utf-8"&gt;</code> を含めます。 
      </p><p>
        Connector/J を使用している場合は、<a class="ulink" href="https://dev.mysql.com/doc/connector-j/8.0/en/connector-j-reference-charsets.html" target="_top">Using Character Sets and Unicode</a>を参照してください。
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-cjk-how-use-4-0-charset"></a><a name="idm45302162806384"></a><p><b>A.11.10.</b></p></td><td align="left" valign="top"><p>
        MySQL 8.0 にアップグレードしました。 文字セットに関して、MySQL 4.0 の動作に戻すにはどうすればよいですか。 
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        MySQL バージョン 4.0 では、サーバーおよびクライアントの両方のための単一の<span class="quote">「<span class="quote">グローバル</span>」</span>文字セットがあり、使用する文字の決定はサーバー管理者が行なっていました。 これは MySQL バージョン 4.1 以降で変更されました。 現在行われるのは、<a class="xref" href="charset.html#charset-connection" title="10.4 接続文字セットおよび照合順序">セクション10.4「接続文字セットおよび照合順序」</a>に説明されているように、<span class="quote">「<span class="quote">ハンドシェイク</span>」</span>です。 
      </p><div class="blockquote"><blockquote class="blockquote"><p>
          クライアントが接続するときに、使用する文字セットの名前をサーバーに送信します。 サーバーはこの名前を使用して、<code class="literal">character_set_client</code>、<code class="literal">character_set_results</code>、および <code class="literal">character_set_connection</code> システム変数を設定します。 実際には、サーバーは文字セット名を使用して <code class="literal">SET NAMES</code> 操作を実行します。 
        </p></blockquote></div><p>
        このことの影響は、<code class="option">--character-set-server=utf8</code> を指定して <span class="command"><strong>mysqld</strong></span> を開始することによって、クライアントの文字セットを制御できないことです。 ただし、アジアの顧客の中には、MySQL 4.0 の動作を好むものもあります。 この動作を維持できるように、<code class="option">--skip-character-set-client-handshake</code> を使用してオフにできる <span class="command"><strong>mysqld</strong></span> スイッチ <code class="option">--character-set-client-handshake</code> が追加されました。 <code class="option">--skip-character-set-client-handshake</code> を使用して <span class="command"><strong>mysqld</strong></span> を起動すると、クライアントは接続時に、使用する文字セットの名前をサーバーに送信します。 ただし、<span class="emphasis"><em>サーバーはクライアントからのこのリクエストを無視</em></span>。 
      </p><p>
        たとえば、お気に入りのサーバー文字セットが <code class="literal">latin1</code> であるとします。 クライアントのオペレーティングシステムでサポートされている文字セットであるため、クライアントが <code class="literal">utf8</code> を使用しているとします。 デフォルトの文字セットとして <code class="literal">latin1</code> を使用してサーバーを起動します: 
      </p><pre class="programlisting">mysqld --character-set-server=latin1
</pre><p>
        そのあと、クライアントをデフォルトの文字セット <code class="literal">utf8</code> で起動します。
      </p><pre class="programlisting">mysql --default-character-set=utf8
</pre><p>
        結果の設定は、<code class="literal">SHOW VARIABLES</code> の出力を表示することで確認できます:
      </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>SHOW VARIABLES LIKE 'char%';</code></strong>
+--------------------------+----------------------------------------+
| Variable_name            | Value                                  |
+--------------------------+----------------------------------------+
| character_set_client     | utf8                                   |
| character_set_connection | utf8                                   |
| character_set_database   | latin1                                 |
| character_set_filesystem | binary                                 |
| character_set_results    | utf8                                   |
| character_set_server     | latin1                                 |
| character_set_system     | utf8                                   |
| character_sets_dir       | /usr/local/mysql/share/mysql/charsets/ |
+--------------------------+----------------------------------------+
</pre><p>
        次に、クライアントを停止し、<span class="command"><strong>mysqladmin</strong></span> を使用してサーバーを停止します。 今度はハンドシェイクをスキップするように通知して、サーバーをふたたび起動します。 
      </p><pre class="programlisting">mysqld --character-set-server=utf8 --skip-character-set-client-handshake
</pre><p>
        <code class="literal">utf8</code> をデフォルトの文字セットとして再度使用してクライアントを起動し、結果の設定を表示します:
      </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>SHOW VARIABLES LIKE 'char%';</code></strong>
+--------------------------+----------------------------------------+
| Variable_name            | Value                                  |
+--------------------------+----------------------------------------+
| character_set_client     | latin1                                 |
| character_set_connection | latin1                                 |
| character_set_database   | latin1                                 |
| character_set_filesystem | binary                                 |
| character_set_results    | latin1                                 |
| character_set_server     | latin1                                 |
| character_set_system     | utf8                                   |
| character_sets_dir       | /usr/local/mysql/share/mysql/charsets/ |
+--------------------------+----------------------------------------+
</pre><p>
        <code class="literal">SHOW VARIABLES</code> とは異なる結果を比較することでわかるように、<code class="option">--skip-character-set-client-handshake</code> オプションが使用されている場合、サーバーはクライアントの初期設定を無視します。
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-cjk-why-cjk-fail-searches"></a><a name="idm45302162769424"></a><p><b>A.11.11.</b></p></td><td align="left" valign="top"><p>
        CJK 文字での <code class="literal">LIKE</code> 検索および <code class="literal">FULLTEXT</code> 検索が失敗することがあるのはなぜですか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        <code class="literal">LIKE</code> 検索では、<code class="literal">BINARY</code> や <code class="literal">BLOB</code> などのバイナリ文字列カラム型に非常に単純な問題があります: 文字の終わりを知っている必要があります。 マルチバイト文字セットでは、各文字のオクテット長が異なることがあります。 たとえば、<code class="literal">utf8</code> の場合、次に示すように <code class="literal">A</code> は 1 バイトを必要としますが、<code class="literal">ペ</code> は 3 バイトを必要とします。 
      </p><pre class="programlisting">+-------------------------+---------------------------+
| OCTET_LENGTH(_utf8 'A') | OCTET_LENGTH(_utf8 'ペ') |
+-------------------------+---------------------------+
|                       1 |                         3 |
+-------------------------+---------------------------+
</pre><p>
        文字列の最初の文字がどこで終わるかわからない場合は、2 番目の文字がどこで始まるかわからないため、<code class="literal">LIKE '_A%'</code>などの非常に単純な検索も失敗します。 解決策は、適切な CJK 文字セットを持つように定義された非バイナリ文字列カラム型を使用することです。 次に例を示します: <code class="literal">mycol TEXT CHARACTER SET sjis</code>。 または、比較する前に CJK 文字セットに変換してください。 
      </p><p>
        これは、MySQL が存在しない文字のエンコーディングを許可できない理由の 1 つです。 不正な入力の拒否に厳密でない場合は、文字の終わりを知る方法はありません。 
      </p><p>
        <code class="literal">FULLTEXT</code> の検索では、単語の開始位置と終了位置を知る必要があります。 西欧言語では、ほとんど (すべてではない) が識別しやすい単語境界: スペース文字を使用するため、これはほとんど問題ではありません。 ただし、通常、アジアの言語ではこれは異なります。 独自の判断で不完全な方法を使用して、すべての漢字が単語を表すと想定したり、(日本語の場合) 文法的な終わりに従ったカタカナからひらがなへの変化に応じるようにしたりすることもできます。 ただし、唯一の確実な解決策では、包括的な単語のリストが必要となります。これは、サポートされる各アジア言語のサーバーに辞書を含める必要があることを意味します。 これは簡単に言って実現可能ではありません。 
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-cjk-how-know-avail-characters"></a><a name="idm45302162751616"></a><p><b>A.11.12.</b></p></td><td align="left" valign="top"><p>
        文字 <em class="replaceable"><code>X</code></em> がすべての文字セットで使用可能であるかどうかを判別するにはどうすればよいですか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        簡体字中国語および半角ではない基本的な日本語のかな文字のほとんどは、すべての CJK 文字セットで表示されます。 次のストアドプロシージャは、<code class="literal">UCS-2</code> Unicode 文字を受け入れて他の文字セットに変換し、結果を 16 進数で表示します。 
      </p><pre class="programlisting">DELIMITER //

CREATE PROCEDURE p_convert(ucs2_char CHAR(1) CHARACTER SET ucs2)
BEGIN

CREATE TABLE tj
             (ucs2 CHAR(1) character set ucs2,
              utf8 CHAR(1) character set utf8,
              big5 CHAR(1) character set big5,
              cp932 CHAR(1) character set cp932,
              eucjpms CHAR(1) character set eucjpms,
              euckr CHAR(1) character set euckr,
              gb2312 CHAR(1) character set gb2312,
              gbk CHAR(1) character set gbk,
              sjis CHAR(1) character set sjis,
              ujis CHAR(1) character set ujis);

INSERT INTO tj (ucs2) VALUES (ucs2_char);

UPDATE tj SET utf8=ucs2,
              big5=ucs2,
              cp932=ucs2,
              eucjpms=ucs2,
              euckr=ucs2,
              gb2312=ucs2,
              gbk=ucs2,
              sjis=ucs2,
              ujis=ucs2;

/* If there are conversion problems, UPDATE produces warnings. */

SELECT hex(ucs2) AS ucs2,
       hex(utf8) AS utf8,
       hex(big5) AS big5,
       hex(cp932) AS cp932,
       hex(eucjpms) AS eucjpms,
       hex(euckr) AS euckr,
       hex(gb2312) AS gb2312,
       hex(gbk) AS gbk,
       hex(sjis) AS sjis,
       hex(ujis) AS ujis
FROM tj;

DROP TABLE tj;

END//

DELIMITER ;
</pre><p>
        入力には、単一の <code class="literal">ucs2</code> 文字を使用することも、その文字のコード値 (16 進表記) を使用することもできます。 たとえば、<code class="literal">ucs2</code> エンコーディングおよび名前 (<a class="ulink" href="http://www.unicode.org/Public/UNIDATA/UnicodeData.txt" target="_top">http://www.unicode.org/Public/UNIDATA/UnicodeData.txt</a>) の Unicode リストから、Katakana 文字 <span class="foreignphrase"><em class="foreignphrase">Pe</em></span> がすべての CJK 文字セットに表示され、そのコード値が <code class="literal">X'30DA'</code>であることがわかります。 この値を <code class="literal">p_convert()</code> の引数として使用すると、次のような結果となります。 
      </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>CALL p_convert(X'30DA');</code></strong>
+------+--------+------+-------+---------+-------+--------+------+------+------+
| ucs2 | utf8   | big5 | cp932 | eucjpms | euckr | gb2312 | gbk  | sjis | ujis |
+------+--------+------+-------+---------+-------+--------+------+------+------+
| 30DA | E3839A | C772 | 8379  | A5DA    | ABDA  | A5DA   | A5DA | 8379 | A5DA |
+------+--------+------+-------+---------+-------+--------+------+------+------+
</pre><p>
        いずれのカラム値も <code class="literal">3F</code> (疑問符文字、<code class="literal">?</code>) ではないため、すべての変換が機能したことがわかります。
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-cjk-how-cjk-sort-unicode-1"></a><a name="idm45302162736336"></a><p><b>A.11.13.</b></p></td><td align="left" valign="top"><p>
        CJK 文字列が Unicode で間違ってソートされるのはなぜですか。 (I) 
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        古い MySQL バージョンで発生した CJK ソートの問題は、<code class="literal">utf8mb4</code> 文字セットおよび <code class="literal">utf8mb4_ja_0900_as_cs</code> 照合順序を使用して、MySQL 8.0 の時点で解決できます。
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-cjk-how-cjk-sort-unicode-2"></a><a name="idm45302162732448"></a><p><b>A.11.14.</b></p></td><td align="left" valign="top"><p>
        CJK 文字列が Unicode で間違ってソートされるのはなぜですか。 (II) 
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        古い MySQL バージョンで発生した CJK ソートの問題は、<code class="literal">utf8mb4</code> 文字セットおよび <code class="literal">utf8mb4_ja_0900_as_cs</code> 照合順序を使用して、MySQL 8.0 の時点で解決できます。
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-cjk-why-supplement-char-rejected"></a><a name="idm45302162728576"></a><p><b>A.11.15.</b></p></td><td align="left" valign="top"><p>
        補助文字が MySQL で拒否されるのはなぜですか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        補助文字は Unicode <span class="emphasis"><em>基本多言語面 / 平面 0</em></span>の外部にあります。 BMP 文字には、<code class="literal">U+0000</code> と <code class="literal">U+FFFF</code> の間のコードポイント値があります。 補助文字には、<code class="literal">U+10000</code> と <code class="literal">U+10FFFF</code> の間のコードポイント値があります。 
      </p><p>
        補助文字を格納するには、それらを許可する文字セットを使用する必要があります:
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <code class="literal">utf8</code> および <code class="literal">ucs2</code> 文字セットでは BMP 文字のみがサポートされます。
          </p><p>
            <code class="literal">utf8</code> 文字セットでは、最大 3 バイトを超える <code class="literal">UTF-8</code> 文字のみが許可されます。 このことが Bug #12600 などで報告され、<span class="quote">「<span class="quote">バグではありません</span>」</span>として拒否されました。 <code class="literal">utf8</code> では、認識できないバイトが検出された場合、MySQL は入力文字列を切り捨てる必要があります。 それ以外の場合、不正なマルチバイト文字の長さは不明です。 
          </p><p>
            考えられる回避策の 1 つは、<code class="literal">utf8</code> のかわりに <code class="literal">ucs2</code> を使用することです。この場合、<span class="quote">「<span class="quote">bad</span>」</span> 文字は疑問符に変更されます。 ただし、切捨ては行われません。 妥当性チェックが行われない <code class="literal">BLOB</code> または <code class="literal">BINARY</code> にデータ型を変更することもできます。 
          </p></li><li class="listitem"><p>
            <code class="literal">utf8mb4</code>, <code class="literal">utf16</code>, <code class="literal">utf16le</code> および <code class="literal">utf32</code> 文字セットでは、BMP 文字と BMP 外の補助文字がサポートされています。
          </p></li></ul></div></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-cjk-why-cjk-not-cjkv"></a><a name="idm45302162707040"></a><p><b>A.11.16.</b></p></td><td align="left" valign="top"><p>
        <span class="quote">「<span class="quote">CJK</span>」</span> は <span class="quote">「<span class="quote">CJKV</span>」</span> である必要がありますか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        いいえ。用語<span class="quote">「<span class="quote">CJKV</span>」</span>(<span class="firstterm">Chinese Japanese Korean Vietnamese</span>) は漢字 (もともとは中国語) が含まれているベトナム文字セットを指しています。 MySQL は、西部文字を含む最新のベトナム語スクリプトをサポートしていますが、ハン文字を使用した古いベトナム語スクリプトはサポートしていません。 
      </p><p>
        MySQL 5.6 の時点では、<a class="xref" href="charset.html#charset-unicode-sets" title="10.10.1 Unicode 文字セット">セクション10.10.1「Unicode 文字セット」</a>で説明しているように、Unicode 文字セットにベトナム語の照合順序があります。
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-cjk-how-cjk-db-table-names"></a><a name="idm45302162701104"></a><p><b>A.11.17.</b></p></td><td align="left" valign="top"><p>
        MySQL では、CJK 文字をデータベース名およびテーブル名で使用できますか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        はい。
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-cjk-where-doc-translations"></a><a name="idm45302162698928"></a><p><b>A.11.18.</b></p></td><td align="left" valign="top"><p>
        MySQL マニュアルの中国語版、日本語版、および韓国語版はどこにありますか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        MySQL 5.6 マニュアルの日本語版は、<a class="ulink" href="https://dev.mysql.com/doc/" target="_top">https://dev.mysql.com/doc/</a> からダウンロードできます。
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-cjk-help-with-cjk"></a><a name="idm45302162696112"></a><p><b>A.11.19.</b></p></td><td align="left" valign="top"><p>
        MySQL での CJK および関連する問題についての支援はどこで受けることができますか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        次のリソースを利用できます。
        </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
              MySQL ユーザーグループのリストは、<a class="ulink" href="https://wikis.oracle.com/display/mysql/List+of+MySQL+User+Groups" target="_top">https://wikis.oracle.com/display/mysql/List+of+MySQL+User+Groups</a> にあります。
            </p></li><li class="listitem"><p>
              文字セットの問題に関連する機能要求については、<a class="ulink" href="http://tinyurl.com/y6xcuf" target="_top">http://tinyurl.com/y6xcuf</a> を参照してください。
            </p></li><li class="listitem"><p>
              MySQL <a class="ulink" href="https://forums.mysql.com/list.php?103" target="_top">「文字セット、照合順序、Unicode フォーラム」</a>にアクセスします。<a class="ulink" href="http://forums.mysql.com/" target="_top">http://forums.mysql.com/</a> には外国語フォーラムも用意されています。
            </p></li></ul></div><p>
      </p></td></tr></tbody></table></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="faqs-connectors-apis"></a>A.12 MySQL 8.0 FAQ: コネクタおよび API</h2></div></div></div><a class="indexterm" name="idm45302162687136"></a><p>
      MySQL Connector およびその他の API に関する一般的な質問、問題、および回答については、マニュアルの次の部分を参照してください。
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          <a class="ulink" href="https://dev.mysql.com/doc/c-api/8.0/en/c-api-features.html" target="_top">Using C API Features</a>
        </p></li><li class="listitem"><p>
          <a class="ulink" href="https://dev.mysql.com/doc/apis-php/en/apis-php-problems.html" target="_top">Common Problems with MySQL and PHP</a>
        </p></li><li class="listitem"><p>
          <a class="ulink" href="https://dev.mysql.com/doc/connector-odbc/en/connector-odbc-usagenotes.html" target="_top">Connector/ODBC Notes and Tips</a>
        </p></li><li class="listitem"><p>
          <a class="ulink" href="https://dev.mysql.com/doc/connector-net/en/connector-net-programming.html" target="_top">Connector/NET Programming</a>
        </p></li><li class="listitem"><p>
          <a class="ulink" href="https://dev.mysql.com/doc/connector-j/8.0/en/" target="_top">MySQL Connector/J 8.0 Developer Guide</a>
        </p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="faqs-c-api"></a>A.13 MySQL 8.0 FAQ : C API、libmysql</h2></div></div></div><a class="indexterm" name="idm45302162675104"></a><a class="indexterm" name="idm45302162673168"></a><a class="indexterm" name="idm45302162671200"></a><a class="indexterm" name="idm45302162669168"></a><p>
      MySQL C API および libmysql に関するよくある質問。
    </p><div class="qandaset"><a name="idm45302162666576"></a><dl><dt>A.13.1. <a href="faqs.html#faq-mysql-c-api-what-is-native-c-api">
        「「MySQL ネイティブ C API」」とは
        一般的なメリットとユースケースとは何ですか。
      </a></dt><dt>A.13.2. <a href="faqs.html#faq-mysql-c-api-which-version-to-use">
        どのバージョンの libmysql
        を使用すればよいですか。
      </a></dt><dt>A.13.3. <a href="faqs.html#faq-mysql-c-api-using-x-devapi">
        「NoSQL」 X DevAPI
        を使用する場合はどうなりますか。
      </a></dt><dt>A.13.4. <a href="faqs.html#faq-mysql-c-api-download">
        libmysql
        をダウンロードするにはどうすればよいですか。
      </a></dt><dt>A.13.5. <a href="faqs.html#faq-mysql-c-api-documentation">
        ドキュメントはどこにありますか。
      </a></dt><dt>A.13.6. <a href="faqs.html#faq-mysql-c-api-bugs">
        バグはどのようにしてレポートするのですか。
      </a></dt><dt>A.13.7. <a href="faqs.html#faq-mysql-c-api-compile">
        ライブラリを自分でコンパイルできますか。
      </a></dt></dl><table border="0" style="width: 100%;"><colgroup><col align="left" width="1%"><col></colgroup><tbody><tr class="question"><td align="left" valign="top"><a name="faq-mysql-c-api-what-is-native-c-api"></a><a name="idm45302162665824"></a><p><b>A.13.1.</b></p></td><td align="left" valign="top"><p>
        <span class="quote">「<span class="quote">「MySQL ネイティブ C API」</span>」</span>とは
        一般的なメリットとユースケースとは何ですか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        libmysql は、C アプリケーションで MySQL
        データベースサーバーに接続するために使用できる
        C ベースの API です。 ODBC、Perl DBI、Python DB API
        などの標準データベース API
        のドライバの基盤としても使用されます。
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-mysql-c-api-which-version-to-use"></a><a name="idm45302162662704"></a><p><b>A.13.2.</b></p></td><td align="left" valign="top"><p>
        どのバージョンの libmysql
        を使用すればよいですか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        MySQL 8.0, 5.7, 5.6 および 5.5 の場合は、libmysql 8.0
        を推奨します。
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-mysql-c-api-using-x-devapi"></a><a name="idm45302162660416"></a><p><b>A.13.3.</b></p></td><td align="left" valign="top"><p>
        <span class="quote">「<span class="quote">NoSQL</span>」</span> X DevAPI
        を使用する場合はどうなりますか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        C 言語および X DevApi Document Store for MySQL 8.0
        の場合は、MySQL Connector/C++ をお薦めします。
        Connector/C++ 8.0 には互換性のある C
        ヘッダーがあります。 (これは、MySQL 5.7
        以前には適用されません。)
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-mysql-c-api-download"></a><a name="idm45302162657296"></a><p><b>A.13.4.</b></p></td><td align="left" valign="top"><p>
        libmysql
        をダウンロードするにはどうすればよいですか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            Linux : Client Utilities Package
            は、<a class="ulink" href="https://dev.mysql.com/downloads/mysql/" target="_top">「MySQL
            コミュニティサーバー」</a>のダウンロードページから入手できます。
          </p></li><li class="listitem"><p>
            Repos : Client Utilities Package
            は、<a class="ulink" href="https://dev.mysql.com/downloads/repo/yum/" target="_top">Yum</a>、<a class="ulink" href="https://dev.mysql.com/downloads/repo/apt/" target="_top">APT</a>、<a class="ulink" href="https://dev.mysql.com/downloads/repo/suse/" target="_top">「SuSE
            リポジトリ」</a>から入手できます。
          </p></li><li class="listitem"><p>
            Windows : Client Utilities Package
            は、<a class="ulink" href="https://dev.mysql.com/downloads/installer/" target="_top">「Windows
            インストーラ」</a>から入手できます。
          </p></li></ul></div></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-mysql-c-api-documentation"></a><a name="idm45302162648656"></a><p><b>A.13.5.</b></p></td><td align="left" valign="top"><p>
        ドキュメントはどこにありますか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        <a class="ulink" href="https://dev.mysql.com/doc/c-api/8.0/en/" target="_top">MySQL 8.0 C API Developer Guide</a>を参照してください。
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-mysql-c-api-bugs"></a><a name="idm45302162645936"></a><p><b>A.13.6.</b></p></td><td align="left" valign="top"><p>
        バグはどのようにしてレポートするのですか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        バグまたは不整合にお気づきの場合は、<a class="ulink" href="https://bugs.mysql.com/" target="_top">バグデータベース</a>で報告してください。
        次に示すように、C API
        クライアントを選択します。
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-mysql-c-api-compile"></a><a name="idm45302162642944"></a><p><b>A.13.7.</b></p></td><td align="left" valign="top"><p>
        ライブラリを自分でコンパイルできますか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        はい、libmysqlclient
        ソースコードをダウンロードして、自分でコンパイルできます。
        次に例を示します:
</p><pre class="programlisting">$ git clone --depth 1 https://github.com/mysql/mysql-server 
$ cd mysql-server 
$ mkdir build
$ cd build
$ cmake .. -GNinja -DDOWNLOAD_BOOST=1 \
           -DWITH_BOOST=/tmp -DCMAKE_BUILD_TYPE=Release -DWITHOUT_SERVER=ON \
           -DWITH_SSL=system 
$ ninja libmysqlclient.a 
$ ls -la archive_output_directory/libmysqlclient.a 
-rw-rw-r-- 1 kg kg 8,5M wrz 5 04:57 archive_output_directory/libmysqlclient.a
        </pre><p>
        </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
            この例では、make ではなく
            https://ninja-build.org/をビルドシステムとして使用します。
          </p></div><p>
      </p></td></tr></tbody></table></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="faqs-replication"></a>A.14 MySQL 8.0 FAQ: レプリケーション</h2></div></div></div><a class="indexterm" name="idm45302162637632"></a><p>
      次のセクションでは、MySQL レプリケーションに関するよくある質問に回答しています。
    </p><div class="qandaset"><a name="idm45302162634896"></a><dl><dt>A.14.1. <a href="faqs.html#faq-replication-have-connected-replica">
        レプリカは常にソースに接続する必要がありますか。
      </a></dt><dt>A.14.2. <a href="faqs.html#faq-replication-have-enable-networking">
        レプリケーションを有効にするには、ソースとレプリカでネットワーキングを有効にする必要がありますか。
      </a></dt><dt>A.14.3. <a href="faqs.html#faq-replication-how-compare-replica-date">
        レプリカがソースと比較してどの程度遅れているかを知るにはどうすればよいですか。 つまり、レプリカによってレプリケートされた最後のステートメントの日付を知るにはどうすればよいですか。 
      </a></dt><dt>A.14.4. <a href="faqs.html#faq-replication-how-block-updates">
        レプリカがキャッチアップされるまでソースで更新を強制的にブロックするにはどうすればよいですか。
      </a></dt><dt>A.14.5. <a href="faqs.html#faq-replication-how-two-way-problems">
        二方向レプリケーションを設定する場合に注意する問題はありますか。
      </a></dt><dt>A.14.6. <a href="faqs.html#faq-replication-how-improves-performance">
        レプリケーションを使用してシステムのパフォーマンスを改善するにはどうすればよいですか。
      </a></dt><dt>A.14.7. <a href="faqs.html#faq-replication-how-prepare-for-replication">
        パフォーマンスがより高いレプリケーションを使用するには、アプリケーションのクライアントコードを準備するときに何を行えばよいですか。
      </a></dt><dt>A.14.8. <a href="faqs.html#faq-replication-how-benefits-me">
        MySQL レプリケーションによってシステムのパフォーマンスが向上するのは、どのような場合でどの程度向上しますか。
      </a></dt><dt>A.14.9. <a href="faqs.html#faq-replication-how-high-availability">
        冗長性または高可用性を持たせるには、レプリケーションをどのように使用すればよいですか。
      </a></dt><dt>A.14.10. <a href="faqs.html#faq-replication-how-know-log-format">
        レプリケーションソースサーバーがステートメントベースまたは行ベースのバイナリロギング形式を使用しているかどうかを確認するにはどうすればよいですか。
      </a></dt><dt>A.14.11. <a href="faqs.html#faq-replication-how-use-row-based">
        行ベースのレプリケーションを使用するようレプリカに指示するにはどうすればよいですか。
      </a></dt><dt>A.14.12. <a href="faqs.html#faq-replication-how-prevent-grant-revoke">
        GRANT および REVOKE ステートメントがレプリカマシンにレプリケートされないようにするにはどうすればよいですか。
      </a></dt><dt>A.14.13. <a href="faqs.html#faq-replication-can-mix-os">
        レプリケーションは混合オペレーティングシステムで機能しますか (たとえば、ソースは Linux 上で実行され、レプリカは macOS と Windows 上で実行されます)。
      </a></dt><dt>A.14.14. <a href="faqs.html#faq-replication-can-mix-arch">
        混在ハードウェアアーキテクチャでレプリケーションは機能しますか (たとえば、ソースは 64 ビットマシン上で実行され、レプリカは 32 ビットマシン上で実行されます)。
      </a></dt></dl><table border="0" style="width: 100%;"><colgroup><col align="left" width="1%"><col></colgroup><tbody><tr class="question"><td align="left" valign="top"><a name="faq-replication-have-connected-replica"></a><a name="idm45302162634256"></a><p><b>A.14.1.</b></p></td><td align="left" valign="top"><p>
        レプリカは常にソースに接続する必要がありますか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        いいえ、その必要はありません。 レプリカは、数時間または数日間停止するか切断されたままにしてから、再接続して更新に追いつけます。 たとえば、リンクが散発的にのみ、短時間にわたって稼働しているダイアルアップリンクを介して、ソース/レプリカ関係を設定できます。 これは、特別な対策をとらないかぎり、いつでもレプリカがソースと同期していることが保証されないことを意味します。 
      </p><p>
        切断されたレプリカに対してキャッチアップが発生するようにするには、まだレプリカにレプリケートされていない情報を含むバイナリログファイルをソースから削除しないでください。 非同期レプリケーションは、レプリカが最後にイベントを読み取った時点からバイナリログの読み取りを続行できる場合にのみ機能します。 
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-replication-have-enable-networking"></a><a name="idm45302162630544"></a><p><b>A.14.2.</b></p></td><td align="left" valign="top"><p>
        レプリケーションを有効にするには、ソースとレプリカでネットワーキングを有効にする必要がありますか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        はい、ソースおよびレプリカでネットワーキングを有効にする必要があります。 ネットワーキングが有効になっていない場合、レプリカはソースに接続してバイナリログを転送できません。 どちらのサーバーの構成ファイルでも、<code class="literal">skip_networking</code> システム変数が有効になっていないことを確認します。 
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-replication-how-compare-replica-date"></a><a name="idm45302162626512"></a><p><b>A.14.3.</b></p></td><td align="left" valign="top"><p>
        レプリカがソースと比較してどの程度遅れているかを知るにはどうすればよいですか。 つまり、レプリカによってレプリケートされた最後のステートメントの日付を知るにはどうすればよいですか。 
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        <code class="literal">SHOW REPLICA | SLAVE STATUS</code> からの出力の <code class="literal">Seconds_Behind_Master</code> カラムを確認します。 <a class="xref" href="replication.html#replication-administration-status" title="17.1.7.1 レプリケーションステータスの確認">セクション17.1.7.1「レプリケーションステータスの確認」</a>を参照してください。 
      </p><p>
        レプリケーション SQL スレッドは、ソースから読み取られたイベントを実行すると、独自の時間をイベントタイムスタンプに変更します。 (これにより、<code class="literal">TIMESTAMP</code> が正常にレプリケートされます。) <code class="literal">SHOW PROCESSLIST</code> の出力の <code class="literal">Time</code> カラムでは、レプリケーション SQL スレッドに表示される秒数は、最後にレプリケートされたイベントのタイムスタンプとレプリカマシンのリアルタイムの間の秒数です。 これを使用して、最後にレプリケートされたイベントの日付を判別できます。 レプリカがソースから 1 時間切断されてから再接続すると、<code class="literal">SHOW PROCESSLIST</code> のレプリケーション SQL スレッドに 3600 などの大きな <code class="literal">Time</code> 値がすぐに表示される場合があります。 これは、レプリカが 1 時間経過したステートメントを実行しているためです。 <a class="xref" href="replication.html#replication-implementation-details" title="17.2.3 レプリケーションスレッド">セクション17.2.3「レプリケーションスレッド」</a>を参照してください。 
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-replication-how-block-updates"></a><a name="idm45302162614128"></a><p><b>A.14.4.</b></p></td><td align="left" valign="top"><p>
        レプリカがキャッチアップされるまでソースで更新を強制的にブロックするにはどうすればよいですか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        次の手順を使用します。
      </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
            ソースで、次のステートメントを実行します:
          </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>FLUSH TABLES WITH READ LOCK;</code></strong>
mysql&gt; <strong class="userinput"><code>SHOW MASTER STATUS;</code></strong>
</pre><p>
            <code class="literal">SHOW</code> ステートメントの出力から、レプリケーション座標 (現在のバイナリログファイル名および位置) を記録します。
          </p></li><li class="listitem"><p>
            レプリカで、次のステートメントを発行します。ここで、<code class="literal">MASTER_POS_WAIT()</code> 関数の引数は、前のステップで取得したレプリケーション座標値です:
          </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT MASTER_POS_WAIT('<em class="replaceable"><code>log_name</code></em>', <em class="replaceable"><code>log_pos</code></em>);</code></strong>
</pre><p>
            <code class="literal">SELECT</code> ステートメントは、レプリカが指定されたログファイルおよび位置に達するまでブロックされます。 その時点で、レプリカはソースと同期しており、ステートメントは戻ります。 
          </p></li><li class="listitem"><p>
            ソースで次のステートメントを発行して、ソースが更新の処理を再度開始できるようにします:
          </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>UNLOCK TABLES;</code></strong>
</pre></li></ol></div></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-replication-how-two-way-problems"></a><a name="idm45302162596720"></a><p><b>A.14.5.</b></p></td><td align="left" valign="top"><p>
        二方向レプリケーションを設定する場合に注意する問題はありますか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        現在、MySQL レプリケーションでは、分散 (クロスサーバー) 更新の原子性を保証するために、ソースとレプリカ間のロックプロトコルはサポートされていません。 つまり、クライアント A が共同ソース 1 を更新し、その間にクライアント B が共同ソース 2 に伝播する前に、クライアント A の更新が共同ソース 1 とは異なる方法で動作するように共同ソース 2 を更新できます。 したがって、クライアント A の更新によって共同ソース 2 が作成されると、共同ソース 2 からのすべての更新も伝播された後でも、共同ソース 1 とは異なるテーブルが生成されます。 これは、どのような順序でも更新が安全に行われるという確証がある場合、またはクライアントコードで更新順序の間違いに対処できる場合を除いて、2 つのサーバーを二方向レプリケーション関係にするべきではないことを意味します。 
      </p><p>
        二方向レプリケーションでは、実際には、更新に関してパフォーマンスはそれほど向上しません。 各サーバーは、単一のサーバーで更新を行うときと同量の更新を行う必要があります。 唯一の違いは、別のサーバーで発生した更新があるレプリケーションスレッドでシリアライズされるため、ロックの競合が少し少なくなることです。 この利点さえも、ネットワーク遅延によって相殺されてしまうことがあります。 
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-replication-how-improves-performance"></a><a name="idm45302162591680"></a><p><b>A.14.6.</b></p></td><td align="left" valign="top"><p>
        レプリケーションを使用してシステムのパフォーマンスを改善するにはどうすればよいですか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        1 つのサーバをソースとして設定し、すべての書き込みをそのサーバに指示します。 次に、予算およびラックスペースがある数のレプリカを構成し、ソースとレプリカ間で読取りを分散します。 レプリカは、<code class="option">--skip-innodb</code> オプションを使用して開始し、<code class="literal">low_priority_updates</code> システム変数を有効にし、<code class="literal">delay_key_write</code> システム変数を <code class="literal">ALL</code> に設定してレプリカの端の速度を向上させることもできます。 この場合、レプリカは <code class="literal">InnoDB</code> テーブルではなく非トランザクション <code class="literal">MyISAM</code> テーブルを使用して、トランザクションのオーバーヘッドをなくすことで高速になります。 
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-replication-how-prepare-for-replication"></a><a name="idm45302162582992"></a><p><b>A.14.7.</b></p></td><td align="left" valign="top"><p>
        パフォーマンスがより高いレプリケーションを使用するには、アプリケーションのクライアントコードを準備するときに何を行えばよいですか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        スケールアウトソリューションとしてレプリケーションを使用するためのガイドについては、<a class="xref" href="replication.html#replication-solutions-scaleout" title="17.4.5 スケールアウトのためにレプリケーションを使用する">セクション17.4.5「スケールアウトのためにレプリケーションを使用する」</a>を参照してください。
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-replication-how-benefits-me"></a><a name="idm45302162579712"></a><p><b>A.14.8.</b></p></td><td align="left" valign="top"><p>
        MySQL レプリケーションによってシステムのパフォーマンスが向上するのは、どのような場合でどの程度向上しますか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        MySQL レプリケーションは、読み取りが頻繁に行われ、書き込みはそれほどないシステムにもっとも適しています。 理論上、単一ソース/複数レプリケーション設定を使用すると、ネットワーク帯域幅が不足するか、ソースが処理できない時点まで更新負荷が増大するまで、レプリカを追加することでシステムをスケーリングできます。 
      </p><p>
        追加されたメリットが平準化を開始する前に使用できるレプリカの数、およびサイトのパフォーマンスを向上させるためには、クエリーパターンを把握し、典型的なソースと典型的なレプリカでの読取りおよび書込みのスループット間の関係をベンチマークして経験的に判断する必要があります。 ここでは、架空のシステムのレプリケーションの構成を単純に計算した例を示します。 <code class="literal">reads</code> および <code class="literal">writes</code> は、1 秒当たりの読み取りおよび書き込みの数をそれぞれ示しています。 
      </p><p>
        システムのロードは 10% の書き込みと 90% の読み取りで構成されていて、ベンチマークによって <code class="literal">reads</code> が 1200 - 2 * <code class="literal">writes</code> であることが判別されたとします。 つまり、書き込みがない場合、システムは毎秒 1,200 回の読み取りを実行できます。書き込みの平均は読み取りの平均の 2 倍の時間がかかり、この関係はリニア (直線的) です。 ソースと各レプリカの容量が同じで、ソースと <em class="replaceable"><code>N</code></em> のレプリカが 1 つあるとします。 次に、各サーバー (ソースまたはレプリカ) について次のことを実行します: 
      </p><p>
        <code class="literal">reads</code> = 1200 - 2 * <code class="literal">writes</code>
      </p><p>
        <code class="literal">reads</code> = 9 * <code class="literal">writes</code> / (<em class="replaceable"><code>N</code></em> + 1) (読取りは分割されますが、書込みはすべてのレプリカにレプリケートされます)
      </p><p>
        9 * <code class="literal">writes</code> / (<em class="replaceable"><code>N</code></em> + 1) + 2 * <code class="literal">writes</code> = 1200
      </p><p>
        <code class="literal">writes</code> = 1200 / (2 + 9/(<em class="replaceable"><code>N</code></em> + 1))
      </p><p>
        最後の方程式は、最大可能読取り速度が 1,200/秒で、書込み当たり 9 読取りの比率が指定された場合の、<em class="replaceable"><code>N</code></em> レプリカの最大書込み数を示します。
      </p><p>
        この分析によって、次の結論が導かれます。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <em class="replaceable"><code>N</code></em> = 0 (レプリケーションがないことを意味します) の場合、システムは毎秒 1200/11 = 109 回の書き込みを処理できます。
          </p></li><li class="listitem"><p>
            <em class="replaceable"><code>N</code></em> = 1 の場合、毎秒最大 184 回の書き込みを実行できます。
          </p></li><li class="listitem"><p>
            <em class="replaceable"><code>N</code></em> = 8 の場合、毎秒最大 400 回の書き込みを実行できます。
          </p></li><li class="listitem"><p>
            <em class="replaceable"><code>N</code></em> = 17 の場合、毎秒最大 480 回の書き込みを実行できます。
          </p></li><li class="listitem"><p>
            <em class="replaceable"><code>N</code></em> が無限に近づくと (予算も負の無限大になり)、毎秒 600 回の書き込みに近くなり、システムスループットは 5.5 倍になります。 ただし、8 サーバーのみでも 4 倍近くに増えます。 
          </p></li></ul></div><p>
        これらの計算では、無限のネットワーク帯域幅が想定され、システムで重要となる可能性のあるその他のいくつかの要因は無視されます。 多くの場合、<em class="replaceable"><code>N</code></em> レプリカを追加した場合、システムで何が起こるかを正確に予測するような計算を実行できないことがあります。 ただし、次の質問に答えると、レプリケーションによってシステムのパフォーマンスが向上する可能性があるかどうかとその程度を判断するのに役立ちます: 
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            システムの読み取りと書き込みの比率はどれくらいですか。
          </p></li><li class="listitem"><p>
            読み取りを減らした場合、単一のサーバーで書き込みのロードをどれくらい処理できますか。
          </p></li><li class="listitem"><p>
            ネットワーク上で使用可能な帯域幅があるレプリカはいくつありますか。
          </p></li></ul></div></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-replication-how-high-availability"></a><a name="idm45302162547936"></a><p><b>A.14.9.</b></p></td><td align="left" valign="top"><p>
        冗長性または高可用性を持たせるには、レプリケーションをどのように使用すればよいですか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        冗長性の実装方法は、アプリケーションおよび状況によってまったく異なります。 高可用性ソリューション (自動フェイルオーバーを使用) では、アクティブな監視と、元の MySQL サーバーからレプリカへのフェイルオーバーサポートを提供するカスタムスクリプトまたはサードパーティツールが必要です。 
      </p><p>
        プロセスを手動で処理するには、新しいサーバーと通信するようにアプリケーションを変更するか、MySQL サーバーの DNS を障害が発生したサーバーから新しいサーバーに調整して、障害が発生したソースから事前構成済レプリカに切り替えることができます。
      </p><p>
        詳細およびソリューションの例については、<a class="xref" href="replication.html#replication-solutions-switch" title="17.4.8 フェイルオーバー中のソースの切替え">セクション17.4.8「フェイルオーバー中のソースの切替え」</a>を参照してください。
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-replication-how-know-log-format"></a><a name="idm45302162542848"></a><p><b>A.14.10.</b></p></td><td align="left" valign="top"><p>
        レプリケーションソースサーバーがステートメントベースまたは行ベースのバイナリロギング形式を使用しているかどうかを確認するにはどうすればよいですか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        <code class="literal">binlog_format</code> システム変数の値を確認します。
      </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>SHOW VARIABLES LIKE 'binlog_format';</code></strong>
</pre><p>
        表示される値は、常に <code class="literal">STATEMENT</code>、<code class="literal">ROW</code> または <code class="literal">MIXED</code> のいずれかです。 <code class="literal">MIXED</code> モードでは、ステートメントベースのロギングがデフォルトで使用されますが、レプリケーションは安全でないステートメントなどの特定の条件下で行ベースのロギングに自動的に切り替わります。 これが発生する可能性がある状況の詳細は、<a class="xref" href="server-administration.html#binary-log-mixed" title="5.4.4.3 混合形式のバイナリロギング形式">セクション5.4.4.3「混合形式のバイナリロギング形式」</a> を参照してください。 
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-replication-how-use-row-based"></a><a name="idm45302162533072"></a><p><b>A.14.11.</b></p></td><td align="left" valign="top"><p>
        行ベースのレプリケーションを使用するようレプリカに指示するにはどうすればよいですか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        レプリカは、使用するフォーマットを自動的に認識します。
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-replication-how-prevent-grant-revoke"></a><a name="idm45302162530656"></a><p><b>A.14.12.</b></p></td><td align="left" valign="top"><p>
        <code class="literal">GRANT</code> および <code class="literal">REVOKE</code> ステートメントがレプリカマシンにレプリケートされないようにするにはどうすればよいですか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        <code class="option">--replicate-wild-ignore-table=mysql.%</code> オプションを指定してサーバーを起動し、<code class="literal">mysql</code> データベースのテーブルのレプリケーションが無視されるようにします。
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-replication-can-mix-os"></a><a name="idm45302162524784"></a><p><b>A.14.13.</b></p></td><td align="left" valign="top"><p>
        レプリケーションは混合オペレーティングシステムで機能しますか (たとえば、ソースは Linux 上で実行され、レプリカは macOS と Windows 上で実行されます)。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        はい。
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-replication-can-mix-arch"></a><a name="idm45302162522400"></a><p><b>A.14.14.</b></p></td><td align="left" valign="top"><p>
        混在ハードウェアアーキテクチャでレプリケーションは機能しますか (たとえば、ソースは 64 ビットマシン上で実行され、レプリカは 32 ビットマシン上で実行されます)。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        はい。
      </p></td></tr></tbody></table></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="faqs-thread-pool"></a>A.15 MySQL 8.0 FAQ: MySQL Enterprise Thread Pool</h2></div></div></div><div class="qandaset"><a name="idm45302162519184"></a><dl><dt>A.15.1. <a href="faqs.html#faq-thread-pool-what-solve">
        スレッドプールとは何ですか。これはどのような問題を解決しますか。
      </a></dt><dt>A.15.2. <a href="faqs.html#faq-thread-pool-how-manage-operation">
        スレッドプールでは、最適なパフォーマンスとスループットのために同時セッションおよびトランザクションをどのように制限および管理しますか。
      </a></dt><dt>A.15.3. <a href="faqs.html#faq-thread-pool-how-diff-connector-pool">
        スレッドプールは、クライアント側の接続プールとどのように異なりますか。
      </a></dt><dt>A.15.4. <a href="faqs.html#faq-thread-pool-when-use">
        スレッドプールはどのような場合に使用しますか。
      </a></dt><dt>A.15.5. <a href="faqs.html#faq-thread-pool-what-config-recommend">
        推奨されるスレッドプールの構成はありますか。
      </a></dt></dl><table border="0" style="width: 100%;"><colgroup><col align="left" width="1%"><col></colgroup><tbody><tr class="question"><td align="left" valign="top"><a name="faq-thread-pool-what-solve"></a><a name="idm45302162518480"></a><p><b>A.15.1.</b></p></td><td align="left" valign="top"><p>
        スレッドプールとは何ですか。これはどのような問題を解決しますか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        MySQL スレッドプールは、MySQL サーバーのデフォルトの接続処理機能を拡張する MySQL サーバーのプラグインであり、ステートメント/クエリーおよびトランザクションの並列実行数を制限して、タスクを完了するための CPU およびメモリーのリソースがそれぞれに十分に確保されるようにします。 MySQL 8.0 の場合、スレッドプールプラグインは商用製品である MySQL Enterprise Edition に含まれています。 
      </p><p>
        MySQL サーバーのデフォルトのスレッド処理モデルでは、クライアント接続ごとに 1 つのスレッドを使用してステートメントが実行されます。 より多くのクライアントがサーバーに接続してステートメントを実行すると、全体的なパフォーマンスが低下します。 スレッドプールプラグインは、オーバーヘッドを軽減してパフォーマンスを向上させるように設計された代替のスレッド処理モデルを提供します。 スレッドプールプラグインは、特に現在のマルチ CPU/コアシステムでの多数のクライアント接続において、ステートメント実行スレッドを効率的に管理することによって、サーバーのパフォーマンスを向上させます。 
      </p><p>
        詳細は、<a class="xref" href="server-administration.html#thread-pool" title="5.6.3 MySQL Enterprise Thread Pool">セクション5.6.3「MySQL Enterprise Thread Pool」</a>を参照してください。
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-thread-pool-how-manage-operation"></a><a name="idm45302162512448"></a><p><b>A.15.2.</b></p></td><td align="left" valign="top"><p>
        スレッドプールでは、最適なパフォーマンスとスループットのために同時セッションおよびトランザクションをどのように制限および管理しますか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        スレッドプールは、<span class="quote">「<span class="quote">分割統治</span>」</span>手法を使用して並列性を制限および調整します。 MySQL サーバーのデフォルトの接続処理と異なり、スレッドプールでは接続とスレッドが分離され、接続およびそれらの接続から受け取ったステートメントを実行するスレッドが固定された関係を持たないようになっています。 スレッドプールは、構成可能なスレッドグループ内でクライアント接続を管理します。スレッドグループでは、実行される処理の性質に基づいて優先順位が付けられ、キューに入れられます。 
      </p><p>
        詳細は、<a class="xref" href="server-administration.html#thread-pool-operation" title="5.6.3.3 スレッドプール操作">セクション5.6.3.3「スレッドプール操作」</a>を参照してください。
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-thread-pool-how-diff-connector-pool"></a><a name="idm45302162507328"></a><p><b>A.15.3.</b></p></td><td align="left" valign="top"><p>
        スレッドプールは、クライアント側の接続プールとどのように異なりますか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        MySQL 接続プールはクライアント側で動作し、MySQL サーバーに対して MySQL クライアントで接続および切断が繰り返されないようにします。 MySQL クライアントのアイドル状態の接続をキャッシュし、必要に応じてほかのユーザーが使用できるように設計されています。 これにより、クエリーが MySQL サーバーに発行されたときに、接続の確立および切断のオーバーヘッドおよびコストが最小化されます。 MySQL 接続プールには、バックエンド MySQL サーバーのクエリー処理機能またはロードに関する可視性はありません。 対照的に、スレッドプールは MySQL サーバー側で動作し、バックエンド MySQL データベースにアクセスするクライアント接続から受信されるインバウンド同時接続およびクエリーの実行を管理するように設計されています。 機能が分離されているため、MySQL 接続プールとスレッドプールは次元の異なるものであり、相互に独立して使用できます。 
      </p><p>
        MySQL Connector を使用した MySQL の接続プールについては、<a class="xref" href="connectors-apis.html" title="第 29 章 Connector および API">第29章「<i>Connector および API</i>」</a>で説明しています。
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-thread-pool-when-use"></a><a name="idm45302162502080"></a><p><b>A.15.4.</b></p></td><td align="left" valign="top"><p>
        スレッドプールはどのような場合に使用しますか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        スレッドプールを最適に使用するには、考慮するべきいくつかの経験則があります。
      </p><p>
        MySQL の <code class="literal">Threads_running</code> 変数は、MySQL サーバーで現在実行されている並列ステートメントの数を追跡します。 この変数が、サーバーが最適に動作しない (通常は InnoDB ワークロードで 40 を超える) リージョンを一貫して超えている場合、特に極端な並列オーバーロードの状況ではスレッドプールが役立ちます。 
      </p><p>
        <code class="literal">innodb_thread_concurrency</code> を使用して同時に実行するステートメントの数を制限する場合は、スレッドプールがスレッドグループに接続を割り当て、トランザクションコンテンツ、ユーザー定義の指定などに基づいて実行をキューイングすることで、同じ問題をより適切に解決する必要があります。
      </p><p>
        最後に、ワークロードが主に短いクエリーで構成されている場合は、スレッドプールが有益です。
      </p><p>
        詳細は、<a class="xref" href="server-administration.html#thread-pool-tuning" title="5.6.3.4 スレッドプールのチューニング">セクション5.6.3.4「スレッドプールのチューニング」</a>を参照してください。
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-thread-pool-what-config-recommend"></a><a name="idm45302162493856"></a><p><b>A.15.5.</b></p></td><td align="left" valign="top"><p>
        推奨されるスレッドプールの構成はありますか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        スレッドプールには、パフォーマンスに影響する、ユーザー事例から追加された多数の構成パラメータがあります。 これらの詳細、およびチューニングのヒントについては、<a class="xref" href="server-administration.html#thread-pool-tuning" title="5.6.3.4 スレッドプールのチューニング">セクション5.6.3.4「スレッドプールのチューニング」</a>を参照してください。 
      </p></td></tr></tbody></table></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="faqs-innodb-change-buffer"></a>A.16 MySQL 8.0 FAQ : InnoDB 変更バッファ</h2></div></div></div><div class="qandaset"><a name="idm45302162489744"></a><dl><dt>A.16.1. <a href="faqs.html#faq-innodb-change-buffer-operations">
        セカンダリインデックスを変更してバッファリングを変更する操作のタイプは何ですか。
      </a></dt><dt>A.16.2. <a href="faqs.html#faq-innodb-change-buffer-benefits">
        InnoDB 変更バッファにはどのようなメリットがありますか。
      </a></dt><dt>A.16.3. <a href="faqs.html#faq-innodb-change-buffer-index-types">
        変更バッファは他のタイプのインデックスをサポートしていますか。
      </a></dt><dt>A.16.4. <a href="faqs.html#faq-innodb-change-buffer-space-max-size">
        InnoDB は変更バッファにどのくらいの領域を使用しますか。
      </a></dt><dt>A.16.5. <a href="faqs.html#faq-innodb-change-buffer-current-size">
        変更バッファの現在のサイズを確認するにはどうすればよいですか。
      </a></dt><dt>A.16.6. <a href="faqs.html#faq-innodb-change-buffer-merging">
        変更バッファのマージはいつ行われますか。
      </a></dt><dt>A.16.7. <a href="faqs.html#faq-innodb-change-buffer-flush-time">
        変更バッファはいつフラッシュされますか。
      </a></dt><dt>A.16.8. <a href="faqs.html#faq-innodb-change-buffer-when-to-enable">
        変更バッファはいつ使用しますか。
      </a></dt><dt>A.16.9. <a href="faqs.html#faq-innodb-change-buffer-when-to-disable">
        変更バッファを使用しないのはいつですか。
      </a></dt><dt>A.16.10. <a href="faqs.html#faq-innodb-change-buffer-info">
        変更バッファに関する追加情報はどこで入手できますか。
      </a></dt></dl><table border="0" style="width: 100%;"><colgroup><col align="left" width="1%"><col></colgroup><tbody><tr class="question"><td align="left" valign="top"><a name="faq-innodb-change-buffer-operations"></a><a name="idm45302162488976"></a><p><b>A.16.1.</b></p></td><td align="left" valign="top"><p>
        セカンダリインデックスを変更してバッファリングを変更する操作のタイプは何ですか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        <code class="literal">INSERT</code>、<code class="literal">UPDATE</code> および <code class="literal">DELETE</code> 操作では、セカンダリインデックスを変更できます。 影響を受けるインデックスページがバッファプールにない場合、変更は変更バッファにバッファできます。 
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-innodb-change-buffer-benefits"></a><a name="idm45302162484208"></a><p><b>A.16.2.</b></p></td><td align="left" valign="top"><p>
        <code class="literal">InnoDB</code> 変更バッファにはどのようなメリットがありますか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        セカンダリインデックスページがバッファプールにない場合にセカンダリインデックスの変更をバッファリングすると、影響を受けるインデックスページをディスクからすぐに読み取るために必要な負荷の高いランダムアクセス I/O 操作が回避されます。 バッファされた変更は、他の読取り操作によってバッファプールにページが読み取られるため、後でバッチで適用できます。 
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-innodb-change-buffer-index-types"></a><a name="idm45302162480848"></a><p><b>A.16.3.</b></p></td><td align="left" valign="top"><p>
        変更バッファは他のタイプのインデックスをサポートしていますか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        いいえ。変更バッファでは、セカンダリインデックスのみがサポートされます。 クラスタインデックス、全文インデックスおよび空間インデックスはサポートされていません。 全文インデックスには、独自のキャッシュメカニズムがあります。 
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-innodb-change-buffer-space-max-size"></a><a name="idm45302162478048"></a><p><b>A.16.4.</b></p></td><td align="left" valign="top"><p>
        <code class="literal">InnoDB</code> は変更バッファにどのくらいの領域を使用しますか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        MySQL 5.6 で <code class="literal">innodb_change_buffer_max_size</code> 構成オプションが導入される前は、システムテーブルスペースのディスク上の変更バッファの最大サイズは <code class="literal">InnoDB</code> バッファプールサイズの 1/3 でした。
      </p><p>
        MySQL 5.6 以降では、<code class="literal">innodb_change_buffer_max_size</code> 構成オプションによって、変更バッファの最大サイズがバッファプールの合計サイズに対する割合として定義されます。 デフォルトでは、<code class="literal">innodb_change_buffer_max_size</code> は 25 に設定されます。 最大設定は 50 です。 
      </p><p>
        ディスク上の変更バッファが定義された制限を超える場合、<code class="literal">InnoDB</code> は操作をバッファしません。
      </p><p>
        変更バッファページは、バッファプールに永続化する必要はなく、LRU 操作によって削除される場合があります。
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-innodb-change-buffer-current-size"></a><a name="idm45302162468080"></a><p><b>A.16.5.</b></p></td><td align="left" valign="top"><p>
        変更バッファの現在のサイズを確認するにはどうすればよいですか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        変更バッファの現在のサイズは、<code class="literal">SHOW ENGINE INNODB STATUS \G</code> によって <code class="literal">INSERT BUFFER AND ADAPTIVE HASH INDEX</code> ヘッダーの下にレポートされます。 例: 
      </p><pre class="programlisting">-------------------------------------
INSERT BUFFER AND ADAPTIVE HASH INDEX
-------------------------------------
Ibuf: size 1, free list len 0, seg size 2, 0 merges
</pre><p>
        関連するデータポイントは次のとおりです:
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <code class="literal">size</code>: 変更バッファ内で使用されるページ数。 変更バッファサイズは <code class="literal">seg size - (1 + free list len)</code> と同じです。 <code class="literal">1 +</code> 値は、変更バッファヘッダーページを表します。 
          </p></li><li class="listitem"><p>
            <code class="literal">seg size</code>: 変更バッファのサイズ (ページ単位)。
          </p></li></ul></div><p>
        変更バッファステータスの監視の詳細は、<a class="xref" href="innodb-storage-engine.html#innodb-change-buffer" title="15.5.2 変更バッファ">セクション15.5.2「変更バッファ」</a> を参照してください。
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-innodb-change-buffer-merging"></a><a name="idm45302162455968"></a><p><b>A.16.6.</b></p></td><td align="left" valign="top"><p>
        変更バッファのマージはいつ行われますか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            ページがバッファプールに読み込まれると、バッファされた変更は、ページが使用可能になる前に、読取りの完了時にマージされます。
          </p></li><li class="listitem"><p>
            変更バッファのマージはバックグラウンドタスクとして実行されます。 <code class="literal">innodb_io_capacity</code> パラメータは、変更バッファからのデータのマージなど、<code class="literal">InnoDB</code> バックグラウンドタスクによって実行される I/O アクティビティの上限を設定します。 
          </p></li><li class="listitem"><p>
            クラッシュリカバリ中に変更バッファのマージが実行されます。 インデックスページがバッファプールに読み込まれると、変更は変更バッファ (システムテーブルスペース内) からセカンダリインデックスのリーフページに適用されます。 
          </p></li><li class="listitem"><p>
            変更バッファは完全に永続的であり、システムクラッシュが発生する可能性があります。 再起動時に、変更バッファのマージ操作は通常の操作の一部として再開されます。 
          </p></li><li class="listitem"><p>
            変更バッファの完全マージは、<code class="literal">--innodb-fast-shutdown=0</code> を使用した低速なサーバー停止の一部として強制できます。
          </p></li></ul></div></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-innodb-change-buffer-flush-time"></a><a name="idm45302162444880"></a><p><b>A.16.7.</b></p></td><td align="left" valign="top"><p>
        変更バッファはいつフラッシュされますか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        更新されたページは、バッファープールを占有するほかのページをフラッシュするのと同じフラッシュメカニズムによってフラッシュされます。
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-innodb-change-buffer-when-to-enable"></a><a name="idm45302162442416"></a><p><b>A.16.8.</b></p></td><td align="left" valign="top"><p>
        変更バッファはいつ使用しますか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        変更バッファは、インデックスが大きくなり、<code class="literal">InnoDB</code> バッファプールに収まらなくなったときに、ランダムな I/O をセカンダリインデックスに減らすように設計された機能です。 一般に、データセット全体がバッファプールに収まらない場合、セカンダリインデックスページを変更する大量の DML アクティビティがある場合、または DML アクティビティによって定期的に変更されるセカンダリインデックスが多数ある場合は、変更バッファを使用する必要があります。 
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-innodb-change-buffer-when-to-disable"></a><a name="idm45302162438832"></a><p><b>A.16.9.</b></p></td><td align="left" valign="top"><p>
        変更バッファを使用しないのはいつですか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        データセット全体が <code class="literal">InnoDB</code> バッファープール内に収まる場合、比較的少ないセカンダリインデックスがある場合、またはソリッドステートストレージを使用している場合 (ランダム読み取りは順次読み取りとほぼ同じくらい高速)、変更バッファーを無効にすることを検討してください。 構成を変更する前に、代表的なワークロードを使用してテストを実行し、変更バッファを無効にすると利点があるかどうかを判断することをお薦めします。 
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-innodb-change-buffer-info"></a><a name="idm45302162435344"></a><p><b>A.16.10.</b></p></td><td align="left" valign="top"><p>
        変更バッファに関する追加情報はどこで入手できますか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        <a class="xref" href="innodb-storage-engine.html#innodb-change-buffer" title="15.5.2 変更バッファ">セクション15.5.2「変更バッファ」</a>を参照してください。
      </p></td></tr></tbody></table></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="faqs-tablespace-encryption"></a>A.17 MySQL 8.0 FAQ : InnoDB 保存データ暗号化</h2></div></div></div><a class="indexterm" name="idm45302162431664"></a><div class="qandaset"><a name="idm45302162429728"></a><dl><dt>A.17.1. <a href="faqs.html#faq-tablespace-encryption-access">
        データを表示する権限を持つユーザーのデータは復号化されますか。
      </a></dt><dt>A.17.2. <a href="faqs.html#faq-tablespace-encryption-overhead">
        InnoDB の保存データ暗号化に関連するオーバーヘッドは何ですか。
      </a></dt><dt>A.17.3. <a href="faqs.html#faq-tablespace-encryption-algorithm">
        InnoDB の保存データ暗号化で使用される暗号化アルゴリズムは何ですか。
      </a></dt><dt>A.17.4. <a href="faqs.html#faq-tablespace-encryption-other-algorithms">
        InnoDB の保存データ暗号化機能によって提供されるアルゴリズムのかわりにサードパーティの暗号化アルゴリズムを使用できますか。
      </a></dt><dt>A.17.5. <a href="faqs.html#faq-tablespace-encryption-indexed-columns">
        インデックス付きカラムを暗号化できますか。
      </a></dt><dt>A.17.6. <a href="faqs.html#faq-tablespace-encryption-data-types">
        InnoDB の保存データ暗号化では、どのようなデータ型とデータ長がサポートされていますか。
      </a></dt><dt>A.17.7. <a href="faqs.html#faq-tablespace-encryption-network">
        データはネットワーク上で暗号化されたままですか。
      </a></dt><dt>A.17.8. <a href="faqs.html#faq-tablespace-encryption-database-memory">
        データベースメモリーにクリアテキストまたは暗号化されたデータが含まれていますか。
      </a></dt><dt>A.17.9. <a href="faqs.html#faq-tablespace-encryption-data-to-encrypt">
        暗号化するデータを知るにはどうすればよいですか。
      </a></dt><dt>A.17.10. <a href="faqs.html#faq-tablespace-encryption-mysql-encryption">
        InnoDB の保存データ暗号化は、MySQL ですでに提供されている暗号化機能とどのように異なりますか。
      </a></dt><dt>A.17.11. <a href="faqs.html#faq-tablespace-encryption-transportable-tablespaces">
        トランスポータブルテーブルスペース機能は、InnoDB の保存データ暗号化で動作しますか。
      </a></dt><dt>A.17.12. <a href="faqs.html#faq-tablespace-encryption-compression">
        圧縮は、InnoDB の保存データ暗号化で機能しますか。
      </a></dt><dt>A.17.13. <a href="faqs.html#faq-tablespace-encryption-mysqldump">
        暗号化されたテーブルで mysqlpump または mysqldump を使用できますか。
      </a></dt><dt>A.17.14. <a href="faqs.html#faq-tablespace-encryption-key-rotation">
        マスター暗号化キーを変更 (ローテーション、キー更新) するにはどうすればよいですか。
      </a></dt><dt>A.17.15. <a href="faqs.html#faq-tablespace-encryption-data-migration">
        クリアテキストの InnoDB テーブルスペースから暗号化された InnoDB テーブルスペースにデータを移行するには、どのようにしますか。
      </a></dt></dl><table border="0" style="width: 100%;"><colgroup><col align="left" width="1%"><col></colgroup><tbody><tr class="question"><td align="left" valign="top"><a name="faq-tablespace-encryption-access"></a><a name="idm45302162429136"></a><p><b>A.17.1.</b></p></td><td align="left" valign="top"><p>
        データを表示する権限を持つユーザーのデータは復号化されますか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        はい。 <code class="literal">InnoDB</code> の保存データ暗号化は、既存のアプリケーションに影響を与えずにデータベース内で暗号化を透過的に適用するように設計されています。 暗号化された形式でデータを返すと、ほとんどの既存のアプリケーションが破損します。 <code class="literal">InnoDB</code> の保存データ暗号化は、従来のデータベース暗号化ソリューションに関連するオーバーヘッドなしで暗号化の利点を提供します。通常、アプリケーション、データベーストリガーおよびビューに対するコストのかかる大幅な変更が必要になります。 
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-tablespace-encryption-overhead"></a><a name="idm45302162424368"></a><p><b>A.17.2.</b></p></td><td align="left" valign="top"><p>
        <code class="literal">InnoDB</code> の保存データ暗号化に関連するオーバーヘッドは何ですか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        追加の記憶域オーバーヘッドはありません。 内部ベンチマークによると、パフォーマンスオーバーヘッド金額は単一桁のパーセント差異になります。 
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-tablespace-encryption-algorithm"></a><a name="idm45302162421120"></a><p><b>A.17.3.</b></p></td><td align="left" valign="top"><p>
        <code class="literal">InnoDB</code> の保存データ暗号化で使用される暗号化アルゴリズムは何ですか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        <code class="literal">InnoDB</code> の保存データ暗号化では、Advanced Encryption Standard (AES256) ブロックベースの暗号化アルゴリズムがサポートされています。 テーブルスペースキー暗号化には電子コードブック (ECB) ブロック暗号化モードを使用し、データ暗号化には暗号ブロックチェーン (CBC) ブロック暗号化モードを使用します。 
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-tablespace-encryption-other-algorithms"></a><a name="idm45302162417008"></a><p><b>A.17.4.</b></p></td><td align="left" valign="top"><p>
        <code class="literal">InnoDB</code> の保存データ暗号化機能によって提供されるアルゴリズムのかわりにサードパーティの暗号化アルゴリズムを使用できますか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        いいえ。他の暗号化アルゴリズムは使用できません。 指定された暗号化アルゴリズムは広範囲に受け入れられます。 
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-tablespace-encryption-indexed-columns"></a><a name="idm45302162413632"></a><p><b>A.17.5.</b></p></td><td align="left" valign="top"><p>
        インデックス付きカラムを暗号化できますか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        <code class="literal">InnoDB</code> の保存データ暗号化では、すべてのインデックスが透過的にサポートされます。
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-tablespace-encryption-data-types"></a><a name="idm45302162410608"></a><p><b>A.17.6.</b></p></td><td align="left" valign="top"><p>
        <code class="literal">InnoDB</code> の保存データ暗号化では、どのようなデータ型とデータ長がサポートされていますか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        <code class="literal">InnoDB</code> の保存データ暗号化では、サポートされているすべてのデータ型がサポートされます。 データ長の制限はありません。 
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-tablespace-encryption-network"></a><a name="idm45302162406752"></a><p><b>A.17.7.</b></p></td><td align="left" valign="top"><p>
        データはネットワーク上で暗号化されたままですか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        <code class="literal">InnoDB</code> の保存データ機能によって暗号化されたデータは、テーブルスペースファイルから読み取られるときに復号化されます。 したがって、データがネットワーク上にある場合は、クリアテキスト形式になります。 ただし、ネットワーク上のデータは、SSL/TLS を使用してデータベースとの間を移動するデータを暗号化する MySQL ネットワーク暗号化を使用して暗号化できます。 
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-tablespace-encryption-database-memory"></a><a name="idm45302162403344"></a><p><b>A.17.8.</b></p></td><td align="left" valign="top"><p>
        データベースメモリーにクリアテキストまたは暗号化されたデータが含まれていますか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        <code class="literal">InnoDB</code> の保存データ暗号化では、メモリー内データが復号化され、完全な透過性が提供されます。
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-tablespace-encryption-data-to-encrypt"></a><a name="idm45302162400208"></a><p><b>A.17.9.</b></p></td><td align="left" valign="top"><p>
        暗号化するデータを知るにはどうすればよいですか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        PCI-DSS 標準に準拠するには、クレジットカード番号 (プライマリアカウント番号または PAN) を暗号化された形式で格納する必要があります。 違反通知法 (CA SB 1386、CA AB 1950、43 以上の米国の州における同様の法律など) では、名、姓、運転免許証番号およびその他の PII データの暗号化が必要です。 2008 年初頭、CA AB 1298 は PII データに医療保険および健康保険情報を追加しました。 さらに、業界固有のプライバシおよびセキュリティ標準では、特定のアセットの暗号化が必要になる場合があります。 たとえば、医薬品研究結果、油田探索結果、金融契約、法律執行情報の個人データなどの資産では、暗号化が必要になる場合があります。 医療業界では，患者データ，健康記録，X 線画像のプライバシーが最も重要です。 
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-tablespace-encryption-mysql-encryption"></a><a name="idm45302162396176"></a><p><b>A.17.10.</b></p></td><td align="left" valign="top"><p>
        <code class="literal">InnoDB</code> の保存データ暗号化は、MySQL ですでに提供されている暗号化機能とどのように異なりますか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        MySQL には、データベース内のデータを手動で暗号化するために使用できる対称および非対称の暗号化 API があります。 ただし、アプリケーションは暗号化キーを管理し、API 関数をコールして必要な暗号化および復号化操作を実行する必要があります。 <code class="literal">InnoDB</code> の保存データ暗号化は、アプリケーションの変更を必要とせず、エンドユーザーに対して透過的であり、自動化された組込みキー管理を提供します。 
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-tablespace-encryption-transportable-tablespaces"></a><a name="idm45302162391536"></a><p><b>A.17.11.</b></p></td><td align="left" valign="top"><p>
        トランスポータブルテーブルスペース機能は、<code class="literal">InnoDB</code> の保存データ暗号化で動作しますか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        はい。 暗号化された file-per-table テーブルスペースでサポートされています。 詳細は、<a class="xref" href="innodb-storage-engine.html#innodb-data-encryption-exporting" title="暗号化されたテーブルスペースのエクスポート">暗号化されたテーブルスペースのエクスポート</a>を参照してください。 
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-tablespace-encryption-compression"></a><a name="idm45302162387728"></a><p><b>A.17.12.</b></p></td><td align="left" valign="top"><p>
        圧縮は、<code class="literal">InnoDB</code> の保存データ暗号化で機能しますか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        圧縮はデータブロックが暗号化される前に適用されるため、<code class="literal">InnoDB</code> の保存データ暗号化を使用している顧客には圧縮の完全な利点があります。
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-tablespace-encryption-mysqldump"></a><a name="idm45302162383872"></a><p><b>A.17.13.</b></p></td><td align="left" valign="top"><p>
        暗号化されたテーブルで <span class="command"><strong>mysqlpump</strong></span> または <code class="literal">mysqldump</code> を使用できますか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        はい。 これらのユーティリティは論理バックアップを作成するため、暗号化されたテーブルからダンプされたデータは暗号化されません。 
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-tablespace-encryption-key-rotation"></a><a name="idm45302162380000"></a><p><b>A.17.14.</b></p></td><td align="left" valign="top"><p>
        マスター暗号化キーを変更 (ローテーション、キー更新) するにはどうすればよいですか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        <code class="literal">InnoDB</code> の保存データ暗号化では、2 層キーメカニズムが使用されます。 保存データ暗号化を使用すると、個々のテーブルスペースキーが基礎となるテーブルスペースデータファイルのヘッダーに格納されます。 テーブルスペースキーは、マスター暗号化キーを使用して暗号化されます。 マスター暗号化キーは、テーブルスペースの暗号化が有効な場合に生成され、データベースの外部に格納されます。 マスター暗号化キーは、新しいマスター暗号化キーを生成し、キーを格納し、使用するキーをローテーションする <code class="literal">ALTER INSTANCE ROTATE INNODB MASTER KEY</code> ステートメントを使用してローテーションされます。 
      </p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq-tablespace-encryption-data-migration"></a><a name="idm45302162374304"></a><p><b>A.17.15.</b></p></td><td align="left" valign="top"><p>
        クリアテキストの <code class="literal">InnoDB</code> テーブルスペースから暗号化された <code class="literal">InnoDB</code> テーブルスペースにデータを移行するには、どのようにしますか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        あるテーブルスペースから別のテーブルスペースへのデータの転送は不要です。 <code class="literal">InnoDB</code> file-per-table テーブルスペースのデータを暗号化するには、<code class="literal">ALTER TABLE <em class="replaceable"><code>tbl_name</code></em> ENCRYPTION = 'Y'</code>を実行します。 一般テーブルスペースまたは <code class="literal">mysql</code> テーブルスペースを暗号化するには、<code class="literal">ALTER TABLESPACE <em class="replaceable"><code>tablespace_name</code></em> ENCRYPTION = 'Y'</code>を実行します。 一般テーブルスペースの暗号化サポートは、MySQL 8.0.13 で導入されました。 <code class="literal">mysql</code> システムテーブルスペースの暗号化サポートは、MySQL 8.0.16 の時点で使用できます。 
      </p></td></tr></tbody></table></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="faqs-virtualization"></a>A.18 MySQL 8.0 FAQ : 仮想化のサポート</h2></div></div></div><a class="indexterm" name="idm45302162363344"></a><div class="qandaset"><a name="idm45302162361456"></a><dl><dt>A.18.1. <a href="faqs.html#faq-virtualization-support">
        MySQL は、Oracle VM、VMWare、Docker、Microsoft Hyper-V などの仮想環境でサポートされていますか。
      </a></dt></dl><table border="0" style="width: 100%;"><colgroup><col align="left" width="1%"><col></colgroup><tbody><tr class="question"><td align="left" valign="top"><a name="faq-virtualization-support"></a><a name="idm45302162360752"></a><p><b>A.18.1.</b></p></td><td align="left" valign="top"><p>
        MySQL は、Oracle VM、VMWare、Docker、Microsoft Hyper-V などの仮想環境でサポートされていますか。
      </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
        MySQL は仮想化環境でサポートされていますが、<a class="ulink" href="http://www.oracle.com/technetwork/server-storage/vm/index.html" target="_top">Oracle VM</a> でのみ動作保証されています。 詳細は、Oracle Support にお問い合せください。 
      </p><p>
        仮想化ソフトウェアを使用する場合は、潜在的な問題に注意してください。 通常は、ディスク、I/O,ネットワークおよびメモリーのパフォーマンス、パフォーマンスの低下、速度または予測不可能性に関連しています。 
      </p></td></tr></tbody></table></div></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="mysql-oci-marketplace.html">前</a> </td><td width="20%" align="center"> </td><td width="40%" align="right"> <a accesskey="n" href="error-handling.html">次へ</a></td></tr><tr><td width="40%" align="left" valign="top">第 32 章 OCI マーケットプレイス上の MySQL </td><td width="20%" align="center"><a accesskey="h" href="index.html">ホーム</a></td><td width="40%" align="right" valign="top"> 付録 B エラーメッセージと一般的な問題</td></tr></table></div><div class="copyright-footer"></div></body></html>
