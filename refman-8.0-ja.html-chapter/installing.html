<html lang="ja"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>第 2 章 MySQL のインストールとアップグレード</title><link rel="stylesheet" type="text/css" href="mvl.css"><meta name="generator" content="DocBook XSL Stylesheets V1.79.1"><link rel="home" href="index.html" title="MySQL 8.0 リファレンスマニュアル"><link rel="up" href="index.html" title="MySQL 8.0 リファレンスマニュアル"><link rel="prev" href="introduction.html" title="第 1 章 一般情報"><link rel="next" href="tutorial.html" title="第 3 章 チュートリアル"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">第 2 章 MySQL のインストールとアップグレード</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="introduction.html">前</a> </td><th width="60%" align="center"> </th><td width="20%" align="right"> <a accesskey="n" href="tutorial.html">次へ</a></td></tr></table><hr></div><div class="status-header"><p class="alert">このページは機械翻訳したものです。</p></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a name="installing"></a>第 2 章 MySQL のインストールとアップグレード</h1></div></div></div><div class="toc"><p><b>目次</b></p><dl class="toc"><dt><span class="section"><a href="installing.html#general-installation-issues">2.1 一般的なインストールガイド</a></span></dt><dd><dl><dt><span class="section"><a href="installing.html#platform-support">2.1.1 サポートされるプラットフォーム</a></span></dt><dt><span class="section"><a href="installing.html#which-version">2.1.2 インストールする MySQL のバージョンと配布の選択</a></span></dt><dt><span class="section"><a href="installing.html#getting-mysql">2.1.3 MySQL の取得方法</a></span></dt><dt><span class="section"><a href="installing.html#verifying-package-integrity">2.1.4 MD5 チェックサムまたは GnuPG を用いたパッケージの完全性の確認</a></span></dt><dt><span class="section"><a href="installing.html#installation-layouts">2.1.5 インストールのレイアウト</a></span></dt><dt><span class="section"><a href="installing.html#compiler-characteristics">2.1.6 コンパイラ固有のビルドの特徴</a></span></dt></dl></dd><dt><span class="section"><a href="installing.html#binary-installation">2.2 一般的なバイナリを使用した MySQL の Unix/Linux へのインストール</a></span></dt><dt><span class="section"><a href="installing.html#windows-installation">2.3 Microsoft Windows に MySQL をインストールする</a></span></dt><dd><dl><dt><span class="section"><a href="installing.html#windows-installation-layout">2.3.1 Microsoft Windows 上での MySQL のインストールレイアウト</a></span></dt><dt><span class="section"><a href="installing.html#windows-choosing-package">2.3.2 インストールパッケージの選択</a></span></dt><dt><span class="section"><a href="installing.html#mysql-installer">2.3.3 MySQL Installer for Windows</a></span></dt><dt><span class="section"><a href="installing.html#windows-install-archive">2.3.4 <code class="literal">noinstall</code> ZIP アーカイブを使用した Microsoft Windows への MySQL のインストール</a></span></dt><dt><span class="section"><a href="installing.html#windows-troubleshooting">2.3.5 Microsoft Windows MySQL Server インストールのトラブルシューティング</a></span></dt><dt><span class="section"><a href="installing.html#windows-postinstallation">2.3.6 Windows でのインストール後の手順</a></span></dt><dt><span class="section"><a href="installing.html#windows-restrictions">2.3.7 Windows プラットフォームの制限事項</a></span></dt></dl></dd><dt><span class="section"><a href="installing.html#macos-installation">2.4 macOS への MySQL のインストール</a></span></dt><dd><dl><dt><span class="section"><a href="installing.html#macos-installation-notes">2.4.1 macOS への MySQL のインストールに関する一般的なノート</a></span></dt><dt><span class="section"><a href="installing.html#macos-installation-pkg">2.4.2 ネイティブパッケージを使用した macOS への MySQL のインストール</a></span></dt><dt><span class="section"><a href="installing.html#macos-installation-launchd">2.4.3 MySQL 起動デーモンのインストールおよび使用</a></span></dt><dt><span class="section"><a href="installing.html#macos-installation-prefpane">2.4.4 MySQL Preference Pane のインストールと使用</a></span></dt></dl></dd><dt><span class="section"><a href="installing.html#linux-installation">2.5 Linux に MySQL をインストールする</a></span></dt><dd><dl><dt><span class="section"><a href="installing.html#linux-installation-yum-repo">2.5.1 MySQL Yum リポジトリを使用して MySQL を Linux にインストールする</a></span></dt><dt><span class="section"><a href="installing.html#linux-installation-apt-repo">2.5.2 MySQL APT リポジトリを使用して MySQL を Linux にインストールする</a></span></dt><dt><span class="section"><a href="installing.html#linux-installation-sles-repo">2.5.3 MySQL SLES リポジトリを使用して MySQL を Linux にインストールする</a></span></dt><dt><span class="section"><a href="installing.html#linux-installation-rpm">2.5.4 Oracle の RPM パッケージを使用した Linux への MySQL のインストール</a></span></dt><dt><span class="section"><a href="installing.html#linux-installation-debian">2.5.5 オラクルからの Debian パッケージを使用して MySQL を Linux にインストールする</a></span></dt><dt><span class="section"><a href="installing.html#linux-installation-docker">2.5.6 Docker での Linux への MySQL のデプロイ</a></span></dt><dt><span class="section"><a href="installing.html#linux-installation-native">2.5.7 ネイティブソフトウェアリポジトリから MySQL を Linux にインストールする</a></span></dt><dt><span class="section"><a href="installing.html#linux-installation-juju">2.5.8 Juju を使用した Linux への MySQL のインストール</a></span></dt><dt><span class="section"><a href="installing.html#using-systemd">2.5.9 systemd を使用した MySQL Server の管理</a></span></dt></dl></dd><dt><span class="section"><a href="installing.html#uln-installation">2.6 Unbreakable Linux Network (ULN) を使用した MySQL のインストール</a></span></dt><dt><span class="section"><a href="installing.html#solaris-installation">2.7 Solaris への MySQL のインストール</a></span></dt><dd><dl><dt><span class="section"><a href="installing.html#solaris-installation-pkg">2.7.1 Solaris PKG を使用して Solaris に MySQL をインストールする</a></span></dt></dl></dd><dt><span class="section"><a href="installing.html#freebsd-installation">2.8 FreeBSD に MySQL をインストールする</a></span></dt><dt><span class="section"><a href="installing.html#source-installation">2.9 ソースから MySQL をインストールする</a></span></dt><dd><dl><dt><span class="section"><a href="installing.html#source-installation-methods">2.9.1 ソースのインストール方法</a></span></dt><dt><span class="section"><a href="installing.html#source-installation-prerequisites">2.9.2 ソースインストールの前提条件</a></span></dt><dt><span class="section"><a href="installing.html#source-installation-layout">2.9.3 ソースインストールの MySQL のレイアウト</a></span></dt><dt><span class="section"><a href="installing.html#installing-source-distribution">2.9.4 標準ソース配布を使用して MySQL をインストールする</a></span></dt><dt><span class="section"><a href="installing.html#installing-development-tree">2.9.5 開発ソースツリーを使用して MySQL をインストールする</a></span></dt><dt><span class="section"><a href="installing.html#source-ssl-library-configuration">2.9.6 SSL ライブラリサポートの構成</a></span></dt><dt><span class="section"><a href="installing.html#source-configuration-options">2.9.7 MySQL ソース構成オプション</a></span></dt><dt><span class="section"><a href="installing.html#compilation-problems">2.9.8 MySQL のコンパイルに関する問題</a></span></dt><dt><span class="section"><a href="installing.html#source-configuration-third-party">2.9.9 MySQL の構成とサードパーティーツール</a></span></dt><dt><span class="section"><a href="installing.html#source-installation-doxygen">2.9.10 MySQL Doxygen ドキュメントコンテンツの生成</a></span></dt></dl></dd><dt><span class="section"><a href="installing.html#postinstallation">2.10 インストール後のセットアップとテスト</a></span></dt><dd><dl><dt><span class="section"><a href="installing.html#data-directory-initialization">2.10.1 データディレクトリの初期化</a></span></dt><dt><span class="section"><a href="installing.html#starting-server">2.10.2 サーバーの起動</a></span></dt><dt><span class="section"><a href="installing.html#testing-server">2.10.3 サーバーのテスト</a></span></dt><dt><span class="section"><a href="installing.html#default-privileges">2.10.4 初期 MySQL アカウントの保護</a></span></dt><dt><span class="section"><a href="installing.html#automatic-start">2.10.5 MySQL を自動的に起動および停止する</a></span></dt></dl></dd><dt><span class="section"><a href="installing.html#upgrading">2.11 MySQL のアップグレード</a></span></dt><dd><dl><dt><span class="section"><a href="installing.html#upgrade-before-you-begin">2.11.1 始める前に</a></span></dt><dt><span class="section"><a href="installing.html#upgrade-paths">2.11.2 アップグレードパス</a></span></dt><dt><span class="section"><a href="installing.html#upgrading-what-is-upgraded">2.11.3 MySQL のアップグレードプロセスの内容</a></span></dt><dt><span class="section"><a href="installing.html#upgrading-from-previous-series">2.11.4 MySQL 8.0 での変更</a></span></dt><dt><span class="section"><a href="installing.html#upgrade-prerequisites">2.11.5 アップグレード用のインストールの準備</a></span></dt><dt><span class="section"><a href="installing.html#upgrade-binary-package">2.11.6 Unix/Linux での MySQL バイナリまたはパッケージベースのインストールのアップグレード</a></span></dt><dt><span class="section"><a href="installing.html#updating-yum-repo">2.11.7 MySQL Yum リポジトリを使用する MySQL のアップグレード</a></span></dt><dt><span class="section"><a href="installing.html#updating-apt-repo">2.11.8 MySQL APT リポジトリを使用する MySQL のアップグレード</a></span></dt><dt><span class="section"><a href="installing.html#updating-sles-repo">2.11.9 MySQL SLES リポジトリを含む MySQL のアップグレード</a></span></dt><dt><span class="section"><a href="installing.html#windows-upgrading">2.11.10 Windows 上の MySQL をアップグレードする</a></span></dt><dt><span class="section"><a href="installing.html#upgrade-docker-mysql">2.11.11 MySQL の Docker インストールのアップグレード</a></span></dt><dt><span class="section"><a href="installing.html#upgrade-troubleshooting">2.11.12 アップグレードのトラブルシューティング</a></span></dt><dt><span class="section"><a href="installing.html#rebuilding-tables">2.11.13 テーブルまたはインデックスの再作成または修復</a></span></dt><dt><span class="section"><a href="installing.html#copying-databases">2.11.14 MySQL データベースのほかのマシンへのコピー</a></span></dt></dl></dd><dt><span class="section"><a href="installing.html#downgrading">2.12 MySQL のダウングレード</a></span></dt><dt><span class="section"><a href="installing.html#perl-support">2.13 Perl のインストールに関する注釈</a></span></dt><dd><dl><dt><span class="section"><a href="installing.html#perl-installation">2.13.1 Unix に Perl をインストールする</a></span></dt><dt><span class="section"><a href="installing.html#activestate-perl">2.13.2 Windows に ActiveState Perl をインストールする</a></span></dt><dt><span class="section"><a href="installing.html#perl-support-problems">2.13.3 Perl DBI/DBD インタフェース使用の問題</a></span></dt></dl></dd></dl></div><a class="indexterm" name="idm45548124314160"></a><p>
    この章では MySQL の取得とインストールの方法を説明します。 最初に手順の概要を、後半のセクションで詳細を説明します。 MySQL をはじめてインストールするのではなく、現行のバージョンの MySQL を新しいバージョンにアップグレードする場合は、<a class="xref" href="installing.html#upgrading" title="2.11 MySQL のアップグレード">セクション2.11「MySQL のアップグレード」</a> を参照してください。アップグレードの手順およびアップグレード前に考慮すべき問題点に関する情報を記載しています。 
  </p><p>
    別のデータベースシステムから MySQL に移行する場合は、<a class="xref" href="faqs.html#faqs-migration" title="A.8 MySQL 8.0 FAQ: 移行">セクションA.8「MySQL 8.0 FAQ: 移行」</a> を参照してください。この <a class="xref" href="faqs.html#faqs-migration" title="A.8 MySQL 8.0 FAQ: 移行">セクションA.8「MySQL 8.0 FAQ: 移行」</a> には、移行の問題に関する一般的な質問への回答が含まれています。
  </p><p>
    MySQL のインストールは、一般に次の手順に従います。
  </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
        <span class="bold"><strong>使用しているプラットフォームで MySQL が動作し、サポートされているかどうかを判断します。</strong></span>
      </p><p>
        すべてのプラットフォームが MySQL の実行に等しく適しているわけではなく、MySQL が実行されることがわかっているすべてのプラットフォームが Oracle Corporation によって公式にサポートされているわけではないことに注意してください。 公式にサポートされているプラットフォームの詳細は、MySQL web サイトの <a class="ulink" href="https://www.mysql.com/support/supportedplatforms/database.html" target="_top">https://www.mysql.com/support/supportedplatforms/database.html</a> を参照してください。 
      </p></li><li class="listitem"><p>
        <span class="bold"><strong>インストールする配布を選択します。</strong></span>
      </p><p>
        MySQL には使用可能なバージョンがいくつかあり、ほとんどが複数の配布形式で使用可能です。 バイナリ (コンパイル済み) プログラムあるいはソースコードを含むパッケージ済み配布を選択できます。 不確かな場合にはバイナリ配布をご使用ください。 Oracle では、最近の開発を表示して新しいコードをテストするユーザーのために、MySQL ソースコードへのアクセスも提供されます。 どのバージョンのどの配布を選択したらよいかは <a class="xref" href="installing.html#which-version" title="2.1.2 インストールする MySQL のバージョンと配布の選択">セクション2.1.2「インストールする MySQL のバージョンと配布の選択」</a> を参照してください。 
      </p></li><li class="listitem"><p>
        <span class="bold"><strong>インストールする配布をダウンロードします。</strong></span>
      </p><p>
        その手順は、<a class="xref" href="installing.html#getting-mysql" title="2.1.3 MySQL の取得方法">セクション2.1.3「MySQL の取得方法」</a>を参照してください。 配布の完全性を確認するには、<a class="xref" href="installing.html#verifying-package-integrity" title="2.1.4 MD5 チェックサムまたは GnuPG を用いたパッケージの完全性の確認">セクション2.1.4「MD5 チェックサムまたは GnuPG を用いたパッケージの完全性の確認」</a> の指示に従ってください。 
      </p></li><li class="listitem"><p>
        <span class="bold"><strong>配布をインストールします。</strong></span>
      </p><p>
        MySQL をバイナリの配布からインストールするには、<a class="xref" href="installing.html#binary-installation" title="2.2 一般的なバイナリを使用した MySQL の Unix/Linux へのインストール">セクション2.2「一般的なバイナリを使用した MySQL の Unix/Linux へのインストール」</a> を参照してください。
      </p><p>
        MySQL をソースの配布からインストールする、あるいは現在の開発ソースツリーからインストールする場合は、<a class="xref" href="installing.html#source-installation" title="2.9 ソースから MySQL をインストールする">セクション2.9「ソースから MySQL をインストールする」</a> を参照してください。
      </p></li><li class="listitem"><p>
        <span class="bold"><strong>インストール後のセットアップが必要な場合は実行します。</strong></span>
      </p><p>
        MySQL のインストール後に、MySQL サーバーが正しく動作していることを確認するには、<a class="xref" href="installing.html#postinstallation" title="2.10 インストール後のセットアップとテスト">セクション2.10「インストール後のセットアップとテスト」</a> を参照してください。 <a class="xref" href="installing.html#default-privileges" title="2.10.4 初期 MySQL アカウントの保護">セクション2.10.4「初期 MySQL アカウントの保護」</a> の情報も参照してください。 このセクションでは、最初の MySQL <code class="literal">root</code> ユーザーアカウントを割り当てるまで<span class="emphasis"><em>パスワードを持たない</em></span>を保護する方法について説明します。 このセクションはバイナリ配布およびソース配布の MySQL のインストールの両方に適用されます。 
      </p></li><li class="listitem"><p>
        MySQL のベンチマークスクリプトを実行する場合、Perl の MySQL サポートが必要になります。 <a class="xref" href="installing.html#perl-support" title="2.13 Perl のインストールに関する注釈">セクション2.13「Perl のインストールに関する注釈」</a>を参照してください。 
      </p></li></ol></div><p>
    さまざまなプラットフォームおよび環境での MySQL のインストール手順は、プラットフォーム別に提供されます。
  </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
        <span class="bold"><strong>Unix、Linux、FreeBSD</strong></span>
      </p><p>
        一般的なバイナリ (たとえば、<code class="filename">.tar.gz</code> パッケージ) を使用して MySQL をほとんどの Linux および Unix プラットフォームにインストールする手順は、<a class="xref" href="installing.html#binary-installation" title="2.2 一般的なバイナリを使用した MySQL の Unix/Linux へのインストール">セクション2.2「一般的なバイナリを使用した MySQL の Unix/Linux へのインストール」</a> を参照してください。
      </p><p>
        MySQL をすべてソースコード配布またはソースコードリポジトリからビルドする場合の詳細は、<a class="xref" href="installing.html#source-installation" title="2.9 ソースから MySQL をインストールする">セクション2.9「ソースから MySQL をインストールする」</a>を参照してください。
      </p><p>
        インストール、構成、およびソースからのビルドに関するプラットフォーム固有のヘルプは、対応するプラットフォームのセクションを参照してください。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
            Linux (配布固有の方法を含む) は、<a class="xref" href="installing.html#linux-installation" title="2.5 Linux に MySQL をインストールする">セクション2.5「Linux に MySQL をインストールする」</a> を参照してください。
          </p></li><li class="listitem"><p>
            IBM AIX は、<a class="xref" href="installing.html#solaris-installation" title="2.7 Solaris への MySQL のインストール">セクション2.7「Solaris への MySQL のインストール」</a> を参照してください。
          </p></li><li class="listitem"><p>
            FreeBSD は、<a class="xref" href="installing.html#freebsd-installation" title="2.8 FreeBSD に MySQL をインストールする">セクション2.8「FreeBSD に MySQL をインストールする」</a> を参照してください。
          </p></li></ul></div></li><li class="listitem"><p>
        <span class="bold"><strong>Microsoft Windows</strong></span>
      </p><p>
        MySQL Installer または圧縮バイナリを使用して Microsoft Windows に MySQL をインストールする手順は、<a class="xref" href="installing.html#windows-installation" title="2.3 Microsoft Windows に MySQL をインストールする">セクション2.3「Microsoft Windows に MySQL をインストールする」</a> を参照してください。
      </p><p>
        Microsoft Visual Studio を使用して MySQL をソースコードからビルドする方法の詳細は、<a class="xref" href="installing.html#source-installation" title="2.9 ソースから MySQL をインストールする">セクション2.9「ソースから MySQL をインストールする」</a> を参照してください。
      </p></li><li class="listitem"><p>
        <span class="bold"><strong>macOS</strong></span>
      </p><p>
        バイナリパッケージ形式とネイティブ PKG 形式の両方の使用を含む、macOS へのインストールについては、<a class="xref" href="installing.html#macos-installation" title="2.4 macOS への MySQL のインストール">セクション2.4「macOS への MySQL のインストール」</a> を参照してください。
      </p><p>
        macOS 起動デーモンを使用して MySQL を自動的に起動および停止する方法の詳細は、<a class="xref" href="installing.html#macos-installation-launchd" title="2.4.3 MySQL 起動デーモンのインストールおよび使用">セクション2.4.3「MySQL 起動デーモンのインストールおよび使用」</a> を参照してください。
      </p><p>
        MySQL Preference Pane については、<a class="xref" href="installing.html#macos-installation-prefpane" title="2.4.4 MySQL Preference Pane のインストールと使用">セクション2.4.4「MySQL Preference Pane のインストールと使用」</a> を参照してください。
      </p></li></ul></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="general-installation-issues"></a>2.1 一般的なインストールガイド</h2></div></div></div><div class="toc"><dl class="toc"><dt><span class="section"><a href="installing.html#platform-support">2.1.1 サポートされるプラットフォーム</a></span></dt><dt><span class="section"><a href="installing.html#which-version">2.1.2 インストールする MySQL のバージョンと配布の選択</a></span></dt><dt><span class="section"><a href="installing.html#getting-mysql">2.1.3 MySQL の取得方法</a></span></dt><dt><span class="section"><a href="installing.html#verifying-package-integrity">2.1.4 MD5 チェックサムまたは GnuPG を用いたパッケージの完全性の確認</a></span></dt><dt><span class="section"><a href="installing.html#installation-layouts">2.1.5 インストールのレイアウト</a></span></dt><dt><span class="section"><a href="installing.html#compiler-characteristics">2.1.6 コンパイラ固有のビルドの特徴</a></span></dt></dl></div><p>
    次の数セクションには、配布の選択、ダウンロード、および確認に必要な情報が含まれています。 この章の次のセクション以降で、選択した配布のインストールの方法を説明します。 バイナリ配布については、<a class="xref" href="installing.html#binary-installation" title="2.2 一般的なバイナリを使用した MySQL の Unix/Linux へのインストール">セクション2.2「一般的なバイナリを使用した MySQL の Unix/Linux へのインストール」</a> の指示、または使用しているプラットフォームに対応するセクションがあればそちらを参照してください。 MySQL をソースからビルドするには、<a class="xref" href="installing.html#source-installation" title="2.9 ソースから MySQL をインストールする">セクション2.9「ソースから MySQL をインストールする」</a> を参照してください。 
  </p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="platform-support"></a>2.1.1 サポートされるプラットフォーム</h3></div></div></div><a class="indexterm" name="idm45548124256416"></a><a class="indexterm" name="idm45548124254256"></a><a class="indexterm" name="idm45548124252192"></a><a class="indexterm" name="idm45548124250112"></a><p>MySQL プラットフォームのサポートは時間の経過とともに進化します。最新の更新については、<a class="ulink" href="https://www.mysql.com/support/supportedplatforms/database.html" target="_top">https://www.mysql.com/support/supportedplatforms/database.html</a> を参照してください。</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="which-version"></a>2.1.2 インストールする MySQL のバージョンと配布の選択</h3></div></div></div><a class="indexterm" name="idm45548124244640"></a><a class="indexterm" name="idm45548124242480"></a><p>
      MySQL のインストールを準備するときに、使用するバージョンと配布形式 (バイナリまたはソース) を決定します。
    </p><a class="indexterm" name="idm45548124239696"></a><a class="indexterm" name="idm45548124238304"></a><a class="indexterm" name="idm45548124236912"></a><a class="indexterm" name="idm45548124235552"></a><a class="indexterm" name="idm45548124233520"></a><p>
      まず、開発リリースと General Availability (GA) リリースのどちらをインストールするかを決定します。 開発リリースには最新の機能がありますが、本番での使用は推奨されません。 GA リリースは、本番リリースまたは安定リリースとも呼ばれ、本番で使用するためのものです。 最新の GA リリースを使用することをお勧めします。 
    </p><a class="indexterm" name="idm45548124230416"></a><a class="indexterm" name="idm45548124228352"></a><a class="indexterm" name="idm45548124226288"></a><a class="indexterm" name="idm45548124224384"></a><a class="indexterm" name="idm45548124222272"></a><a class="indexterm" name="idm45548124220368"></a><a class="indexterm" name="idm45548124218256"></a><a class="indexterm" name="idm45548124216352"></a><p>
      MySQL 8.0 のネーミングスキームでは、3 つの数字とオプションの接尾辞 (<span class="bold"><strong>mysql-8.0.1-dmr</strong></span> など) で構成されるリリース名を使用します。 リリース名の番号は次のように解釈されます。 
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          最初の番号 (<span class="bold"><strong>8</strong></span>) はメジャーバージョン番号です。
        </p></li><li class="listitem"><p>
          2 番目の番号 (<span class="bold"><strong>0</strong></span>) はマイナーバージョン番号です。 メジャー番号とマイナー番号が一緒にリリースシリーズ番号を構成します。 シリーズ番号は、安定した機能セットを説明します。 
        </p></li><li class="listitem"><p>
          3 番目の番号 (<span class="bold"><strong>1</strong></span>) はリリースシリーズ内でのバージョン番号です。 これは、新しいバグ修正リリースごとに増分されます。 ほとんどの場合、シリーズ内の最新バージョンが最適な選択肢です。 
        </p></li></ul></div><p>
      リリース名には、リリースの安定性レベルを示す接尾辞を含めることもできます。 シリーズ内のリリースは、サフィクスが順に進展していくことで、安定性レベルの改善を示します。 サフィクスには次のようなものがあります。 
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          <span class="bold"><strong>dmr</strong></span> は、開発マイルストンリリース (DMR) を示します。 MySQL 開発では、マイルストンモデルを使用します。マイルストンモデルでは、各マイルストンに完全にテストされた機能の小さなサブセットが導入されます。 あるマイルストンから次のマイルストンに至るまで、これらの早期リリースを試行するコミュニティメンバーから提供されたフィードバックに基づいて、機能インタフェースが変更されたり、機能が削除されたりする場合があります。 マイルストーンリリース内の機能は、試作レベルの品質であるとみなされます。 
        </p></li><li class="listitem"><p>
          <span class="bold"><strong>rc</strong></span> は、リリース候補 (RC) を示します。 リリース候補は安定しているとみなされ、すべての MySQL 内部テストに合格しています。 RC リリースでは新機能がまだ導入されている可能性がありますが、フォーカスはバグの修正に移り、シリーズの前半で導入された機能を安定させます。 
        </p></li><li class="listitem"><p>
          接尾辞がない場合は、General Availability (GA) または Production リリースを示します。 GA リリースは安定しており、以前のリリース段階を正常に通過しており、信頼性が高く、深刻なバグがないと考えられ、本番システムでの使用に適しています。 
        </p></li></ul></div><p>
      シリーズ内での開発は DMR リリースから始まり、その後 RC リリースが続き、最後に GA ステータスリリースに到達します。
    </p><p>
      インストールする MySQL のバージョンを選択した後、オペレーティングシステムにインストールする配布形式を決定します。 ほとんどのユースケースでは、バイナリ配布を選択するのが適切です。 バイナリ配布は、Linux の RPM パッケージや macOS の DMG パッケージなど、多くのプラットフォームでネイティブ形式で使用できます。 配布は、Zip アーカイブや圧縮 <span class="command"><strong>tar</strong></span> ファイルなど、より一般的な形式でも利用可能です。 Windows では、<a class="link" href="installing.html#mysql-installer" title="2.3.3 MySQL Installer for Windows">MySQL Installer</a> を使用してバイナリ配布をインストールできます。 
    </p><p>
      状況によっては、ソース配布から MySQL をインストールすることをお薦めします:
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          MySQL を明示的な場所にインストールしたい場合。 標準のバイナリの配布はインストールの場所にかかわらずすぐに動作しますが、MySQL コンポーネントを希望する場所に配置することで柔軟性をさらに向上させる必要に駆られる場合があります。 
        </p></li><li class="listitem"><p>
          標準バイナリ配布に含まれていない可能性のある機能を使用して <span class="command"><strong>mysqld</strong></span> を構成する場合。 機能の可用性を確保するために使用される最も一般的な追加オプションのリストを次に示します: 
        </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
              TCP ラッパーサポートのための <code class="option">-DWITH_LIBWRAP=1</code>。
            </p></li><li class="listitem"><p>
              圧縮に依存する機能のための <code class="option">-DWITH_ZLIB={system|bundled}</code>
            </p></li><li class="listitem"><p>
              デバッグサポートのための <code class="option">-DWITH_DEBUG=1</code>
            </p></li></ul></div><p>
          詳細は <a class="xref" href="installing.html#source-configuration-options" title="2.9.7 MySQL ソース構成オプション">セクション2.9.7「MySQL ソース構成オプション」</a> を参照してください。
        </p></li><li class="listitem"><p>
          <span class="command"><strong>mysqld</strong></span> を、標準のバイナリの配布に含まれる一部の機能を使用しないように構成する場合。
        </p></li><li class="listitem"><p>
          あなたは、MySQL を構成する C および C++ コードを読み取ったり変更しようと考えています。 この目的のために、ソース配布を取得します。 
        </p></li><li class="listitem"><p>
          ソースの配布には、バイナリの配布より多くのテストおよび例が含まれています。
        </p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="getting-mysql"></a>2.1.3 MySQL の取得方法</h3></div></div></div><a class="indexterm" name="idm45548124178960"></a><a class="indexterm" name="idm45548124177536"></a><a class="indexterm" name="idm45548124176192"></a><a class="indexterm" name="idm45548124174160"></a><a class="indexterm" name="idm45548124172800"></a><a class="indexterm" name="idm45548124171456"></a><p>
      MySQL の最新バージョンおよびダウンロードの説明書については、ダウンロードページ <a class="ulink" href="https://dev.mysql.com/downloads/" target="_top">https://dev.mysql.com/downloads/</a> を参照してください。
    </p><p>
      パッケージ管理システムとして Yum を使用する RPM ベースの Linux プラットフォームでは、<a class="ulink" href="https://dev.mysql.com/downloads/repo/yum/" target="_top">MySQL Yum Repository</a> を使用して MySQL をインストールできます。 詳細は、<a class="xref" href="installing.html#linux-installation-yum-repo" title="2.5.1 MySQL Yum リポジトリを使用して MySQL を Linux にインストールする">セクション2.5.1「MySQL Yum リポジトリを使用して MySQL を Linux にインストールする」</a> を参照してください。 
    </p><p>
      Debian ベースの Linux プラットフォームの場合、MySQL は<a class="ulink" href="https://dev.mysql.com/downloads/repo/apt/" target="_top">「MySQL APT リポジトリ」</a>を使用してインストールできます。 詳細は、<a class="xref" href="installing.html#linux-installation-apt-repo" title="2.5.2 MySQL APT リポジトリを使用して MySQL を Linux にインストールする">セクション2.5.2「MySQL APT リポジトリを使用して MySQL を Linux にインストールする」</a> を参照してください。 
    </p><p>
      SUSE Linux Enterprise Server (SLES) プラットフォームでは、<a class="ulink" href="https://dev.mysql.com/downloads/repo/suse/" target="_top">MySQL SLES Repository</a> を使用して MySQL をインストールできます。 詳細は、<a class="xref" href="installing.html#linux-installation-sles-repo" title="2.5.3 MySQL SLES リポジトリを使用して MySQL を Linux にインストールする">セクション2.5.3「MySQL SLES リポジトリを使用して MySQL を Linux にインストールする」</a> を参照してください。 
    </p><p>
      最新の開発ソースの取得については、<a class="xref" href="installing.html#installing-development-tree" title="2.9.5 開発ソースツリーを使用して MySQL をインストールする">セクション2.9.5「開発ソースツリーを使用して MySQL をインストールする」</a> を参照してください。
    </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="verifying-package-integrity"></a>2.1.4 MD5 チェックサムまたは GnuPG を用いたパッケージの完全性の確認</h3></div></div></div><div class="toc"><dl class="toc"><dt><span class="section"><a href="installing.html#verifying-md5-checksum">2.1.4.1 MD5 チェックサムの確認</a></span></dt><dt><span class="section"><a href="installing.html#checking-gpg-signature">2.1.4.2 GnuPG を使用した署名確認</a></span></dt><dt><span class="section"><a href="installing.html#checking-gpg-signature-windows">2.1.4.3 Gpg4win for Windows を使用した署名確認</a></span></dt><dt><span class="section"><a href="installing.html#checking-rpm-signature">2.1.4.4 RPM を使用した署名確認</a></span></dt></dl></div><p>
      ニーズに合った MySQL パッケージをダウンロードした後、インストールする前に、パッケージがそのままで、改ざんされていないことを確認します。 完全性の確認には 3 つの方法があります。 
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          MD5 チェックサム
        </p></li><li class="listitem"><p>
          <code class="literal">GnuPG</code> (GNU Privacy Guard) を使用した暗号署名
        </p></li><li class="listitem"><p>
          RPM パッケージの場合、内蔵 RPM 完全性確認メカニズム
        </p></li></ul></div><p>
      次のセクションではこれらの方法の使用方法について説明します。
    </p><p>
      MD5 チェックサムまたは GPG 署名が一致しない場合には、別のミラーサイトから対応するパッケージを再度ダウンロードします。
    </p><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="verifying-md5-checksum"></a>2.1.4.1 MD5 チェックサムの確認</h4></div></div></div><p>
        MySQL パッケージをダウンロードしたら、MD5 チェックサムが MySQL のダウンロードページのチェックサムと一致することを確認してください。 各パッケージには固有のチェックサムがあり、ダウンロードしたパッケージに対して確認できます。 各 MySQL 製品のダウンロードページに正しい MD5 チェックサムがリストされます。ダウンロードするファイル (製品) の MD5 チェックサムと比較する必要があります。 
      </p><p>
        各オペレーティングシステムおよびセットアップで、MD5 チェックサムをチェックするための独自のツールが提供されています。 通常、このコマンドは <span class="command"><strong>md5sum</strong></span> という名前か、または <span class="command"><strong>md5</strong></span> という名前で、一部のオペレーティングシステムではまったく提供されていません。 Linux の場合は <span class="bold"><strong>GNU テキストユーティリティー</strong></span>パッケージの一部で、さまざまなプラットフォームに利用できます。 ソースコードを <a class="ulink" href="http://www.gnu.org/software/textutils/" target="_top">http://www.gnu.org/software/textutils/</a> からダウンロードすることもできます。 OpenSSL がインストールされている場合は、代わりにコマンド <span class="command"><strong>openssl md5 <em class="replaceable"><code>package_name</code></em></strong></span> を使用できます。 <span class="command"><strong>md5</strong></span> コマンド行ユーティリティーの Windows 実装は、<a class="ulink" href="http://www.fourmilab.ch/md5/" target="_top">http://www.fourmilab.ch/md5/</a> から入手できます。<span class="command"><strong>winMd5Sum</strong></span> はグラフィカルな MD5 チェックツールで、<a class="ulink" href="http://www.nullriver.com/index/products/winmd5sum" target="_top">http://www.nullriver.com/index/products/winmd5sum</a> から入手できます。 Microsoft Windows の例では、<span class="command"><strong>md5.exe</strong></span> という名前を想定しています。 
      </p><p>
        Linux および Microsoft Windows の例
      </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>md5sum mysql-standard-8.0.25-linux-i686.tar.gz</code></strong>
aaab65abbec64d5e907dcd41b8699945  mysql-standard-8.0.25-linux-i686.tar.gz
</pre><pre class="programlisting">shell&gt; <strong class="userinput"><code>md5.exe mysql-installer-community-8.0.25.msi</code></strong>
aaab65abbec64d5e907dcd41b8699945  mysql-installer-community-8.0.25.msi
</pre><p>
        結果のチェックサム (16 進数の文字列) が、ダウンロードページの対応するパッケージの真下のチェックサムと一致していることを確認してください。
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
          アーカイブファイルの内部に含まれるファイルではなく、<span class="emphasis"><em>アーカイブファイル</em></span> (たとえば <code class="filename">.zip</code>、<code class="filename">.tar.gz</code>、または <code class="filename">.msi</code> ファイル) のチェックサムを必ず確認してください。 つまり、内容を抽出する前のファイルを確認します。 
        </p></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="checking-gpg-signature"></a>2.1.4.2 GnuPG を使用した署名確認</h4></div></div></div><p>
        パッケージの完全性および信憑性を確認する別の方法は、暗号署名を使用するものです。 これは、<a class="link" href="installing.html#verifying-md5-checksum" title="2.1.4.1 MD5 チェックサムの確認">MD5 チェックサム</a>を使用するより信頼性が高いですが、手間がかかります。 
      </p><p>
        MySQL のダウンロード可能なパッケージは、<span class="command"><strong>GnuPG</strong></span> (GNU Privacy Guard) を使用して署名されます。 <span class="command"><strong>GnuPG</strong></span> は、Phil Zimmerman 氏の周知の Pretty Good Privacy (<span class="command"><strong>PGP</strong></span>) のオープンソース版です。 ほとんどの Linux の配布にはデフォルトで <span class="command"><strong>GnuPG</strong></span> がインストールされています。 それ以外の場合は、<span class="command"><strong>GnuPG</strong></span> の詳細およびそれを取得してインストールする方法について、<a class="ulink" href="http://www.gnupg.org/" target="_top">http://www.gnupg.org/</a> を参照してください。 
      </p><p>
        特定のパッケージの署名を確認するには、まず公開 GPG ビルド鍵を取得する必要があります。これは <a class="ulink" href="http://pgp.mit.edu/" target="_top">http://pgp.mit.edu/</a> からダウンロードできます。 取得する鍵は <code class="literal">mysql-build@oss.oracle.com</code> という名前です。 または、次のテキストから直接キーをコピーして貼り付けることもできます: 
      </p><pre class="programlisting">-----BEGIN PGP PUBLIC KEY BLOCK-----
Version: GnuPG v1

mQGiBD4+owwRBAC14GIfUfCyEDSIePvEW3SAFUdJBtoQHH/nJKZyQT7h9bPlUWC3
RODjQReyCITRrdwyrKUGku2FmeVGwn2u2WmDMNABLnpprWPkBdCk96+OmSLN9brZ
fw2vOUgCmYv2hW0hyDHuvYlQA/BThQoADgj8AW6/0Lo7V1W9/8VuHP0gQwCgvzV3
BqOxRznNCRCRxAuAuVztHRcEAJooQK1+iSiunZMYD1WufeXfshc57S/+yeJkegNW
hxwR9pRWVArNYJdDRT+rf2RUe3vpquKNQU/hnEIUHJRQqYHo8gTxvxXNQc7fJYLV
K2HtkrPbP72vwsEKMYhhr0eKCbtLGfls9krjJ6sBgACyP/Vb7hiPwxh6rDZ7ITnE
kYpXBACmWpP8NJTkamEnPCia2ZoOHODANwpUkP43I7jsDmgtobZX9qnrAXw+uNDI
QJEXM6FSbi0LLtZciNlYsafwAPEOMDKpMqAK6IyisNtPvaLd8lH0bPAnWqcyefep
rv0sxxqUEMcM3o7wwgfN83POkDasDbs3pjwPhxvhz6//62zQJ7Q2TXlTUUwgUmVs
ZWFzZSBFbmdpbmVlcmluZyA8bXlzcWwtYnVpbGRAb3NzLm9yYWNsZS5jb20+iGwE
ExECACwCGyMCHgECF4ACGQEGCwkIBwMCBhUKCQgCAwUWAgMBAAUCXEBY+wUJI87e
5AAKCRCMcY07UHLh9RZPAJ9uvm0zlzfCN+DHxHVaoFLFjdVYTQCfborsC9tmEZYa
whhogjeBkZkorbyIaQQTEQIAKQIbIwYLCQgHAwIEFQIIAwQWAgMBAh4BAheAAhkB
BQJTAdRmBQkaZsvLAAoJEIxxjTtQcuH1X4MAoKNLWAbCBUj96637kv6Xa/fJuX5m
AJwPtmgDfjUe2iuhXdTrFEPT19SB6ohmBBMRAgAmAhsjBgsJCAcDAgQVAggDBBYC
AwECHgECF4AFAk53PioFCRP7AhUACgkQjHGNO1By4fUmzACeJdfqgc9gWTUhgmcM
AOmG4RjwuxcAoKfM+U8yMOGELi+TRif7MtKEms6piGkEExECACkCGyMGCwkIBwMC
BBUCCAMEFgIDAQIeAQIXgAIZAQUCUZSROgUJFTchqgAKCRCMcY07UHLh9YtAAJ9X
rA/ymlmozPZn+A9ls8/uwMcTsQCfaQMNq1dNkhH2kyByc3Rx9/W2xfqJARwEEAEC
AAYFAlAS6+UACgkQ8aIC+GoXHivrWwf/dtLk/x+NC2VMDlg+vOeM0qgG1IlhXZfi
NsEisvvGaz4m8fSFRGe+1bvvfDoKRhxiGXU48RusjixzvBb6KTMuY6JpOVfz9Dj3
H9spYriHa+i6rYySXZIpOhfLiMnTy7NH2OvYCyNzSS/ciIUACIfH/2NH8zNT5CNF
1uPNRs7HsHzzz7pOlTjtTWiF4cq/Ij6Z6CNrmdj+SiMvjYN9u6sdEKGtoNtpycgD
5HGKR+I7Nd/7v56yhaUe4FpuvsNXig86K9tI6MUFS8CUyy7Hj3kVBZOUWVBM053k
nGdALSygQr50DA3jMGKVl4ZnHje2RVWRmFTr5YWoRTMxUSQPMLpBNIkBHAQQAQIA
BgUCU1B+vQAKCRAohbcD0zcc8dWwCACWXXWDXIcAWRUw+j3ph8dr9u3SItljn3wB
c7clpclKWPuLvTz7lGgzlVB0s8hH4xgkSA+zLzl6u56mpUzskFl7f1I3Ac9GGpM4
0M5vmmR9hwlD1HdZtGfbD+wkjlqgitNLoRcGdRf/+U7x09GhSS7Bf339sunIX6sM
gXSC4L32D3zDjF5icGdb0kj+3lCrRmp853dGyA3ff9yUiBkxcKNawpi7Vz3D2ddU
pOF3BP+8NKPg4P2+srKgkFbd4HidcISQCt3rY4vaTkEkLKg0nNA6U4r0YgOa7wIT
SsxFlntMMzaRg53QtK0+YkH0KuZR3GY8B7pi+tlgycyVR7mIFo7riQEcBBABCAAG
BQJWgVd0AAoJEEZu4b/gk4UKk9MH/Rnt7EccPjSJC5CrB2AU5LY2Dsr+PePI2ubP
WsEdG82qSjjGpbhIH8LSg/PzQoGHiFWMmmZWJktRT+dcgLbs3b2VwCNAwCE8jOHd
UkQhEowgomdNvHiBHKHjP4/lF68KOPiO/2mxYYkmpM7BWf3kB57DJ5CTi3/JLoN7
zF40qIs/p09ePvnwStpglbbtUn7XPO+1/Ee8VHzimABom52PkQIuxNiVUzLVn3bS
Wqrd5ecuqLk6yzjPXd2XhDHWC9Twpl68GePru6EzQtusi0m6S/sHgEXqh/IxrFZV
JlljF75JvosZq5zeulr0i6kOij+Y1p6MFffihITZ1gTmk+CLvK2JASIEEAECAAwF
Ak53QS4FAwASdQAACgkQlxC4m8pXrXwJ8Qf/be/UO9mqfoc2sMyhwMpN4/fdBWwf
LkA12FXQDOQMvwH9HsmEjnfUgYKXschZRi+DuHXe1P7l8G2aQLubhBsQf9ejKvRF
TzuWMQkdIq+6Koulxv6ofkCcv3d1xtO2W7nb5yxcpVBPrRfGFGebJvZa58DymCNg
yGtAU6AOz4veavNmI2+GIDQsY66+tYDvZ+CxwzdYu+HDV9HmrJfc6deM0mnBn7SR
jqzxJPgoTQhihTav6q/R5/2p5NvQ/H84OgS6GjosfGc2duUDzCP/kheMRKfzuyKC
OHQPtJuIj8++gfpHtEU7IDUX1So3c9n0PdpeBvclsDbpRnCNxQWU4mBot4kBIgQQ
AQIADAUCToi2GQUDABJ1AAAKCRCXELibyletfLZAB/9oRqx+NC98UQD/wlxCRytz
vi/MuPnbgQUPLHEap10tvEi33S/H/xDR/tcGofY4cjAvo5skZXXeWq93Av7PACUb
zkg0X0eSr2oL6wy66xfov72AwSuX+iUK68qtKaLqRLitM02y8aNRV/ggKvt7UMvG
mOvs5yLaYlobyvGaFC2ClfkNOt2MlVnQZCmnYBCwOktPGkExiu2yZMifcYGxQcpH
KVFG59KeF2cM2d4xYM8HJqkSGGW306LFVSyeRwG+wbttgLpD5bM/T2b3fF/J35ra
CSMLZearRTq8aygPl+XM7MM2eR946aw6jmOsgNBErbvvIdQj6LudAZj+8imcXV2K
iQEiBBABAgAMBQJOmdnRBQMAEnUAAAoJEJcQuJvKV618AvIIAIEF1ZJ+Ry7WOdKF
5oeQ/ynaYUigzN92fW/9zB8yuQlngkFJGidYMbci1tR1siziIVJFusR3ZonqAPGK
/SUta9Y6KWLhmc7c5UnEHklq/NfdMZ2WVSIykXlctqw0sbb+z1ecEd4G8u9j5ill
MO1B36rQayYAPoeXLX8dY4VyFLVGaQ00rWQBYFZrpw16ATWbWGJP332NSfCk4zZq
6kXEW07q0st3YBgAAGdNQyEeZCa4d4pBRSX6189Kjg6GDnIcaiOF6HO6PLr9fRlL
r5ObCgU+G9gEhfiVwDEV9E+7/Bq2pYZ9whhkBqWQzdpXTNTM24uaEhE01EPO5zeC
O214q6mJASIEEAECAAwFAk6rpgEFAwASdQAACgkQlxC4m8pXrXzAhwf/f9O99z16
3Y5FZVIxexyqXQ/Mct9uKHuXEVnRFYbA49dQLD4S73N+zN7gn9jFeQcBo4w8qVUV
94U/ta/VbLkdtNREyplPM4XY8YE5Wfd9bfyg3q1PbEiVjk995sBF+2+To99YYKst
gXPqjlH0jUfEyDmexOj+hsp8Rc63kvkIx36VBa4ONRYFefGAhKDMigL2YAhc1UkG
tkGTuLmlCGwIV6lviDZD3RJf5375VFnaHv7eXfwQxCwE+BxG3CURrjfxjaxMTmMP
yAG2rhDp5oTUEvqDYNbko5UxYOmrSjvF4FzXwqerElXJUkUzSh0pp7RxHB/1lCxD
s7D1F1hlgFQuNIkBIgQQAQIADAUCTrzZHAUDABJ1AAAKCRCXELibyletfMUpB/4s
07dREULIBnA1D6qr3fHsQJNZqbAuyDlvgGGLWzoyEDs+1JMFFlaa+EeLIo1386GU
2DammDC23p3IB79uQhJeD2Z1TcVg4cA64SfF/CHca5coeRSrdAiudzU/cgLGtXIP
/OaFamXgdMxAhloLFbSHPCZkyb00phVa8+xeIVDrK1HByZsNIXy/SSK8U26S2PVZ
2o14fWvKbJ1Aga8N6DuWY/D8P2mi3RAbiuZgfzkmKL5idH/wSKfnFKdTgJzssdCc
1jZEGVk5rFYcWOrJARHeP/tsnb/UxKBEsNtO7e3N2e/rLVnEykVIO066hz7xZK/V
NBSpx3k3qj4XPK41IHy2iQEiBBABAgAMBQJOzqO8BQMAEnUAAAoJEJcQuJvKV618
2twH/0IzjXLxN45nvIfEjC75a+i9ZSLlqR8lsHL4GpEScFKI0a0lT4IVAIY2RKG+
MAs2eHm0UfKuwGs5jluRZ9RqKrc61sY0XQV9/7znY9Db16ghX04JjknOKs/fPi87
rvKkB/QxJWS8qbb/erRmW+cPNjbRxTFPS5JIwFWHA16ieFEpvdAgKV6nfvJVTq1r
jPDcnIA9CJN2SmUFx9Qx3SRc6ITbam1hjFnY6sCh6AUhxLI2f1mq1xH9PqEy42Um
68prRqTyJ7Iox1g/UDDkeeUcAg7T1viTz7uXpS3Wrq4zzo4yOpaJfLDR3pI5g2Zk
SNGTMo6aySE4OABt8i1Pc1Pm6AmJASIEEAECAAwFAk7yPFYFAwASdQAACgkQlxC4
m8pXrXzXiAf9FrXe0lgcPM+tYOWMLhv5gXJi2VUBaLxpyRXm/kJcmxInKq1GCd3y
D4/FLHNu3ZcCz/uklPAbZXWI0O6ewq0LWsRtklmJjWiedH+hGyaTv95VklojRIBd
8nBaJ6M98rljMBHTFwWvjQFVf4FLRJQZqHlvjcCkq2Dd9BWJpGXvr/gpKkmMJYNK
/ftfZRcChb35NI19WRpOhj9u808OPcqKVvZBcPwFGV5cEBzmAC94J7JcD8+S8Ik8
iUJMQGGL3QcmZOBozovh86hj7KTSEBHlLXl832z89H1hLeuLbnXoGLv3zeUFSxkv
1h35LhZLqIMDQRXLuUzxGHMBpLhPyGWRJ4kBIgQQAQIADAUCTwQJFwUDABJ1AAAK
CRCXELibyletfABvB/9Cy69cjOqLGywITs3Cpg//40jmdhSAVxilJivP6J5bubFH
DJlVTx541Dv5h4hTG2BQuueQ4q1VCpSGW+rHcdhPyvmZGRz1rxdQQGh1Dv0Bod2c
3PJVSYPSrRSwCZJkJHOtVRBdjK4mkZb5aFTza+Tor9kxzj4FcXVd4KAS+hHQHYHc
Ar8tt2eOLzqdEFTULeGiSoNn+PVzvzdfhndphK+8F2jfQ2UKuc01O7k0Yn9xZVx0
OG6fE1gStzLv7C5amWLRd8+xh+MN0G8MgNglpBoExsEMMlPBYSUHa6lxpdMNMuib
rIyVncE9X8QOhImt8K0sNn/EdbuldJNGYbDLt7O4iQEiBBABAgAMBQJPFdTcBQMA
EnUAAAoJEJcQuJvKV6184owH+wZ/uLpezXnSxigeH1sig72QEXMrNd5DVHCJdig3
bo+K5YmmN710/m5z+63XKUEWpd6/knajObgckThzWftNeK1SSFQGPmoYZP9EZnSU
7L+/dSUpExbj842G5LYagrCyMGtlxRywWEmbi72TKS/JOK0jLiOdvVy+PHrZSu0D
TVQ7cJh1BmPsbz7zzxjmcI5l+7B7K7RHZHq45nDLoIabwDacj7BXvBK0Ajqz4QyJ
GQUjXC7q+88I+ptPvOXlE5nI/NbiCJOMI6d/bWN1KwYrC80fZuFaznfQFcPyUaDw
yRaun+K3kEji2wXecq+yMmLUEp01TKsUeOL50HD6hHH07W+JASIEEAECAAwFAk85
bQsFAwASdQAACgkQlxC4m8pXrXwKPQgAlkbUsTr7nkq+haOk0jKpaHWEbRMEGMrB
I3F7E+RDO6V/8y4Jtn04EYDc8GgZMBah+mOgeINq3y8jRMYV5jVtZXv2MWYFUcjM
kVBKeqhi/pGEjmUdmdt3DlPv3Z+fMTMRmAocI981iY/go8PVPg/+nrR6cFK2xxnO
R8TacikJBFeSfkkORg1tDzjjYv1B5ZIEkpplepl5ahJBBq7cpYhTdY6Yk0Sz0J8w
EdffLSaNxrRuWLrRhWzZU7p9bFzfb/7OHc21dJnB7wKv5VvtgE+jiQw9tOKaf5hc
SgRYuF6heu+B25gc5Uu88lo409mZ7oxQ6hDCn7JHvzh0rhmSN+Kid4kBIgQQAQIA
DAUCT0qQrQUDABJ1AAAKCRCXELibyletfC9UB/4o2ggJYM0CLxEpP0GU8UKOh3+/
zm1DN7Qe4kY2iCtF1plKHQaTgt5FlgRCFaiXcVv7WzGz/FnmxonR1leLl+kfRlwy
PPnoI/AWPCy/NO4Cl5KnjsSmsdDUpObwZ4KYsdilZR7ViJu2swdAIgnXBUwrlRJR
7CK4TAKrTeonRgVSrVx8Vt//8/cYj73CLq8oY/KK0iHiQrSwo44uyhdiFIAssjyX
n6/2E+w0zgvPexNSNNROHQ8pjbq+NTY6GwKIGsaej3UTRwQ7psvKXz8y7xdzmOAr
/khGvxB5gjkx02pimjeia8v66aH6rbnojJMAovNUS4EHdHnulv4rovC8Kf9iiQEi
BBABAgAMBQJPVdsaBQMAEnUAAAoJEJcQuJvKV618vVEIALFXPBzcAO1SnQarBLzy
YMVZZumPvSXKnUHAO+6kjApXPJ+qFRdUaSNshZxVKY9Zryblu4ol/fLUTt0CliSD
IxD6L4GXEm4VYYCl4lPO3bVsJnGITLFwQGHM27EmjVoTiD8Ch7kPq2EXr3dMRgzj
pdz+6aHGSUfOdLTPXufDvW83bEWGaRVuTJKw+wIrcuRqQ+ucWJgJGwcE4zeHjZad
Jx1XUm1X+BbI73uiQussyjhhQVVNU7QEdrjyuscaZ/H38wjUwNbylxDPB4I8quC1
knQ0wSHr7gKpM+E9nhiS14poRqU18u78/sJ2MUPXnQA6533IC238/LP8JgqB+BiQ
BTSJASIEEAECAAwFAk9ng3cFAwASdQAACgkQlxC4m8pXrXxQRAf/UZlkkpFJj1om
9hIRz7gS+l7YvTaKSzpo+TBcx3C7aqKJpir6TlMK9cb9HGTHo2Xp1N3FtQL72NvO
6CcJpBURbvSyb4i0hrm/YcbUC4Y3eajWhkRS3iVfGNFbc/rHthViz0r6Y5lhXX16
aVkDv5CIFWaF3BiUK0FnHrZiy4FPacUXCwEjv3uf8MpxV5oEmo8Vs1h4TL3obyUz
qrImFrEMYE/12lkE8iR5KWCaF8eFyl56HL3PPl90JMQBXzhwsFoWCPuwjfM5w6sW
Ll//zynwxtlJ9CRz9c2vK6aJ8DRu3OfBKN1iiEcNEynksDnNXErn5xXKz3p5pYdq
e9BLzUQCDYkBIgQQAQIADAUCT3inRgUDABJ1AAAKCRCXELibyletfGMKCADJ97qk
geBntQ+tZtKSFyXznAugYQmbzJld8U6eGSQnQkM40Vd62UZLdA8MjlWKS8y4A4L2
0cI14zs5tKG9Q72BxQOw5xkxlLASw1/8WeYEbw7ZA+sPG//q9v3kIkru3sv64mMA
enZtxsykexRGyCumxLjzlAcL1drWJGUYE2Kl6uzQS7jb+3PNBloQvz6nb3YRZ+Cg
Ly9D41SIK+fpnV8r4iqhu7r4LmAQ7Q1DF9aoGaYvn2+xLGyWHxJAUet4xkMNOLp6
k9RF1nbNe4I/sqeCB25CZhCTEvHdjSGTD2yJR5jfoWkwO9w8DZG1Q9WrWqki4hSB
l0cmcvO34pC1SJYziQEiBBABAgAMBQJPinQFBQMAEnUAAAoJEJcQuJvKV618CFEI
AJp5BbcV7+JBMRSvkoUcAWDoJSP2ug9zGw5FB8J90PDefKWCKs5Tjayf2TvM5ntq
5DE9SGaXbloIwa74FoZlgqlhMZ4AtY9Br+oyPJ5S844wpAmWMFc6NnEPFaHQkQ+b
dJYpRVNd9lzagJP261P3S+S9T2UeHVdOJBgWIq9Mbs4lnZzWsnZfQ4Lsz0aPqe48
tkU8hw+nflby994qIwNOlk/u+I/lJbNz5zDY91oscXTRl2jV1qBgKYwwCXxyB3j9
fyVpRl+7QnqbTWcCICVFL+uuYpP0HjdoKNqhzEguAUQQLOB9msPTXfa2hG+32ZYg
5pzI5V7GCHq0KO6u5Ctj3TGJASIEEAECAAwFAk+cQEEFAwASdQAACgkQlxC4m8pX
rXzi7AgAx8wJzNdD7UlgdKmrAK//YqH7arSssb33Xf45sVHDpUVA454DXeBrZpi+
zEuo03o5BhAuf38cwfbkV6jN1mC2N0FZfpy4v7RxHKLYr7tr6r+DRn1L1giX5ybx
CgY0fLAxkwscWUKGKABWxkz9b/beEXaO2rMt+7DBUdpAOP5FNRQ8WLRWBcMGQiaT
S4YcNDAiNkrSP8CMLQP+04hQjahxwCgBnksylciqz3Y5/MreybNnTOrdjVDsF0Oe
t0uLOiWXUZV1FfaGIdb/oBQLg+e1B74p5+q3aF8YI97qAZpPa1qiQzWIDX8LX9QX
EFyZ3mvqzGrxkFoocXleNPgWT8fRuokBIgQQAQIADAUCT64N/QUDABJ1AAAKCRCX
ELibyletfDOGCACKfcjQlSxrWlEUrYYZpoBP7DE+YdlIGumt5l6vBmxmt/5OEhqr
+dWwuoiyC5tm9CvJbuZup8anWfFzTTJmPRPsmE4z7Ek+3CNMVM2wIynsLOt1pRFK
4/5RNjRLbwI6EtoCQfpLcZJ//SB56sK4DoFKH28Ok4cplESPnoMqA3QafdSEA/FL
qvZV/iPgtTz7vjQkMgrXAIUM4fvKe3iXkAExGXtmgdXHVFoKmHrxJ2DTSvM7/19z
jGJeu2MhIKHyqEmCk6hLjxyCE5pAH59KlbAQOP1bS28xlRskBApm2wN+LOZWzC62
HhEReQ50inCGuuubK0PqUQnyYc+lUFxrFpcliQEiBBABAgAMBQJPv9lVBQMAEnUA
AAoJEJcQuJvKV618AzgH/iRFFCi4qjvoqji1fi7yNPZVOMMO2H13Ks+AfcjRtHuV
aa30u50ND7TH+XQe6yerTapLh3aAm/sNP99aTxIuwRSlyKEoDs93+XVSgRqPBgbF
/vxv0ykok3p6L9DxFO/w5cL8JrBhMZoJrEkIBFkwN8tWlcXPRFQvcdBYv3M3DTZU
qY+UHnOxHvSzsl+LJ0S9Xcd9C5bvYfabmYJvG5eRS3pj1L/y3a6yw6hvY+JtnQAk
t05TdeHMIgQH/zb8V9wxDzmE0un8LyoC2Jx5TpikQsJSejwK6b3coxVBlngku6+C
qDAimObZLw6H9xYYIK0FoJs7j5bQZEwUO7OLBgjcMOqJASIEEAECAAwFAk/Rpc8F
AwASdQAACgkQlxC4m8pXrXw49Qf/TdNbun2htQ+cRWarszOx8BLEiW/x6PVyUQpZ
nV/0qvhKzlJUjM9hQPcA0AsOjhqtCN6Cy8KXbK/TvPm9D/Nk6HWwD1PomzrJVFk2
ywGFIuTR+lluKSp7mzm5ym0wJs5cPq731Im31RUQU8ndjLrq9YOf5FVL8NqmcOAU
4E8d68BbmVCQC5MMr0901FKwKznShfpy7VYN25/BASj8dhnynBYQErqToOJB6Cnd
JhdTlbfR4SirqAYZZg3XeqGhByytEHE1x7FMWWFYhdNtsnAVhYBbWqAzBs8lF9Jd
Mhaf0VQU/4z10gVrRtXLR/ixrCi+P4cM/fOQkqd6pwqWkaXt6okBIgQQAQIADAUC
T+NxIAUDABJ1AAAKCRCXELibyletfFBBCAC6+0TUJDcNaqOxOG1KViY6KYg9NCL8
pwNK+RKNK/N1V+WGJQH7qDMwRoOn3yogrHax4xIeOWiILrvHK0O6drS1DjsymIhR
Sm2XbE/8pYmEbuJ9vHh3b/FTChmSAO7dDjSKdWD3dvaY8lSsuDDqPdTX8FzOfrXC
M22C/YPg7oUG2A5svE1b+yismP4KmVNWAepEuPZcnEMPFgop3haHg9X2+mj/btDB
Yr6p9kAgIY17nigtNTNjtI0dMLu43aIzedCYHqOlNHiB049jkJs54fMGBjF9qPtc
m0k44xyKd1/JXWMdNUmtwKsChAXJS3YOciMgIx6tqYUTndrP4I6q1rfriQEiBBAB
AgAMBQJP9T1VBQMAEnUAAAoJEJcQuJvKV618J9wIAI1lId9SMbEHF6PKXRe154lE
pap5imMU/lGTj+9ZcXmlf8o2PoMMmb3/E1k+EZUaeSBoOmjS8C2gwd5XFwRrlwAD
RlK/pG5XsL4h5wmN2fj1ororrJXvqH427PLRQK9yzdwG4+9HTBOxjoS8qZT9plyK
AJZzAydAMqyseRHgNo0vMwlgrs4ojo+GcFGQHrF3IaUjvVfUPOmIj7afopFdIZmI
GaSF0TXBzqcZ1chFv/eTBcIuIKRvlaDee5FgV7+nLH2nKOARCLvV/+8uDi2zbr83
Ip5x2tD3XuUZ0ZWxD0AQWcrLdmGb4lkxbGxvCtsaJHaLXWQ2m760RjIUcwVMEBKJ
ASIEEAECAAwFAlAGYWsFAwASdQAACgkQlxC4m8pXrXwyVAgAvuvEl6yuGkniWOlv
uHEusUv/+2GCBg6qV+IEpVtbTCCgiFjYR5GasSp1gpZ5r4BocOlbGdjdJGHTpyK8
xD1i+6qZWUYhNRg2POXUVzcNEl2hhouwPLOifcmTwAKU76TEv3L5STviL3hWgUR2
yEUZ3Ut0IGVV6uPER9jpR3qd6O3PeuFkwf+NaGTye4jioLAy3aYwtZCUXzvYmNLP
90K4y+5yauZteLmNeq26miKC/NQu4snNFClPbGRjHD1ex9KDiAMttOgN4WEq7srT
rYgtT531WY4deHpNgoPlHPuAfC0H+S6YWuMbgfcb6dV+Rrd8Ij6zM3B/PcjmsYUf
OPdPtIkBIgQQAQIADAUCUBgtfQUDABJ1AAAKCRCXELibyletfAm3CACQlw21Lfeg
d8RmIITsfnFG/sfM3MvZcjVfEAtsY3fTK9NiyU0B3yX0PU3ei37qEW+50BzqiStf
5VhNvLfbZR+yPou7o2MAP31mq3Uc6grpTV64BRIkCmRWg40WMjNI1hv7AN/0atgj
ATYQXgnEw7mfFb0XZtMTD6cmrz/A9nTPVgZDxzopOMgCCC1ZK4Vpq9FKdCYUaHpX
3sqnDf+gpVIHkTCMgWLYQOeX5Nl+fgnq6JppaQ3ySZRUDr+uFUs0uvDRvI/cn+ur
ri92wdDnczjFumKvz/cLJAg5TG2Jv1Jx3wecALsVqQ3gL7f7vr1OMaqhI5FEBqdN
29L9cZe/ZmkriQEiBBIBCgAMBQJVoNxyBYMHhh+AAAoJEEoz7NUmyPxLD1EH/2eh
7a4+8A1lPLy2L9xcNt2bifLfFP2pEjcG6ulBoMKpHvuTCgtX6ZPdHpM7uUOje/F1
CCN0IPB533U1NIoWIKndwNUJjughtoRM+caMUdYyc4kQm29Se6hMPDfyswXE5Bwe
PmoOm4xWPVOH/cVN04zyLuxdlQZNQF/nJg6PMsz4w5z+K6NGGm24NEPcc72iv+6R
Uc/ry/7v5cVu4hO5+r104mmNV5yLecQF13cHy2JlngIHXPSlxTZbeJX7qqxE7TQh
5nviSPgdk89oB5jFSx4g1efXiwtLlP7lbDlxHduomyQuH9yqmPZMbkJt9uZDc8Zz
MYsDDwlc7BIe5bGKfjqJAhwEEAECAAYFAlSanFIACgkQdzHqU52lcqLdvg//cAEP
qdN5VTKWEoDFjDS4I6t8+0KzdDWDacVFwKJ8RAo1M2SklDxnIvnzysZd2VHp5Pq7
i4LYCZo5lDkertQ6LwaQxc4X6myKY4LTA652ObFqsSfgh9kW+aJBBAyeahPQ8CDD
+Yl23+MY5wTsj4qt7KffNzy78vLbYnVnvRQ3/CboVix0SRzg0I3Oi7n3B0lihvXy
5goy9ikjzZevejMEfjfeRCgoryy9j5RvHH9PF3fJVtUtHCS4f+kxLmbQJ1XqNDVD
hlFzjz8oUzz/8YXy3im5MY7Zuq4P4wWiI7rkIFMjTYSpz/evxkVlkR74qOngT2pY
VHLyJkqwh56i0aXcjMZiuu2cymUt2LB9IsaMyWBNJjXr2doRGMAfjuR5ZaittmML
yZwix9mWVk7tkwlIxmT/IW6Np0qMhDZcWYqPRpf7+MqY3ZYMK4552b8aDMjhXrnO
OwLsz+UI4bZa1r9dguIWIt2C2b5C1RQ9AsQBPwg7h5P+HhRuFAuDKK+vgV8FRuzR
JeKkFqwB4y0Nv7BzKbFKmP+V+/krRv+/Dyz9Bz/jyAQgw02u1tPupH9BGhlRyluN
yCJFTSNj7G+OLU0/l4XNph5OOC7sy+AMZcsL/gsT/TXCizRcCuApNTPDaenACpbv
g8OoIzmNWhh4LXbAUHCKmY//hEw9PvTZA1xKHgyJAhwEEgECAAYFAlJYsKQACgkQ
oirk60MpxUV2XQ//b2/uvThkkbeOegusDC4AZfjnL/V3mgk4iYy4AC9hum0R9oNl
XDR51P1TEw9mC1btHj+7m7Iq1a5ke5wIC7ENZiilr0yPqeWgL5+LC98dz/L85hqA
wIoGeOfMhrlaVbAZEj4yQTAJDA35vZHVsQmp87il0m+fZX04OBLXBzw86EoAAZ7Q
EoH4qFcT9k1T363tvNnIm3mEvkQ5WjE1R9uchJa1g7hdlNQlVkjFmPZrJK9fl4z5
6Dto89Po4Sge48jDH0pias4HATYHsxW819nz5jZzGcxLnFRRR5iITVZi9qzsHP7N
bUh3qxuWCHS9xziXpOcSZY848xXw63Y5jDJfpzupzu/KHj6CzXYJUEEqp9MluoGb
/BCCEPzdZ0ovyxFutM/BRcc6DvE6sTDF/UES21ROqfuwtJ6qJYWX+lBIgyCJvj4o
RdbzxUleePuzqCzmwrIXtoOKW0Rlj4SCeF9yCwUMBTGW5/nCLmN4dwf1KW2RP2Eg
4ERbuUy7QnwRP5UCl+0ISZJyYUISfg8fmPIdQsetUK9Cj+Q5jpB2GXwELXWnIK6h
K/6jXp+EGEXSqdIE53vAFe7LwfHiP/D5M71D2h62sdIOmUm3lm7xMOnM5tKlBiV+
4jJSUmriCT62zo710+6iLGqmUUYlEll6Ppvo8yuanXkYRCFJpSSP7VP0bBqIZgQT
EQIAJgUCTnc9dgIbIwUJEPPzpwYLCQgHAwIEFQIIAwQWAgMBAh4BAheAAAoJEIxx
jTtQcuH1Ut4AoIKjhdf70899d+7JFq3LD7zeeyI0AJ9Z+YyE1HZSnzYi73brScil
bIV6sbQ7TXlTUUwgUGFja2FnZSBzaWduaW5nIGtleSAod3d3Lm15c3FsLmNvbSkg
PGJ1aWxkQG15c3FsLmNvbT6IbwQwEQIALwUCTnc9rSgdIGJ1aWxkQG15c3FsLmNv
bSB3aWxsIHN0b3Agd29ya2luZyBzb29uAAoJEIxxjTtQcuH1tT0An3EMrSjEkUv2
9OX05JkLiVfQr0DPAJwKtL1ycnLPv15pGMvSzav8JyWN3IhlBBMRAgAdBQJHrJS0
BQkNMFioBQsHCgMEAxUDAgMWAgECF4AAEgkQjHGNO1By4fUHZUdQRwABAa6SAJ9/
PgZQSPNeQ6LvVVzCALEBJOBt7QCffgs+vWP18JutdZc7XiawgAN9vmmITAQTEQIA
DAUCPj6j0QWDCWYAuwAKCRBJUOEqsnKR8iThAJ9ZsR4o37dNGyl77nEqP6RAlJqa
YgCeNTPTEVY+VXHR/yjfyo0bVurRxT2ITAQTEQIADAUCPkKCAwWDCWIiiQAKCRC2
9c1NxrokP5aRAKCIaaegaMyiPKenmmm8xeTJSR+fKQCgrv0TqHyvCRINmi6LPucx
GKwfy7KIRgQQEQIABgUCP6zjrwAKCRCvxSNIeIN0D/aWAKDbUiEgwwAFNh2n8gGJ
Sw/8lAuISgCdHMzLAS26NDP8T2iejsfUOR5sNriIRgQQEQIABgUCP7RDdwAKCRCF
lq+rMHNOZsbDAJ0WoPV+tWILtZG3wYqg5LuHM03faQCeKuVvCmdPtro06xDzeeTX
VrZ14+GIRgQQEQIABgUCQ1uz6gAKCRCL2C5vMLlLXH90AJ0QsqhdAqTAk3SBnO2w
zuSOwiDIUwCdFExsdDtXf1cL3Q4ilo+OTdrTW2CIRgQTEQIABgUCRPEzJgAKCRD2
ScT0YJNTDApxAKCJtqT9LCHFYfWKNGGBgKjka0zi9wCcCG3MvnvBzDUqDVebudUZ
61Sont+ITAQQEQIADAUCQYHLAQWDBiLZiwAKCRAYWdAfZ3uh7EKNAJwPywk0Nz+Z
Lybw4YNQ7H1UxZycaQCePVhY4P5CHGjeYj9SX2gQCE2SNx+ITAQQEQIADAUCQYHL
NAWDBiLZWAAKCRCBwvfr4hO2kiIjAJ0VU1VQHzF7yYVeg+bh31nng9OOkwCeJI8D
9mx8neg4wspqvgXRA8+t2saITAQQEQIADAUCQYHLYgWDBiLZKgAKCRBrcOzZXcP0
cwmqAJsFjOvkY9c5eA/zyMrOZ1uPB6pd4QCdGyzgbYb/eoPu6FMvVI9PVIeNZReI
TAQQEQIADAUCQdCTJAWDBdQRaAAKCRB9JcoKwSmnwmJVAKCG9a+Q+qjCzDzDtZKx
5NzDW1+W+QCeL68seX8OoiXLQuRlifmPMrV2m9+ITAQQEQIADAUCQitbugWDBXlI
0gAKCRDmG6SJFeu5q/MTAKCTMvlCQtLKlzD0sYdwVLHXJrRUvgCffmdeS6aDpwIn
U0/yvYjg1xlYiuqITAQSEQIADAUCQCpZOgWDB3pLUgAKCRA8oR80lPr4YSZcAJwP
4DncDk4YzvDvnRbXW6SriJn1yQCdEy+d0CqfdhM7HGUs+PZQ9mJKBKqITAQSEQIA
DAUCQD36ugWDB2ap0gAKCRDy11xj45xlnLLfAKC0NzCVqrbTDRw25cUss14RRoUV
PACeLpEc3zSahJUB0NNGTNlpwlTczlCITAQSEQIADAUCQQ4KhAWDBpaaCAAKCRA5
yiv0PWqKX/zdAJ4hNn3AijtcAyMLrLhlZQvib551mwCgw6FEhGLjZ+as0W681luc
wZ6PzW+ITAQSEQIADAUCQoClNAWDBSP/WAAKCRAEDcCFfIOfqOMkAJwPUDhS1eTz
gnXclDKgf353LbjvXgCeLCWyyj/2d0gIk6SqzaPl2UcWrqiITAQTEQIADAUCPk1N
hAWDCVdXCAAKCRAtu3a/rdTJMwUMAKCVPkbk1Up/kyPrlsVKU/Nv3bOTZACfW5za
HX38jDCuxsjIr/084n4kw/uITAQTEQIADAUCQdeAdgWDBc0kFgAKCRBm79vIzYL9
Pj+8AJ9d7rvGJIcHzTCSYVnaStv6jP+AEACeNHa5yltqieRBCCcLcacGqYK81omI
TAQTEQIADAUCQhiBDgWDBYwjfgAKCRB2wQMcojFuoaDuAJ9CLYdysef7IsW42UfW
hI6HjxkzSgCfeEpXS4hEmmGicdpRiJQ/W21aB0GIZQQTEQIAHQULBwoDBAMVAwID
FgIBAheABQJLcC/KBQkQ8/OnABIHZUdQRwABAQkQjHGNO1By4fWw2wCeJilgEarL
8eEyfDdYTyRdqE45HkoAnjFSZY8Zg/iXeErHI0r04BRukNVgiHsEMBECADsFAkJ3
NfU0HQBPb3BzLi4uIHNob3VsZCBoYXZlIGJlZW4gbG9jYWwhIEknbSAqc28qIHN0
dXBpZC4uLgAKCRA5yiv0PWqKX+9HAJ0WjTx/rqgouK4QCrOV/2IOU+jMQQCfYSC8
JgsIIeN8aiyuStTdYrk0VWCIjwQwEQIATwUCRW8Av0gdAFNob3VsZCBoYXZlIGJl
ZW4gYSBsb2NhbCBzaWduYXR1cmUsIG9yIHNvbWV0aGluZyAtIFdURiB3YXMgSSB0
aGlua2luZz8ACgkQOcor9D1qil+g+wCfcFWoo5qUl4XTE9K8tH3Q+xGWeYYAnjii
KxjtOXc0ls+BlqXxbfZ9uqBsiQIiBBABAgAMBQJBgcuFBYMGItkHAAoJEKrj5s5m
oURoqC8QAIISudocbJRhrTAROOPoMsReyp46Jdp3iL1oFDGcPfkZSBwWh8L+cJjh
dycIwwSeZ1D2h9S5Tc4EnoE0khsS6wBpuAuih5s//coRqIIiLKEdhTmNqulkCH5m
imCzc5zXWZDW0hpLr2InGsZMuh2QCwAkB4RTBM+r18cUXMLV4YHKyjIVaDhsiPP/
MKUj6rJNsUDmDq1GiJdOjySjtCFjYADlQYSD7zcd1vpqQLThnZBESvEoCqumEfOP
xemNU6xAB0CL+pUpB40pE6Un6Krr5h6yZxYZ/N5vzt0Y3B5UUMkgYDSpjbulNvaU
TFiOxEU3gJvXc1+h0BsxM7FwBZnuMA8LEA+UdQb76YcyuFBcROhmcEUTiducLu84
E2BZ2NSBdymRQKSinhvXsEWlH6Txm1gtJLynYsvPi4B4JxKbb+awnFPusL8W+gfz
jbygeKdyqzYgKj3M79R3geaY7Q75Kxl1UogiOKcbI5VZvg47OQCWeeERnejqEAdx
EQiwGA/ARhVOP/1l0LQA7jg2P1xTtrBqqC2ufDB+v+jhXaCXxstKSW1lTbv/b0d6
454UaOUV7RisN39pE2zFvJvY7bwfiwbUJVmYLm4rWJAEOJLIDtDRtt2h8JahDObm
3CWkpadjw57S5v1c/mn+xV9yTgVx5YUfC/788L1HNKXfeVDq8zbAiQIiBBMBAgAM
BQJCnwocBYMFBZpwAAoJENjCCglaJFfPIT4P/25zvPp8ixqV85igs3rRqMBtBsj+
5EoEW6DJnlGhoi26yf1nasC2frVasWG7i4JIm0U3WfLZERGDjR/nqlOCEqsP5gS3
43N7r4UpDkBsYh0WxH/ZtST5llFK3zd7XgtxvqKL98l/OSgijH2W2SJ9DGpjtO+T
iegq7igtJzw7Vax9z/LQH2xhRQKZR9yernwMSYaJ72i9SyWbK3k0+e95fGnlR5pF
zlGq320rYHgD7v9yoQ2t1klsAxK6e3b7Z+RiJG6cAU8o8F0kGxjWzF4v8D1op7S+
IoRdB0Bap01ko0KLyt3+g4/33/2UxsW50BtfqcvYNJvU4bZns1YSqAgDOOanBhg8
Ip5XPlDxH6J/3997n5JNj/nk5ojfd8nYfe/5TjflWNiput6tZ7frEki1wl6pTNbv
V9C1eLUJMSXfDZyHtUXmiP9DKNpsucCUeBKWRKLqnsHLkLYydsIeUJ8+ciKc+EWh
FxEY+Ml72cXAaz5BuW9L8KHNzZZfez/ZJabiARQpFfjOwAnmhzJ9r++TEKRLEr96
taUI9/8nVPvT6LnBpcM38Td6dJ639YvuH3ilAqmPPw50YvglIEe4BUYD5r52Seqc
8XQowouGOuBX4vs7zgWFuYA/s9ebfGaIw+uJd/56Xl9ll6q5CghqB/yt1EceFEnF
CAjQc2SeRo6qzx22iEYEEBECAAYFAkSAbycACgkQCywYeUxD5vWDcACfQsVk/XGi
ITFyFVQ3IR/3Wt7zqBMAoNhso/cX8VUfs2BzxPvvGS3y+5Q9iEYEEBECAAYFAkUw
ntcACgkQOI4l6LNBlYkyFgCbBcw5gIii0RTDJsdNiuJDcu/NPqEAniSq9iTaLjgF
HZbaizUU8arsVCB5iEYEEBECAAYFAkWho2sACgkQu9u2hBuwKr6bjwCfa7ZK6O+X
mT08Sysg4DEoZnK4L9UAoLWgHuYg35wbZYx+ZUTh98diGU/miF0EExECAB0FAj4+
owwFCQlmAYAFCwcKAwQDFQMCAxYCAQIXgAAKCRCMcY07UHLh9XGOAJ4pVME15/DG
rUDohtGv2z8a7yv4AgCeKIp0jWUWE525QocBWms7ezxd6syIXQQTEQIAHQUCR6yU
zwUJDTBYqAULBwoDBAMVAwIDFgIBAheAAAoJEIxxjTtQcuH1dCoAoLC6RtsD9K3N
7NOxcp3PYOzH2oqzAKCFHn0jSqxk7E8by3sh+Ay8yVv0BYhdBBMRAgAdBQsHCgME
AxUDAgMWAgECF4AFAkequSEFCQ0ufRUACgkQjHGNO1By4fUdtwCfRNcueXikBMy7
tE2BbfwEyTLBTFAAnifQGbkmcARVS7nqauGhe1ED/vdgiF0EExECAB0FCwcKAwQD
FQMCAxYCAQIXgAUCS3AuZQUJEPPyWQAKCRCMcY07UHLh9aA+AKCHDkOBKBrGb8tO
g9BIub3LFhMvHQCeIOOot1hHHUlsTIXAUrD8+ubIeZaJARwEEgECAAYFAkvCIgMA
CgkQ3PTrHsNvDi8eQgf/dSx0R9Klozz8iK79w00NOsdoJY0Na0NTFmTbqHg30XJo
G62cXYgc3+TJnd+pYhYi5gyBixF/L8k/kPVPzX9W0YfwChZDsfTw0iDVmGxOswiN
jzSo0lhWq86/nEL30Khl9AhCC1XFNRw8WZYq9Z1qUXHHJ2rDARaedvpKHOjzRY0N
dx6R2zNyHDx2mlfCQ9wDchWEuJdAv0uHrQ0HV9+xq7lW/Q3L/V5AuU0tiowyAbBL
PPYrB6x9vt2ZcXS7BOy8SfQ1i8W2QDQ/Toork4YwBiv6WCW/ociy7paAoPOWV/Nf
2S6hDispeecbk7wqpbUj5klDmwrlgB/jmoAXWEnbsYkBIgQQAQIADAUCSSpooAUD
ABJ1AAAKCRCXELibyletfFOMCACpP+OVZ7lH/cNY+373c4FnSI0/S5PXS0ABgdd4
BFWRFWKrWBeXBGc8sZfHOzVEwkzV96iyHbpddeAOAkEA4OVPW1MMFCmlHxi2s9/N
JrSrTPVfQOH5fR9hn7Hbpq/ETw0IoX1FKo7vndMnHZnFEnI+PDXLcdMYQgljYzhT
xER4vYY0UKu8ekSshUy4zOX7XSJxwqPUvps8qs/TvojIF+vDJvgFYHVkgvS+shp8
Oh/exg9vKETBlgU87Jgsqn/SN2LrR/Jhl0aLd0G0iQ+/wHmVYdQUMFaCZwk/BKNa
XPzmGZEUZ3RNbYa19Mo7hcE3js76nh5YMxFvxbTggVu4kdFkiQEiBBABAgAMBQJK
M06IBQMAEnUAAAoJEJcQuJvKV618F4gH/innejIHffGMk8jYix4ZZT7pW6ApyoI+
N9Iy85H4L+8rVQrtcTHyq0VkcN3wPSwtfZszUF/0qP6P8sLJNJ1BtrHxLORYjJPm
gveeyHPzA2oJl6imqWUTiW822fyjY/azwhvZFzxmvbFJ+r5N/Z57+Ia4t9LTSqTN
HzMUYaXKDaAqzZeK7P0E6XUaaeygbjWjBLQ1O0ezozAy+Kk/gXApmDCGFuHSFe7Z
mgtFcbXLM2XFQpMUooETD2R8MUsd+xnQsff/k6pQOLxi+jUEsWSr/iqmvlk6gZ4D
pemBjuhcXYlxJYjUaX9Zmn5s+ofF4GFxRqXoY7l9Z+tCM9AX37lm6S+JASIEEAEC
AAwFAkpEcgoFAwASdQAACgkQlxC4m8pXrXz2mgf/RQkpmMM+5r8znx2TpRAGHi5w
ktvdFxlvPaOBWE28NDwTrpcoMqo9kzAiuvEQjVNihbP21wR3kvnQ84rTAH0mlC2I
uyybggpqwzOUl+Wi0o+vk8ZA0A0dStWRN8uqneCsd1XnqDe1rvqC4/9yY223tLmA
kPvz54ka2vX9GdJ3kxMWewhrVQSLCktQpygU0dujGTDqJtnk0WcBhVF9T87lv3W2
eGdPielzHU5trXezmGFj21d56G5ZFK8co7RrTt4qdznt80glh1BTGmhLlzjMPLTe
dcMusm3D1QB9ITogcG94ghSf9tEKmmRJ6OnnWM5Kn9KcL63E5oj2/lY9H54wSYkB
IgQQAQIADAUCSlY+RwUDABJ1AAAKCRCXELibyletfOOQB/0dyJBiBjgf+8d3yNID
pDktLhZYw8crIjPBVdOgX12xaUYBTGcQITRVHSggzffDA5BQXeUuWhpL4QB0uz1c
EPPwSMiWiXlBtwF5q6RVf3PZGJ9fmFuTkPRO7SruZeVDo9WP8HjbQtOLukYf566e
grzAYR9p74UgWftpDtmrqrRTobiuvsFBxosbeRCvEQCrN0n+p5D9hCVB88tUPHnO
WA4mlduAFZDxQWTApKQ92frHiBqy+M1JFezz2OM3fYN+Dqo/Cb7ZwOAA/2dbwS7o
y4sXEHbfWonjskgPQwFYB23tsFUuM4uZwVEbJg+bveglDsDStbDlfgArXSL/0+ak
lFcHiQEiBBABAgAMBQJKaAqEBQMAEnUAAAoJEJcQuJvKV618rH0H/iCciD4U6YZN
JBj0GN7/Xt851t9FWocmcaC+qtuXnkFhplXkxZVOCU4VBMs4GBoqfIvagbBTyfV4
Di+W8Uxr+/1jiu3l/HvoFxwdwNkGG6zNBhWSjdwQpGwPvh5ryV1OfLX/mgQgdDmx
vqz5+kFDUj4m7uLaeuU2j1T0lR4zU0yAsbt7J3hwfqJCXHOc9bm5nvJwMrSm+sdC
TP5HjUlwHr9mTe8xuZvj6sO/w0P4AqIMxjC9W7pT9q0ofG2KSTwt7wFbh05sbG4U
QYOJe4+Soh3+KjAa1c0cvmIh4cKX9qfCWwhhdeNfh1A9VTHhnl5zTv/UjvnQtjhl
H/Fq1eBSKcSJASIEEAECAAwFAkp5LgoFAwASdQAACgkQlxC4m8pXrXwY6wgAg3f8
76L3qDZTYlFAWs3pXBl8GsUr1DEkTlEDZMZKDM3wPmhaWBR1hMA3y6p3aaCUyJIJ
BEneXzgyU9uqCxXpC78d5qc3xs/Jd/SswzNYuvuzLYOw5wN5L31SLmQTQ8KqE0uo
RynBmtDCQ4M2UKifSnv+0+3mPh85LVAS481GNpL+VVfCYtKesWNu40+98Yg6L9NG
WwRTfsQbcdokZo44Jz7Y7f81ObC4r/X1DgPj2+d4AU/plzDcdrbINOyprs+7340e
cnaGO4Lsgd19b1CvcgJgltRquu3kRvd+Ero2RYpDv6GVK8Ea0Lto4+b/Ae8cLXAh
QnaWQCEWmw+AU4Jbz4kBIgQQAQIADAUCSo5fvQUDABJ1AAAKCRCXELibyletfA08
B/9w8yJdc8K+k07U30wR/RUg3Yb2lBDygmy091mVsyB0RGixBDXEPOXBqGKAXiV1
QSMAXM2VKRsuKahY2HFkPbyhZtjbdTa7Pr/bSnPvRhAh9GNWvvRg2Kp3qXDdjv9x
ywEghKVxcEIVXtNRvpbqRoKmHzIExvUQck5DM1VwfREeYIoxgs4035WADhVMdngQ
S2Gt8P2WaU/p8EZhFGg6X8KtOlD68zGboaJe0hj2VDc+Jc+KdjRfE3fW5IToid/o
DkUaIW6tB3WkXb0g6D/2hrEJbX3headChHKSB8eQdOR9bcCJDhhU8csd501qmrhC
ctmvlpeWQZdIQdk6sABPWeeCiQEiBBABAgAMBQJKoBJHBQMAEnUAAAoJEJcQuJvK
V618Ml8H/1D88/g/p9fSVor4Wu5WlMbg8zEAik3BIxQruEFWda6nART6M9E7e+P1
++UHZsWYs6l9ROpWxRLG1Yy9jLec2Y3nUtb20m65p+IVeKR2a9PHW35WZDV9dOYP
GZabKkO1clLeWLVgp9LRjZ+AeRG+ljHqsULXro1dwewLTB/gg9I2vgNv6dKxyKak
nM/GrqZLATAq2KoaE/u/6lzRFZIzZnLtjZh8X7+nS+V8v9IiY4ntrpkrbvFk30U6
WJp79oBIWwnW/84RbxutRoEwSar/TLwVRkcZyRXeJTapbnLGnQ/lDO1o1d7+Vbjd
q/Sg/cKHHf7NthCwkQNsCnHL0f51gZCJASIEEAECAAwFAkqoEAAFAwASdQAACgkQ
lxC4m8pXrXwE/Af/XD4R/A5R6Ir/nCvKwCTKJmalajssuAcLEa2pMnFZYO/8rzLO
+Gp8p0qFH9C4LFwA0NvR5q6X/swuROf4zxljSvNcdlQVaAfJ2ZDEgJ5GXzsPplrv
SAI9jS3LL7fSWDZgKuUe0a4qx7A0NgyGMUYGhP+QlRFa8vWEBI9fANd/0mMqAeBV
qQyOH0X1FiW1Ca2Jn4NKfuMy9GEvRddVIbB1LvoNVtXPNzeeKMyNb9Jdx1MFWssy
COBP2DayJKTmjvqPEc/YOjOowoN5sJ/jn4mVSTvvlTooLiReSs6GSCAjMVxN7eYS
/Oyq6Iu1JDcJvmB8N2WixAZtAVgF8OA7CWXKVYkBIgQQAQIADAUCSrnHiQUDABJ1
AAAKCRCXELibyletfPChB/9uECti1dZeNuFsd0/RuGyRUVlrrhJE6WCcOrLO9par
rPbewbKBmjSzB0MygJXGvcC06mPNuquJ7/WpxKsFmfg4vJBPlADFKtgRUy9BLzjC
eotWchPHFBVW9ftPbaQViSUu7d89NLjDDM5xrh80puDIApxoQLDoIrh3T1kpZx56
jSWv0gelFUMbXAzmqkJSyL4Xdh1aqzgUbREd7Xf2ICzuh0sV6V7c/AwWtjWEGEsA
HZaiQDywZwbC18GwrMLiAzGWb/AScFDQRCZKJDjL+Ql8YT6z+ZMVr8gb7CIU5PKY
dhiIf2UVTQwLAoW7lNRCQQAqcGjK3IMIz7SO/yk4HmVUiQEiBBABAgAMBQJK3gjG
BQMAEnUAAAoJEJcQuJvKV618jkEH+wb0Zv9z7xQgpLMowVuBFQVu8/z7P5ASumyB
PUO3+0JVxSHBhlCKQK7n11m1fhuGt2fCxXhSU6LzXj36rsKRY53lGZ9QhvqFUtQH
3Xb2IQLIJC4UKjG2jSSCdcuA/x98bwp2v7O03rn7ndCS16CwXnRV3geQoNipRKMS
DajKPpZv1RiZm8pMKqEb8WSw352xWoOcxuffjlsOEwvJ85SEGCAZ9tmIlkZOc7Ai
QONDvii9b8AYhQ60RIQC0HP2ASSmK0V92VeFPxHmAygdDQgZNVtbVxgnnt7oTNEu
VRXNY+z4OfBArp7R+cTsvijDRZY4kML1n22hUybwoxUEvjqZV2+JASIEEAECAAwF
AkrvOlQFAwASdQAACgkQlxC4m8pXrXxrPAgArXiNgZirNuBhfNCXlkzkCHLx5wnV
e4SmTpbWzTwWw7+qk7d4l9hlWtdImISORINzo7f4ShSUzJX2GciNaXhaHRo7+y5O
Zbu82jQb09aQQj/nibKYuqxqUrobTEm+DuYz3JUQZm2PsPcHLS8mX9cxvrJUncPG
nXEV0DRaq71SGWDprtkvBbp6i38aY3sIhYgz8wM5m1szKDtjywmBYcFehIdozt9z
hm7wZshzRWQX1+Rf/pIsnk+OzBIa34crSemTnacbV/B7278z2XAyziPNFuqz0xu+
iltOmYmayfNWAmumuw9NcuwWMlth6Mc2HLrpo0ZBheJ6iuDMPsHnwqdB/4kBIgQQ
AQIADAUCSwBd2gUDABJ1AAAKCRCXELibyletfP6tB/4m1w0BtlkJgtS6E+B/ns14
z4A4PGors+n+MYm05qzvi+EnDF/sytCmVcKeimrtvDcfoDtKAFFvJjcYXfnJdGWm
Pu0SJMRL5KKCirAKwZmU/saxOgoB5QLNw+DHPteJ3w9GmWlGxIqG1r15WC5duzBC
y3FsnjJYG3jaLnHOO9yXXb5h0kUTORfUKdvAr1gxF2KoatZWqGoaPPnHoqb88rjt
zk8I7gDqoXnzh8wLxa0ZYvfTC/McxdWTrwXLft+krmMQ18iIZEne2hvVLNJVuluU
oiWLeHA8iNCQ4W4WTdLc1mCnCjGTMX/MN41uLH0C9Ka4R6wEaqj4lPDk1B/1TV+Q
iQEiBBABAgAMBQJLEYGrBQMAEnUAAAoJEJcQuJvKV618naIH/2t9aH5mBTKBN6fU
qhrf79vIsjtI/QNS5qisBISZMX3/1/0Gu6WnxkPSfdCUJMWCjMcnVj7KU2wxTHHG
VpAStd9r2afUNxRyqZwzwyytktuZok0XngAEDYDDBS3ssu2R4uWLCsC2ysXEqO/5
tI5YrTWJZrfeIphTaYP5hxrMujvqy3kEwKKbiMz91cDeiLS+YCBcalj5n/1dMYf7
8U8C6ieurxAg/L8h6x25VM4Ilx4MmG2T8QGtkkUXd+Fd/KYWmf0LE5LLPknf0Hhw
oVslPXeinp4FsHK/5wzviv4YZpzuTqs9NlKcMsa4IuuPOB0FDf0pn+OFQbEg9QwY
2gCozK+JASIEEAECAAwFAksjTdQFAwASdQAACgkQlxC4m8pXrXwlogf/XBGbXRVX
LMaRN4SczOjwT3/tUCriTkb3v+zKjRG90zFhYAccjn7w+7jKQicjq6quQG1EH2X4
/Su6ps1lDLqGHHhiJW3ZhxQScLZmhdAYsh2qG4GP/UW3QjXG7c61t+H3olvWg2cr
wqCxxFZAgkAAkr9xcHWFZJEQeXoob6cCZObaUnHSANdmC6s5lUxXYa2bmL7Q3UB4
4KCzDvAfbPZKJOw9k0qb3lc11zx+vGdyZFbm4R0+3LPp/vT0b3GlSbbF9lU1GOXh
VaphrgFFa76dmjfHCkPplXAkK1VSIU/aPGAefduTFMdlSZpdMtJ5AULjGcszBDlR
pLlPxvqVa0ZpgIkBIgQQAQIADAUCSycmkgUDABJ1AAAKCRCXELibyletfHlNCACp
1YespiHfQt2alcscE5zgfETEHHic8Ai6pNkU9HT4TeWcFHEDe5QqfYcpjLrQvBXS
kSvxEittbyRdv+e+j5Z+HyHjiG8nAQBL6qy9eHqQE4+d7gYs6DTk7sG9ZMYphREb
ltzD+F4hVCQdLT8LNr0eVFN7ehqECScDaCG8/Qyti+l/0M902/Yn+mz0ilOiUdWJ
9x6LPaIINtb1gsYDEylLjwGIZmI0r5Kh9wYoV4vnNezFbxO1uRiW0B7iaPjIEsbt
OOKp7wx2aX+DM3N9F3BtaIY8XnzcnomNm83SNsgmgrZljpQltUnNqIhNM8DupQ+I
WOV5gtl6pTC7CgeVTVyRiQEiBBABAgAMBQJLOGXuBQMAEnUAAAoJEJcQuJvKV618
ll4IAKJ9mm4jb0c8fe9+uDI8eCJRbzNbVXm8zWzpA8GUtQAakwxoKv332QP1Wa1P
odni/e3EMhsSREOZJJv79YqGxGRBTE9Kb/VjM34nas4XSnXKW28XWhKyIw+XwQAi
nY2swFHh+83Htr/mwTdJfS2aEYl2zboBvd/JZCdhOGU2GH737S/3uEczoKkfVQ/w
OTM8X1xWwlYWqx23k/DsGcuDs9lA2g7Mx7DSqBtVjaTkn9h0zATzXLDkmP4SAUVj
cZ83WDpFre5WnizZjdXlBMM5OCexp5WpmzyHLTnaBFK4jEmnsk5C2Rnoyp8Ivz6g
Ecg1tRbEXijRw++d2TFYlJwLKtiJASIEEAECAAwFAktKMicFAwASdQAACgkQlxC4
m8pXrXxqHQgAuYY5scKrh0m/GS9EYnyC9494lOlO6iytU0CpE6oBC31M3hfX/Dbj
UbcS5szZNU+2CPYo4ujQLZ7suN7+tTjG6pZFfMevajT9+jsL+NPMF8RLdLOVYmbl
TmSQGNO+XGEYaKYH5oZIeIW5AKCgi2ozkdFlBBLAx7Kqo/FyybhkURFEcvEyVmgf
3KLV7IIiX/fYLfoCMCJ/Lcm9/llSFB1n8Nvg66Xd533DKoHjueD3jyaNAVlo2mq/
sIAv++kntvOiB3GDK5pfwHZ78WWiCpsWZpE5gzAnzJ1Y0WEigRo0PVLu3cLO0jLG
23d+H/CbfZ8rkajHJeCDQF7YVmP0t0nYpYkBIgQQAQIADAUCS1v+ZgUDABJ1AAAK
CRCXELibyletfNS/CACqt2TkB86mjqM+cJ74+dWBvJ2aFuURuxzm95i9Q/W/hU08
2iMbC3+0k2oD8CrTOe61P+3oRyLjv/UEDUNzLncNe2YsA9JeV+4hvPwH5Vp3Om13
089fCKZUbqslXNKkHiWYU+zAaZJXEuGRmRz0HbQIeAMOWF4oa226uo1e4ws1Jhc+
F3E/ApCRyFBqBUdL05hapQLditYpsBjIdiBGpjzidMLE2wX2W4ZpAdN0U6BIyIqR
mTPjbSkvzS9kSWFmfhQgnBDKEYJpVZgE1sN52rYC1sDeGeiuKxlzjVov9MMhYMWa
Zo3R5o3F2iIM/BK6FbC252lf/Mhu3ICuXujNBZNYiQEiBBABAgAMBQJLbSH4BQMA
EnUAAAoJEJcQuJvKV618kd0IAJLLwDH6gvgAlBFklQJXqQxUdcSOOVMAWtlHgWOy
ozjgomZZBkRL8dtCDr9YBMcj5czcQ3qpmLJdppXhKB+kJV2iUXfDMSFXwJ4wLfIs
8FNnXw8H5U01oBkGH/Ku6ngL9Vwt+MjYHtCWkw9QueUKZnDudX9qIzLAIt+mwSTu
A6+fY4VWIg40AA0v3exaQM55YR/UhlKunpGG9o8Qkq77dMEbTMpOmBoLbOMRB3Dd
MAvVU6G2l6Pcb7KobVCuOBnb6batXARV/G8sw+nzfJ16fr/KobZT2A6m+Jrqk4dl
F14ljLbz16O5JGUPAryN2G2ddBdSAy7dtFSVhWWiWC9n88q5Ag0EPj6jHRAIAO/h
iX8WzHWOMLJT54x/axeDdqn1rBDf5cWmaCWHN2ujNNlgpx5emoU9v7QStsNUCOGB
bXkeO4Ar7YG+jtSR33zqNh3y5kQ0YkY3dQ0wh6nsl+wh4XIIY/3TUZVtmdJeUBRH
JlfVNFYad2hX1guFI37Ny1PoZAFsxO82g+XB/Se8r/+sbmVcONdcdIeFKrE3FjLt
IjNQcxC6l9Q2Oy8KDxG/zvUZG3+H5i3tdRMyGgmuD6gEV0GXOHYUopzLeit1+Aa0
bCk36Mwbu+BeOw/CJW3+b0mB27hOaf9aCA855IP6fJFvtxcblq8nHIqhU3Dc9tec
sl9/S1xZ5S8ylG/xeRsAAwUH/i8KqmvAhq0X7DgCcYputwh37cuZlHOa1Ep07JRm
BCDgkdQXkGrsj2Wzw7Aw/TGdWWkmn2pxb8BRui5cfcZFO7c6vryi6FpJuLucX975
+eVY50ndWkPXkJ1HF4i+HJwRqE2zliN/RHMs4LJcwXQvvjD43EE3AO6eiVFbD+qA
AdxUFoOeLblKNBHPG7DPG9xL+Ni5rkE+TXShxsB7F0z7ZdJJZOG0JODmox7IstQT
GoaU9u41oyZTIiXPiFidJoIZCh7fdurP8pn3X+R5HUNXMr7M+ba8lSNxce/F3kmH
0L7rsKqdh9d/aVxhJINJ+inVDnrXWVoXu9GBjT8Nco1iU9SIVAQYEQIADAUCTnc9
7QUJE/sBuAASB2VHUEcAAQEJEIxxjTtQcuH1FJsAmwWK9vmwRJ/y9gTnJ8PWf0BV
roUTAKClYAhZuX2nUNwH4vlEJQHDqYa5yQ==
=ghXk
-----END PGP PUBLIC KEY BLOCK-----
</pre><p>
        ビルド鍵を個人の公開 GPG 鍵リングにインポートするには、<span class="command"><strong>gpg --import</strong></span> を使用します。 たとえば、鍵を <code class="filename">mysql_pubkey.asc</code> ファイルに保存した場合、インポートコマンドは次のようになります。 
      </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>gpg --import mysql_pubkey.asc</code></strong>
gpg: key 5072E1F5: public key "MySQL Release Engineering
&lt;mysql-build@oss.oracle.com&gt;" imported
gpg: Total number processed: 1
gpg:               imported: 1
gpg: no ultimately trusted keys found
</pre><p>
        公開鍵 ID の <code class="literal">5072E1F5</code> を使用して、公開鍵サーバーから鍵をダウンロードすることもできます。
      </p><pre class="programlisting">shell&gt; gpg --recv-keys 5072E1F5
gpg: requesting key 5072E1F5 from hkp server keys.gnupg.net
gpg: key 5072E1F5: "MySQL Release Engineering &lt;mysql-build@oss.oracle.com&gt;"
1 new user ID
gpg: key 5072E1F5: "MySQL Release Engineering &lt;mysql-build@oss.oracle.com&gt;"
53 new signatures
gpg: no ultimately trusted keys found
gpg: Total number processed: 1
gpg:           new user IDs: 1
gpg:         new signatures: 53
</pre><p>
        鍵を RPM 構成にインポートして RPM インストールパッケージを検証する場合、鍵を直接インポートできるはずです。
      </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>rpm --import mysql_pubkey.asc</code></strong>
</pre><p>
        問題が生じた場合、または RPM 固有の情報が必要な場合は、<a class="xref" href="installing.html#checking-rpm-signature" title="2.1.4.4 RPM を使用した署名確認">セクション2.1.4.4「RPM を使用した署名確認」</a> を参照してください。
      </p><p>
        公開ビルド鍵をダウンロードしてインポートしたあと、所望の MySQL パッケージとそれに対応する署名をダウンロードします。これもダウンロードページで入手できます。 次の表の例に示すように、署名ファイルの名前は配布ファイルと同じで、拡張子 <code class="filename">.asc</code> が付いています。 
      </p><div class="table"><a name="idm45548124077984"></a><p class="title"><b>表 2.1 ソースファイルの MySQL パッケージと署名ファイル</b></p><div class="table-contents"><table><col style="width: 25%"><col style="width: 75%"><thead><tr>
            <th>ファイルタイプ</th>
            <th>ファイル名</th>
          </tr></thead><tbody><tr>
            <td>配布ファイル</td>
            <td><code class="literal">mysql-standard-8.0.25-linux-i686.tar.gz</code></td>
          </tr><tr>
            <td>署名ファイル</td>
            <td><code class="literal">mysql-standard-8.0.25-linux-i686.tar.gz.asc</code></td>
          </tr></tbody></table></div></div><br class="table-break"><p>
        両方のファイルが同じディレクトリにあることを確認してから、次のコマンドを実行して配布ファイルの署名を確認します。
      </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>gpg --verify <em class="replaceable"><code>package_name</code></em>.asc</code></strong>
</pre><p>
        ダウンロードしたパッケージが有効な場合は、次のような <code class="literal">Good signature</code> メッセージが表示されます:
      </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>gpg --verify mysql-standard-8.0.25-linux-i686.tar.gz.asc</code></strong>
gpg: Signature made Tue 01 Feb 2011 02:38:30 AM CST using DSA key ID 5072E1F5
gpg: Good signature from "MySQL Release Engineering &lt;mysql-build@oss.oracle.com&gt;"
</pre><p>
        <code class="literal">Good signature</code> メッセージは、ファイルの署名が弊社のサイトに記載されている署名と比較して有効であることを示します。 しかし、次のような警告が表示される場合もあります。 
      </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>gpg --verify mysql-standard-8.0.25-linux-i686.tar.gz.asc</code></strong>
gpg: Signature made Wed 23 Jan 2013 02:25:45 AM PST using DSA key ID 5072E1F5
gpg: checking the trustdb
gpg: no ultimately trusted keys found
gpg: Good signature from "MySQL Release Engineering &lt;mysql-build@oss.oracle.com&gt;"
gpg: WARNING: This key is not certified with a trusted signature!
gpg:          There is no indication that the signature belongs to the owner.
Primary key fingerprint: A4A9 4068 76FC BD3C 4567  70C8 8C71 8D3B 5072 E1F5
</pre><p>
        セットアップおよび構成に依存するので、これは正常です。 これらの警告の説明は次のとおりです。 
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <span class="emphasis"><em>gpg: no ultimately trusted keys found</em></span>: これは、特定の鍵がユーザーまたはユーザーの信頼する Web によって「最終的に信頼されて」いないことを意味します。これは、ファイルの署名を確認する目的に関しては問題ありません。
          </p></li><li class="listitem"><p>
            <span class="emphasis"><em>WARNING: This key is not certified with a trusted signature! There is no indication that the signature belongs to the owner.</em></span>: これは、ユーザーの所有している鍵が弊社の本当の公開鍵であることをどの程度信用しているかに言及しています。 これは個人的な判断です。 理想的なのは MySQL 開発者が鍵を直接手渡すことですが、一般的には鍵はダウンロードされます。 ダウンロードは改ざんされていますか? おそらくそうではないでしょう。しかし、その判断はユーザー次第です。 信頼網をセットアップするのが、信頼するための 1 つの方法です。 
          </p></li></ul></div><p>
        公開鍵を処理する方法の詳細は GPG のドキュメントを参照してください。
      </p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="checking-gpg-signature-windows"></a>2.1.4.3 Gpg4win for Windows を使用した署名確認</h4></div></div></div><p>
        <a class="xref" href="installing.html#checking-gpg-signature" title="2.1.4.2 GnuPG を使用した署名確認">セクション2.1.4.2「GnuPG を使用した署名確認」</a> のセクションでは、GPG を使用して MySQL ダウンロードを確認する方法を説明しています。 このガイドは Microsoft Windows にも適用されますが、もう 1 つの選択肢は <a class="ulink" href="http://www.gpg4win.org/" target="_top">Gpg4win</a> などの GUI ツールを使用することです。 ほかのツールを使用してもかまいませんが、ここでの例は Gpg4win に基づいており、バンドルの <code class="literal">Kleopatra</code> GUI を利用しています。 
      </p><p>
        Gpg4win をダウンロードしてインストールしてから Kleopatra をロードします。 次のようなダイアログが表示されるはずです。 
      </p><div class="figure"><a name="gnupg-kleopatra-home"></a><p class="title"><b>図 2.1 Kleopatra: 初期画面</b></p><div class="figure-contents"><div class="mediaobject"><img src="images/gnupg-kleopatra-home.png" width="682" height="436" alt="デフォルトの Kleopatra 画面を表示します。 上部のメニューには、「ファイル」、「表示」、「証明書」、「ツール」、「設定」、「ウィンドウ」および「ヘルプ」があります。 上部のメニューの下には、「証明書のインポート」、「再表示」および「サーバー上の証明書のルックアップ」の各ボタンがある水平アクションバーがあります。 グレー表示されたボタンは、「証明書のエクスポート」および「操作の停止」です。 その下には「検索」というタイトルの検索ボックスがあります。 下には 3 つのタブがあります:「マイ証明書」タブが選択された「マイ証明書」、「信頼できる証明書」および「その他の証明書」。 「マイ証明書」には 6 つのカラムがあります:「名前」、「電子メール」、「有効期限終了」、「詳細」および「キー ID」。 値の例はありません。"></div></div></div><br class="figure-break"><p>
        次に、MySQL Release Engineering 証明書を追加します。 そのためには、<span class="guimenu">「File」</span>、<span class="guimenu">「Lookup Certificates on Server」</span>をクリックします。 検索ボックスに「Mysql Release Engineering」と入力して<span class="guibutton">「Search」</span>をクリックします。 
      </p><div class="figure"><a name="gnupg-kleopatra-find-certificate"></a><p class="title"><b>図 2.2 Kleopatra: サーバーウィザードでの証明書のルックアップ: 証明書の検索</b></p><div class="figure-contents"><div class="mediaobject"><img src="images/gnupg-kleopatra-find-certificate.png" width="854" height="330" alt='「mysql release engineering」と入力された「Find」というタイトルの検索入力フィールドを示します。 1 つの結果には次の値が含まれます: Name=MySQL Release Engineering、E-Mail=mysql-build@oss.oracle.com、Valid From=2003-02-03、Valid Until=""、Details=OpenPGP、Fingerprint=5072E1F5、Key-ID=5072E1F5 使用可能なアクションボタンは次のとおりです: 検索、すべて選択、すべて選択解除、詳細、インポートおよびクローズ。'></div></div></div><br class="figure-break"><p>
        「MySQL Release Engineering」証明書を選択します。 Fingerprint および Key-ID は「5072E1F5」でなければなりません。そうでない場合は、<span class="guibutton">「Details...」</span>を選択して証明書が有効であることを確認します。 次に、<span class="guibutton">「Import」</span>をクリックしてインポートします。 インポートダイアログが表示されたら、<span class="guibutton"> Okay </span>を選択すると、この証明書が<span class="guilabel">「インポート済証明書」</span>タブの下にリストされます。 
      </p><p>
        次に、弊社の証明書の信頼レベルを構成します。 弊社の証明書を選択して、メインメニューから<span class="guimenu">「Certificates」</span>、<span class="guimenu">「Change Owner Trust...」</span>を選択します。 弊社の証明書に対して、<span class="guilabel">「I believe checks are very accurate」</span>を選択することを推奨します。そうしないと弊社の署名を確認することができません。 「<span class="guilabel">「チェックが非常に正確であると思う」</span>」を選択して「完全信頼」を有効にし、「<span class="guibutton"> OK </span>」を押します。 
      </p><div class="figure"><a name="gnupg-kleopatra-change-trust"></a><p class="title"><b>図 2.3 Kleopatra: MySQL リリースエンジニアリングの信頼レベルの変更</b></p><div class="figure-contents"><div class="mediaobject"><img src="images/gnupg-kleopatra-change-trust.png" width="656" height="472" alt="信頼オプションのリストが表示されます。オプションには、「分からない (不明な信頼)」、「信頼できない (信頼できない)」、「チェックは不用意だと思う (限界信頼)」、「チェックは非常に正確である (完全な信頼)」および「これは証明書です (最終的な信頼)」が含まれます。 「チェックは非常に正確である (完全な信頼)」オプションが選択されています。"></div></div></div><br class="figure-break"><p>
        次に、ダウンロードした MySQL パッケージファイルを確認します。 これには、パッケージファイルと署名の両方のファイルが必要です。 次の表の例に示すように、署名ファイルの名前はパッケージファイルと同じで、拡張子 <code class="filename">.asc</code> が付いていなければなりません。 署名は各 MySQL 製品のダウンロードページにリンクされています。 この署名で <code class="literal">.asc</code> ファイルを作成しなければなりません。 
      </p><div class="table"><a name="idm45548124005488"></a><p class="title"><b>表 2.2 MySQL Installer for Microsoft Windows の MySQL パッケージと署名ファイル</b></p><div class="table-contents"><table><col style="width: 25%"><col style="width: 75%"><thead><tr>
            <th>ファイルタイプ</th>
            <th>ファイル名</th>
          </tr></thead><tbody><tr>
            <td>配布ファイル</td>
            <td><code class="literal">mysql-installer-community-8.0.25.msi</code></td>
          </tr><tr>
            <td>署名ファイル</td>
            <td><code class="literal">mysql-installer-community-8.0.25.msi.asc</code></td>
          </tr></tbody></table></div></div><br class="table-break"><p>
        両方のファイルが同じディレクトリにあることを確認してから、次のコマンドを実行して配布ファイルの署名を確認します。 署名 (<code class="filename">.asc</code>) ファイルを Kleopatra にドラッグ&amp;ドロップするか、<span class="guimenu">「File」</span>、<span class="guimenuitem">「Decrypt/Verify Files...」</span>からダイアログをロードしてから <code class="filename">.msi</code> ファイルまたは <code class="filename">.asc</code> ファイルのいずれかを選択します。 
      </p><div class="figure"><a name="gnupg-kleopatra-decrypt-load"></a><p class="title"><b>図 2.4 Kleopatra: ファイルの復号化と検証ダイアログ</b></p><div class="figure-contents"><div class="mediaobject"><img src="images/gnupg-kleopatra-decrypt-load.png" width="576" height="425" alt="使用可能な復号化および実行する検証オプションを表示します。 MySQL インストーラ MSI ファイルは、.asc ファイルが「入力ファイル」としてリストされ、.msi ファイルが「署名付きデータ」の下にリストされている例で使用されます。 「入力ファイルは添付解除された署名です」オプションのチェックボックスが選択されています。 「Input file is an archive; unpack with:」オプションが表示されますが、グレー表示されています。 次に、「単一フォルダにすべての出力ファイルを作成」オプションチェックボックスを選択し、例として「C:/docs」が入力された「出力フォルダ」入力フィールドを示します。 使用可能なボタンは、「戻る」(グレー表示)、「復号化/検証」および「取消」です。"></div></div></div><br class="figure-break"><p>
        <span class="guibutton">「Decrypt/Verify」</span>をクリックしてファイルをチェックします。 最も一般的な 2 つの結果は次の図のようになります。黄色の警告は問題のように見えますが、次のことはファイルチェックが成功したことを意味します。 このインストーラを実行できます。 
      </p><div class="figure"><a name="gnupg-kleopatra-decrypt-okay-sig"></a><p class="title"><b>図 2.5 Kleopatra: 結果の復号化と検証ダイアログ: すべての操作が完了しました</b></p><div class="figure-contents"><div class="mediaobject"><img src="images/gnupg-kleopatra-decrypt-okay-sig.png" width="576" height="424" alt="結果ウィンドウの黄色の部分には、「署名の妥当性をチェックするのに十分な情報がありません」および「署名の妥当性を検証できません。」が表示されます。 また、KeyID や電子メールアドレス、キーのサインオン日などのキー情報と ASC ファイルの名前も表示されます。"></div></div></div><br class="figure-break"><p>
        赤い<span class="errortext">「署名が正しくありません」</span>エラーが表示される場合は、ファイルが無効であることを意味します。 このエラーが表示された場合は、MSI ファイルを実行しないでください。 
      </p><div class="figure"><a name="gnupg-kleopatra-decrypt-invalid-sig"></a><p class="title"><b>図 2.6 Kleopatra: 結果の復号化と検証ダイアログ: Bad</b></p><div class="figure-contents"><div class="mediaobject"><img src="images/gnupg-kleopatra-decrypt-invalid-sig.png" width="656" height="518" alt="結果ウィンドウの赤色の部分には、「Invalid signature」、「Signed with unknown certificate」、「The signature is bad」が表示され、ASC ファイルの名前も表示されます。"></div></div></div><br class="figure-break"><p>
        <a class="xref" href="installing.html#checking-gpg-signature" title="2.1.4.2 GnuPG を使用した署名確認">セクション2.1.4.2「GnuPG を使用した署名確認」</a> のセクションでは、緑色の <code class="literal">Good signature</code> 結果が表示されない理由について説明します。
      </p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="checking-rpm-signature"></a>2.1.4.4 RPM を使用した署名確認</h4></div></div></div><p>
        RPM パッケージには、個別の署名はありません。 RPM パッケージには内蔵の GPG 署名および MD5 チェックサムがあります。 次のコマンドを実行してパッケージを確認できます。 
      </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>rpm --checksig <em class="replaceable"><code>package_name</code></em>.rpm</code></strong>
</pre><p>
        例:
      </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>rpm --checksig MySQL-server-8.0.25-0.linux_glibc2.5.i386.rpm</code></strong>
MySQL-server-8.0.25-0.linux_glibc2.5.i386.rpm: md5 gpg OK
</pre><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
          RPM 4.1 を使用していて、<code class="literal">「(GPG) NOT OK (MISSING KEYS:GPG#5072e1f5)」</code>と表示された場合、MySQL 公開ビルド鍵を自分の GPG 鍵リングにインポートした場合でも、この鍵をまず RPM 鍵リングにインポートする必要があります。 RPM 4.1 は、お客様個人の GPG 鍵リング (あるいは GPG そのもの) を使用しなくなりました。 RPM はシステム全体にわたるアプリケーションであり、ユーザーの GPG 公開鍵リングはユーザー固有のファイルであるため、RPM はむしろ独立した鍵リングを保持します。 MySQL 公開鍵を個人の RPM 鍵リングにインポートするには、まず鍵を取得してから、<span class="command"><strong>rpm --import</strong></span> を使用して鍵をインポートします。 例: 
        </p></div><pre class="programlisting">shell&gt; gpg --export -a 5072e1f5 &gt; 5072e1f5.asc
shell&gt; rpm --import 5072e1f5.asc
</pre><p>
        あるいは、<span class="command"><strong>rpm</strong></span> は鍵を直接 URL からロードすることもサポートしていますので、このマニュアルページを使用できます。
      </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>rpm --import https://dev.mysql.com/doc/refman/8.0/en/checking-gpg-signature.html</code></strong>
</pre><p>
        MySQL 公開鍵を取得する必要がある場合には、<a class="xref" href="installing.html#checking-gpg-signature" title="2.1.4.2 GnuPG を使用した署名確認">セクション2.1.4.2「GnuPG を使用した署名確認」</a> を参照してください。
      </p></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="installation-layouts"></a>2.1.5 インストールのレイアウト</h3></div></div></div><a class="indexterm" name="idm45548123942800"></a><a class="indexterm" name="idm45548123941344"></a><a class="indexterm" name="idm45548123939968"></a><a class="indexterm" name="idm45548123937904"></a><p>
      インストールのレイアウトは、インストールの種類 (ネイティブパッケージ、バイナリ tarball、ソース tarball など) によって異なります。そのため、異なるシステムを管理する場合や異なるインストールソースを使用する場合に混乱しがちです。 個々のレイアウトは、次に記載するように、対応するインストールの種類またはプラットフォームの章にあります。 オラクル社以外のベンダーからのインストールのレイアウトは、これらのレイアウトと異なる場合がありますのでご注意ください。 
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          <a class="xref" href="installing.html#windows-installation-layout" title="2.3.1 Microsoft Windows 上での MySQL のインストールレイアウト">セクション2.3.1「Microsoft Windows 上での MySQL のインストールレイアウト」</a>
        </p></li><li class="listitem"><p>
          <a class="xref" href="installing.html#source-installation-layout" title="2.9.3 ソースインストールの MySQL のレイアウト">セクション2.9.3「ソースインストールの MySQL のレイアウト」</a>
        </p></li><li class="listitem"><p>
          <a class="xref" href="installing.html#binary-installation-layout" title="表 2.3 一般的な Unix/Linux バイナリパッケージの MySQL インストールのレイアウト">表2.3「一般的な Unix/Linux バイナリパッケージの MySQL インストールのレイアウト」</a>
        </p></li><li class="listitem"><p>
          <a class="xref" href="installing.html#mysql-installation-layout-linuxrpm" title="表 2.12 MySQL Developer Zone からの Linux RPM パッケージの MySQL インストールレイアウト">表2.12「MySQL Developer Zone からの Linux RPM パッケージの MySQL インストールレイアウト」</a>
        </p></li><li class="listitem"><p>
          <a class="xref" href="installing.html#mysql-installation-layout-macos" title="表 2.7 macOS での MySQL のインストールレイアウト">表2.7「macOS での MySQL のインストールレイアウト」</a>
        </p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="compiler-characteristics"></a>2.1.6 コンパイラ固有のビルドの特徴</h3></div></div></div><a class="indexterm" name="idm45548123925040"></a><p>
      場合によっては、MySQL のビルドに使用するコンパイラによって、使用できる機能が影響を受けることがあります。 このセクションのノートは、オラクル社が提供するバイナリ配布またはご自身でソースからコンパイルしたものに適用されます。 
    </p><p>
      <span class="bold"><strong><span class="command"><strong>icc</strong></span> (Intel C++ コンパイラ) ビルド</strong></span>
    </p><p>
      <span class="command"><strong>icc</strong></span> でビルドされたサーバーは次の特徴があります。
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          SSL のサポートは含まれません。
        </p></li></ul></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="binary-installation"></a>2.2 一般的なバイナリを使用した MySQL の Unix/Linux へのインストール</h2></div></div></div><a class="indexterm" name="idm45548123916480"></a><a class="indexterm" name="idm45548123914368"></a><p>
    オラクル社は、MySQL の一連のバイナリ配布を提供しています。 これらには、多数のプラットフォーム用の圧縮 <span class="command"><strong>tar</strong></span> ファイル (<code class="filename">.tar.xz</code> 拡張子を持つファイル) の形式の汎用バイナリ配布、および選択したプラットフォーム用のプラットフォーム固有のパッケージ形式のバイナリが含まれます。 
  </p><p>
    このセクションでは、Unix/Linux プラットフォームでの圧縮 <span class="command"><strong>tar</strong></span> ファイルバイナリディストリビューションからの MySQL のインストールについて説明します。 その他のプラットフォーム固有のバイナリパッケージ形式については、このマニュアルの他のプラットフォーム固有のセクションを参照してください。 たとえば、Windows の配布は <a class="xref" href="installing.html#windows-installation" title="2.3 Microsoft Windows に MySQL をインストールする">セクション2.3「Microsoft Windows に MySQL をインストールする」</a> を参照してください。 様々な配布形式で MySQL を取得する方法については、<a class="xref" href="installing.html#getting-mysql" title="2.1.3 MySQL の取得方法">セクション2.1.3「MySQL の取得方法」</a> を参照してください。 
  </p><p>
    MySQL 圧縮 <span class="command"><strong>tar</strong></span> ファイルのバイナリ配布の名前の形式は <code class="filename">mysql-<em class="replaceable"><code>VERSION</code></em>-<em class="replaceable"><code>OS</code></em>.tar.xz</code> で、<code class="literal"><em class="replaceable"><code>VERSION</code></em></code> は数値 (<code class="literal">8.0.25</code> など) で、<em class="replaceable"><code>OS</code></em> は配布対象のオペレーティングシステムのタイプを示します (<code class="literal">pc-linux-i686</code> や <code class="literal">winx64</code> など)。
  </p><p>
    Linux 汎用バイナリ配布用の MySQL 圧縮 <span class="command"><strong>tar</strong></span> ファイルの<span class="quote">「<span class="quote">「最小インストール」</span>」</span>バージョンもあり、<code class="filename">mysql-<em class="replaceable"><code>VERSION</code></em>-<em class="replaceable"><code>OS</code></em>-<em class="replaceable"><code>GLIBCVER</code></em>-<em class="replaceable"><code>ARCH</code></em>-minimal.tar.xz</code> という形式の名前が付けられています。 最小インストール配布では、デバッグバイナリが除外され、デバッグシンボルが取り除かれて、通常のバイナリ配布より大幅に小さくなります。 最小限のインストール配布をインストールする場合は、次の手順のファイル名形式の違いに合わせて調整してください。 
  </p><div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">警告</div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          Yum や APT などのオペレーティングシステムのネイティブパッケージ管理システムを使用して以前に MySQL をインストールした場合、ネイティブバイナリを使用したインストールで問題が発生することがあります。 以前の MySQL インストールが (パッケージ管理システムを使用して) 完全に削除されていること、および古いバージョンのデータファイルなどの追加ファイルも削除されていることを確認します。 また、<code class="filename">/etc/my.cnf</code> や<code class="filename">/etc/mysql</code> ディレクトリなどの構成ファイルを確認して削除する必要があります。 
        </p><p>
          サードパーティパッケージを公式の MySQL パッケージに置き換える方法の詳細は、関連する<a class="ulink" href="http://dev.mysql.com/doc/mysql-apt-repo-quick-guide/en/" target="_top">「APT ガイド」</a>または <a class="ulink" href="https://dev.mysql.com/doc/refman/5.7/en/replace-third-party-yum.html" target="_top">Yum guide</a> を参照してください。
        </p></li><li class="listitem"><p>
          MySQL には、<code class="literal">libaio</code> ライブラリへの依存関係があります。 このライブラリがローカルにインストールされていない場合、データディレクトリの初期化および後続のサーバー起動ステップは失敗します。 必要に応じて、適切なパッケージマネージャーを使用してインストールします。 たとえば、Yum ベースのシステムでは次のようにします。 
        </p><a class="indexterm" name="idm45548123887104"></a><pre class="programlisting">shell&gt; <em class="replaceable"><code>yum search libaio</code></em>  # search for info
shell&gt; <em class="replaceable"><code>yum install libaio</code></em> # install library
</pre><p>
          または、APT ベースのシステムの場合:
        </p><pre class="programlisting">shell&gt; <em class="replaceable"><code>apt-cache search libaio</code></em> # search for info
shell&gt; <em class="replaceable"><code>apt-get install libaio1</code></em> # install library
</pre></li><li class="listitem"><p>
          <span class="bold"><strong>Oracle Linux 8 / Red Hat 8</strong></span> (EL8): これらのプラットフォームでは、デフォルトでファイル<code class="filename">/lib64/libtinfo.so.5</code> はインストールされません。これは、パッケージ <code class="filename">mysql-VERSION-el7-x86_64.tar.gz</code> および <code class="filename">mysql-VERSION-linux-glibc2.12-x86_64.tar.xz</code> の MySQL クライアント <span class="command"><strong>bin/mysql</strong></span> に必要です。 この問題を回避するには、<code class="literal">ncurses-compat-libs</code> パッケージをインストールします: 
        </p><pre class="programlisting">shell&gt; <em class="replaceable"><code>yum install ncurses-compat-libs</code></em>
</pre></li></ul></div></div><p>
    圧縮された <span class="command"><strong>tar</strong></span> ファイルのバイナリ配布をインストールするには、選択したインストール場所 (通常は<code class="filename">/usr/local/mysql</code>) で解凍します。 これにより、次の表に示すディレクトリが作成されます。 
  </p><div class="table"><a name="binary-installation-layout"></a><p class="title"><b>表 2.3 一般的な Unix/Linux バイナリパッケージの MySQL インストールのレイアウト</b></p><div class="table-contents"><table><col style="width: 45%"><col style="width: 55%"><thead><tr>
        <th>ディレクトリ</th>
        <th>ディレクトリの内容</th>
      </tr></thead><tbody><tr>
        <td><code class="filename">bin</code></td>
        <td><span class="command"><strong>mysqld</strong></span> サーバー、クライアントプログラムおよびユーティリティプログラム</td>
      </tr><tr>
        <td><code class="filename">docs</code></td>
        <td>情報形式の MySQL マニュアル</td>
      </tr><tr>
        <td><code class="filename">man</code></td>
        <td>Unix マニュアルページ</td>
      </tr><tr>
        <td><code class="filename">include</code></td>
        <td>インクルード (ヘッダー) ファイル</td>
      </tr><tr>
        <td><code class="filename">lib</code></td>
        <td>ライブラリ</td>
      </tr><tr>
        <td><code class="filename">share</code></td>
        <td>データベースインストールのエラーメッセージ、ディクショナリおよび SQL</td>
      </tr><tr>
        <td><code class="literal">support-files</code></td>
        <td>その他のサポートファイル</td>
      </tr></tbody></table></div></div><br class="table-break"><p>
    <span class="command"><strong>mysqld</strong></span> バイナリのデバッグバージョンは、<span class="command"><strong>mysqld-debug</strong></span> として利用可能です。 ソース配布から独自のデバッグバージョンの MySQL をコンパイルするには、適切な構成オプションを使用してデバッグのサポートを有効にします。 <a class="xref" href="installing.html#source-installation" title="2.9 ソースから MySQL をインストールする">セクション2.9「ソースから MySQL をインストールする」</a>を参照してください。 
  </p><a class="indexterm" name="idm45548123843920"></a><p>
    MySQL バイナリ配布をインストールして使用する場合、コマンドシーケンスは次のようになります:
  </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>groupadd mysql</code></strong>
shell&gt; <strong class="userinput"><code>useradd -r -g mysql -s /bin/false mysql</code></strong>
shell&gt; <strong class="userinput"><code>cd /usr/local</code></strong>
shell&gt; <strong class="userinput"><code>tar xvf <em class="replaceable"><code>/path/to/mysql-VERSION-OS</code></em>.tar.xz</code></strong>
shell&gt; <strong class="userinput"><code>ln -s <em class="replaceable"><code>full-path-to-mysql-VERSION-OS</code></em> mysql</code></strong>
shell&gt; <strong class="userinput"><code>cd mysql</code></strong>
shell&gt; <strong class="userinput"><code>mkdir mysql-files</code></strong>
shell&gt; <strong class="userinput"><code>chown mysql:mysql mysql-files</code></strong>
shell&gt; <strong class="userinput"><code>chmod 750 mysql-files</code></strong>
shell&gt; <strong class="userinput"><code>bin/mysqld --initialize --user=mysql</code></strong>
shell&gt; <strong class="userinput"><code>bin/mysql_ssl_rsa_setup</code></strong>
shell&gt; <strong class="userinput"><code>bin/mysqld_safe --user=mysql &amp;</code></strong>
# Next command is optional
shell&gt; <strong class="userinput"><code>cp support-files/mysql.server /etc/init.d/mysql.server</code></strong>
</pre><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
      この手順では、システムへの <code class="literal">root</code> (管理者) アクセスがあるものとします。 または、<span class="command"><strong>sudo</strong></span> (Linux) または <span class="command"><strong>pfexec</strong></span> (Solaris) コマンドを使用して、各コマンドに接頭辞を付けることもできます。 
    </p></div><p>
    <code class="filename">mysql-files</code> ディレクトリは、インポートおよびエクスポート操作を特定のディレクトリに制限する <code class="literal">secure_file_priv</code> システム変数の値として使用する便利な場所を提供します。 <a class="xref" href="server-administration.html#server-system-variables" title="5.1.8 サーバーシステム変数">セクション5.1.8「サーバーシステム変数」</a>を参照してください。 
  </p><p>
    バイナリ配布のインストールに関する前述の説明を、次に詳細に説明します。
  </p><h3><a name="binary-installation-createsysuser"></a>mysql ユーザーおよびグループの作成</h3><p>
    <span class="command"><strong>mysqld</strong></span> の実行に使用するユーザーおよびグループがシステムにまだない場合は、作成する必要がある場合があります。 次のコマンドは、<code class="literal">mysql</code> グループおよび <code class="literal">mysql</code> ユーザーを作成します。 ユーザーやグループを <code class="literal">mysql</code> のではなく別の名前に変更したい場合があります。 その場合は、以降の説明では適切な名前に置き換えてください。 <span class="command"><strong>useradd</strong></span> および <span class="command"><strong>groupadd</strong></span> の構文は、Unix/Linux のバージョンによって若干異なる場合や、<span class="command"><strong>adduser</strong></span> や <span class="command"><strong>addgroup</strong></span> などの名前が異なる場合があります。 
  </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>groupadd mysql</code></strong>
shell&gt; <strong class="userinput"><code>useradd -r -g mysql -s /bin/false mysql</code></strong>
</pre><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
      ユーザーは所有権の目的でのみ必要であり、ログイン目的では必要ないため、<span class="command"><strong>useradd</strong></span> コマンドは <code class="option">-r</code> および <code class="option">-s /bin/false</code> オプションを使用して、サーバーホストへのログイン権限を持たないユーザーを作成します。 <span class="command"><strong>useradd</strong></span> でサポートされていない場合は、これらのオプションを省略します。 
    </p></div><h3><a name="binary-installation-unpack"></a>配布の取得とアンパック</h3><p>
    配布をアンパックするディレクトリを選択してそこに移動します。 この例では、配布を <code class="filename">/usr/local</code> の下にアンパックします。 したがって、この説明では <code class="filename">/usr/local</code> にファイルおよびディレクトリを作成する許可があるものとします。 そのディレクトリが保護されている場合は、インストールを <code class="literal">root</code> として実行する必要があります。 
  </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>cd /usr/local</code></strong>
</pre><p>
    配布ファイルを <a class="xref" href="installing.html#getting-mysql" title="2.1.3 MySQL の取得方法">セクション2.1.3「MySQL の取得方法」</a> の説明に従って取得します。 所定のリリースでは、すべてのプラットフォームのバイナリの配布は同じ MySQL のソース配布でビルドされています。 
  </p><p>
    ディストリビューションを解凍すると、インストールディレクトリが作成されます。<code class="literal">z</code> オプションがサポートされている場合、<span class="command"><strong>tar</strong></span> は配布を解凍して解凍できます:
  </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>tar xvf <em class="replaceable"><code>/path/to/mysql-VERSION-OS</code></em>.tar.xz</code></strong>
</pre><p>
    <span class="command"><strong>tar</strong></span> コマンドが <code class="filename">mysql-<em class="replaceable"><code>VERSION</code></em>-<em class="replaceable"><code>OS</code></em></code> という名前のディレクトリを作成します。
  </p><p>
    圧縮された <span class="command"><strong>tar</strong></span> ファイルのバイナリ配布から MySQL をインストールするには、配布を解凍する GNU <code class="literal">XZ Utils</code> と、それを解凍する適切な <span class="command"><strong>tar</strong></span> がシステムに必要です。
  </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
      MySQL Server 8.0.12 で圧縮アルゴリズムが Gzip から XZ に変更され、汎用バイナリファイル拡張子が .tar.gz から .tar.xz に変更されました。
    </p></div><p>
    GNU <span class="command"><strong>tar</strong></span> が機能することが知られています。 一部のオペレーティングシステムで提供される標準の <span class="command"><strong>tar</strong></span> は、MySQL 配布内の長いファイル名をアンパックできません。 GNU <span class="command"><strong>tar</strong></span> をダウンロードしてインストールするか、プリインストールバージョンの GNU tar が利用可能であればそれを使用します。 通常、これは <span class="command"><strong>gnutar</strong></span>、<span class="command"><strong>gtar</strong></span>、または <span class="command"><strong>tar</strong></span> という名前です (<code class="filename">/usr/sfw/bin</code> または <code class="filename">/usr/local/bin</code> などの GNU または Free Software ディレクトリ内)。 GNU <span class="command"><strong>tar</strong></span> は、<a class="ulink" href="http://www.gnu.org/software/tar/" target="_top">http://www.gnu.org/software/tar/</a> から入手可能です。 
  </p><p>
    <span class="command"><strong>tar</strong></span> で <code class="literal">xz</code> 形式がサポートされていない場合は、<span class="command"><strong>xz</strong></span> コマンドを使用してディストリビューションを解凍し、<span class="command"><strong>tar</strong></span> を使用して解凍します。 前述の <span class="command"><strong>tar</strong></span> コマンドを次の代替コマンドに置き換えて、配布を展開して抽出します。 
  </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>xz -dc <em class="replaceable"><code>/path/to/mysql-VERSION-OS</code></em>.tar.xz | tar x</code></strong>
</pre><p>
    次に、<span class="command"><strong>tar</strong></span> によって作成されたインストールディレクトリへのシンボリックリンクを作成します:

</p><pre class="programlisting">shell&gt; <strong class="userinput"><code>ln -s <em class="replaceable"><code>full-path-to-mysql-VERSION-OS</code></em> mysql</code></strong>
</pre><p>
  </p><p>
    <code class="literal">ln</code> コマンドは、インストールディレクトリへのシンボリックリンクを作成します。 これにより、より簡単に<code class="filename">/usr/local/mysql</code> と呼ぶことができます。 MySQL を使用しているときに常にクライアントプログラムのパス名を入力する必要がないようにするには、<code class="filename">/usr/local/mysql/bin</code> ディレクトリを <code class="literal">PATH</code> 変数に追加します: 

</p><pre class="programlisting">shell&gt; <strong class="userinput"><code>export PATH=$PATH:/usr/local/mysql/bin</code></strong>
</pre><p>
  </p><h3><a name="binary-installation-postinstall"></a>インストール後のセットアップの実行</h3><p>
    インストールプロセスの残りの部分では、配布の所有権とアクセス権限の設定、データディレクトリの初期化、MySQL サーバーの起動および構成ファイルの設定を行います。 その手順は、<a class="xref" href="installing.html#postinstallation" title="2.10 インストール後のセットアップとテスト">セクション2.10「インストール後のセットアップとテスト」</a>を参照してください。 
  </p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="windows-installation"></a>2.3 Microsoft Windows に MySQL をインストールする</h2></div></div></div><div class="toc"><dl class="toc"><dt><span class="section"><a href="installing.html#windows-installation-layout">2.3.1 Microsoft Windows 上での MySQL のインストールレイアウト</a></span></dt><dt><span class="section"><a href="installing.html#windows-choosing-package">2.3.2 インストールパッケージの選択</a></span></dt><dt><span class="section"><a href="installing.html#mysql-installer">2.3.3 MySQL Installer for Windows</a></span></dt><dt><span class="section"><a href="installing.html#windows-install-archive">2.3.4 <code class="literal">noinstall</code> ZIP アーカイブを使用した Microsoft Windows への MySQL のインストール</a></span></dt><dt><span class="section"><a href="installing.html#windows-troubleshooting">2.3.5 Microsoft Windows MySQL Server インストールのトラブルシューティング</a></span></dt><dt><span class="section"><a href="installing.html#windows-postinstallation">2.3.6 Windows でのインストール後の手順</a></span></dt><dt><span class="section"><a href="installing.html#windows-restrictions">2.3.7 Windows プラットフォームの制限事項</a></span></dt></dl></div><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">重要</div><p>
      MySQL 8.0 Server を Windows プラットフォームで実行するには、Microsoft Visual C++ 2015 再配布可能パッケージが必要です。 サーバーを設置する前に、パッケージがシステムにインストールされていることを確認するようにしてください。 このパッケージは、<a class="ulink" href="http://www.microsoft.com/en-us/download/default.aspx" target="_top">「Microsoft ダウンロードセンター」</a>で入手できます。 また、MySQL デバッグバイナリには Visual Studio 2015 をインストールする必要があります。 
    </p></div><p>
    MySQL は、Microsoft Windows 64-bit オペレーティングシステムでのみ使用できます。 サポートされる Windows プラットフォームの情報については、<a class="ulink" href="https://www.mysql.com/support/supportedplatforms/database.html" target="_top">https://www.mysql.com/support/supportedplatforms/database.html</a> を参照してください。 
  </p><p>
    Microsoft Windows に MySQL をインストールするには、様々な方法があります。
  </p><h3><a name="idm45548123757056"></a>MySQL Installer メソッド</h3><p>
    最も簡単で推奨される方法は、MySQL Installer (Windows の場合) をダウンロードし、特定のバージョンの MySQL Server を次のようにインストールして構成することです:
  </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
        MySQL Installer を <a class="ulink" href="https://dev.mysql.com/downloads/installer/" target="_top">https://dev.mysql.com/downloads/installer/</a> からダウンロードして実行します。
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
          標準の MySQL Installer とは異なり、小さいバージョンの <code class="literal">web-community</code> には MySQL アプリケーションはバンドルされませんが、インストールするように選択した MySQL 製品のみがダウンロードされます。
        </p></div></li><li class="listitem"><p>
        MySQL 製品の初期インストールに使用する設定タイプを決定します。 例: 
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <span class="guilabel">開発者デフォルト</span>: 選択したバージョンの MySQL Server および MySQL 開発に関連するその他の MySQL ツール ( MySQL Workbench など) を含む設定タイプを提供します。
          </p></li><li class="listitem"><p>
            <span class="guilabel">サーバーのみ</span>: 他の製品を含まない、選択したバージョンの MySQL Server の設定を提供します。
          </p></li><li class="listitem"><p>
            <span class="guilabel">カスタム</span>: MySQL Server およびその他の MySQL 製品の任意のバージョンを選択できます。
          </p></li></ul></div></li><li class="listitem"><p>
        サーバーインスタンス (および製品) をインストールし、最初にサーバーインスタンスに対して次のいずれかのレベルの可用性を選択して、サーバー構成を開始します:
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <span class="guilabel">スタンドアロン MySQL Server / Classic MySQL レプリケーション (デフォルト)</span>
          </p><p>
            高可用性なしで実行するようにサーバーインスタンスを構成します。
          </p></li><li class="listitem"><p>
            <span class="guilabel">InnoDB クラスタ</span>
          </p><p>
            MySQL Group Replication に基づく次のような構成オプションを提供します:
          </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                ローカルホスト上のサンドボックス InnoDB クラスタ で複数のサーバーインスタンスを構成します (テストのみ)。
              </p></li><li class="listitem"><p>
                新しい InnoDB クラスタ を作成し、シードインスタンスを構成するか、既存の InnoDB クラスタ に新しいサーバーインスタンスを追加します。
              </p></li></ul></div></li></ul></div></li><li class="listitem"><p>
        画面の指示に従って、構成プロセスを完了します。 個々のステップの詳細は、<a class="xref" href="installing.html#mysql-installer-workflow-server" title="2.3.3.3.1 MySQL Installer での MySQL Server の構成">セクション2.3.3.3.1「MySQL Installer での MySQL Server の構成」</a> を参照してください。 
      </p></li></ol></div><p>
    MySQL がインストールされました。 MySQL をサービスとして構成した場合、システムを再起動するたびに Windows によって MySQL サーバーが自動的に起動されます。 また、このプロセスでは、MySQL Installer アプリケーションがローカルホストにインストールされます。このアプリケーションは、後で MySQL サーバーのアップグレードまたは再構成に使用できます。 
  </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
      MySQL Workbench をシステムにインストールした場合は、それを使用して新しい MySQL サーバー接続を確認することを検討してください。 デフォルトでは、プログラムは MySQL のインストール後に自動的に起動します。 
    </p></div><h3><a name="idm45548123731264"></a>インストールの追加情報</h3><p>
    MySQL は、標準アプリケーションまたは Windows サービスとして実行できます。 サービスを使用することで、標準 Windows サービス管理ツールを介してサーバーの動作をモニターおよび制御できます。 詳細については、<a class="xref" href="installing.html#windows-start-service" title="2.3.4.8 Windows のサービスとして MySQL を起動する">セクション2.3.4.8「Windows のサービスとして MySQL を起動する」</a>を参照してください。 
  </p><p>
    <code class="literal">RESTART</code> ステートメントに対応するために、MySQL サーバーはサービスまたはスタンドアロンとして実行されるとフォークし、モニタープロセスがサーバープロセスを監視できるようにします。 この場合、2 つの <span class="command"><strong>mysqld</strong></span> プロセスがあります。 <code class="literal">RESTART</code> 機能が必要ない場合は、<code class="option">--no-monitor</code> オプションを使用してサーバーを起動できます。 <a class="xref" href="sql-statements.html#restart" title="13.7.8.8 RESTART ステートメント">セクション13.7.8.8「RESTART ステートメント」</a>を参照してください。 
  </p><p>
    一般的には、Windows に MySQL をインストールするには管理者権限のアカウントを使用する必要があります。 そうでない場合、<code class="literal">PATH</code> 環境変数の編集あるいは <span class="command"><strong>サービス管理マネージャー</strong></span>にアクセスするなどの操作の場合に、問題が発生することがあります。 インストール時に、管理者権限を持つユーザーを使用して MySQL を実行する必要はありません。 
  </p><p>
    Windows プラットフォームで MySQL を使用する場合の制限のリストは、<a class="xref" href="installing.html#windows-restrictions" title="2.3.7 Windows プラットフォームの制限事項">セクション2.3.7「Windows プラットフォームの制限事項」</a> を参照してください。
  </p><p>
    MySQL Server パッケージのほかに、アプリケーションまたは開発環境で MySQL を使用するために、追加のコンポーネントが必要またはあると便利な場合があります。 次のものが含まれますがこれに限りません。 
  </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
        ODBC を使用して MySQL Server に接続するには、Connector/ODBC ドライバが必要です。 インストールおよび構成の説明を含む詳細情報は、<a class="ulink" href="https://dev.mysql.com/doc/connector-odbc/en/" target="_top">MySQL Connector/ODBC Developer Guide</a> を参照してください。 
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
          MySQL Installer によってコネクタ/ODBC がインストールおよび構成されます。
        </p></div></li><li class="listitem"><p>
        .NET アプリケーションで MySQL サーバーを使用するには、Connector/NET ドライバが必要です。 インストールおよび構成の説明を含む詳細情報は、<a class="ulink" href="https://dev.mysql.com/doc/connector-net/en/" target="_top">MySQL Connector/NET Developer Guide</a> を参照してください。 
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
          MySQL Installer により、MySQL Connector/NET がインストールおよび構成されます。
        </p></div></li></ul></div><p>
    MySQL の Windows 版配布は、<a class="ulink" href="https://dev.mysql.com/downloads/" target="_top">https://dev.mysql.com/downloads/</a> からダウンロードできます。 <a class="xref" href="installing.html#getting-mysql" title="2.1.3 MySQL の取得方法">セクション2.1.3「MySQL の取得方法」</a>を参照してください。 
  </p><p>
    MySQL for Windows は、ここで詳しく説明するいくつかの配布形式で使用できます。 一般的には、MySQL Installer を使用するとよいでしょう。 これには、古い MSI よりも多くの機能と MySQL 製品が含まれており、圧縮ファイルよりも簡単に使用できるため、MySQL を起動して実行するための追加ツールは必要ありません。MySQL Installer は、MySQL Server および追加の MySQL 製品を自動的にインストールし、オプションファイルを作成してサーバーを起動し、デフォルトのユーザーアカウントを作成できるようにします。 パッケージ選択の詳細は、<a class="xref" href="installing.html#windows-choosing-package" title="2.3.2 インストールパッケージの選択">セクション2.3.2「インストールパッケージの選択」</a> を参照してください。 
  </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
        MySQL Installer ディストリビューションには、MySQL Server および MySQL Workbench や MySQL for Visual Studio などの追加の MySQL 製品が含まれます。MySQL Installer を使用して、将来これらの製品をアップグレードすることもできます (<a class="ulink" href="https://dev.mysql.com/doc/mysql-compat-matrix/en/" target="_top">https://dev.mysql.com/doc/mysql-compat-matrix/en/</a> を参照)。
      </p><p>
        MySQL Installer を使用して MySQL をインストールする方法の説明は、<a class="xref" href="installing.html#mysql-installer" title="2.3.3 MySQL Installer for Windows">セクション2.3.3「MySQL Installer for Windows」</a> を参照してください。
      </p></li><li class="listitem"><p>
        標準バイナリ配布 (圧縮ファイルとしてパッケージ化) には、選択した場所に解凍する必要があるすべてのファイルが含まれます。 このパッケージには、完全な Windows MSI Installer パッケージ内のすべてのファイルが含まれますが、インストールプログラムは含まれません。 
      </p><p>
        圧縮ファイルを使用して MySQL をインストールする手順については、<a class="xref" href="installing.html#windows-install-archive" title="2.3.4 noinstall ZIP アーカイブを使用した Microsoft Windows への MySQL のインストール">セクション2.3.4「<code class="literal">noinstall</code> ZIP アーカイブを使用した Microsoft Windows への MySQL のインストール」</a> を参照してください。
      </p></li><li class="listitem"><p>
        ソース配布形式には、Visual Studio コンパイラシステムを使用して実行可能ファイルをビルドするためのすべてのコードとサポートファイルが含まれます。
      </p><p>
        Windows 上で MySQL をソースからビルドする方法の詳細は、<a class="xref" href="installing.html#source-installation" title="2.9 ソースから MySQL をインストールする">セクション2.9「ソースから MySQL をインストールする」</a> を参照してください。
      </p></li></ul></div><h3><a name="idm45548123698192"></a>Windows での MySQL の考慮事項</h3><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
        <span class="bold"><strong>大規模テーブルのサポート</strong></span>
      </p><p>
        4G バイト以上のテーブルが必要な場合、NTFS 以降のファイルシステムに MySQL をインストールします。 テーブルの作成時には、必ず <code class="literal">MAX_ROWS</code> と <code class="literal">AVG_ROW_LENGTH</code> を使用します。 <a class="xref" href="sql-statements.html#create-table" title="13.1.20 CREATE TABLE ステートメント">セクション13.1.20「CREATE TABLE ステートメント」</a>を参照してください。 
      </p></li><li class="listitem"><p>
        <span class="bold"><strong>MySQL およびウィルスチェックソフトウェア</strong></span>
      </p><p>
        MySQL のデータおよび一時テーブル含むディレクトリに、Norton/Symantec Anti-Virus などのウィルススキャンソフトウェアがあると、MySQL のパフォーマンス、およびウィルススキャンソフトウェアがファイルの内容をスパムを含むものと誤認するという問題が生じる可能性があります。 これは、ウィルススキャンソフトウェアのフィンガープリント解析メカニズムと、MySQL がさまざまなファイルを高速で更新する方法が潜在的なセキュリティーリスクと認識される可能性があるということが原因です。 
      </p><p>
        MySQL Server のインストール後、MySQL のテーブルデータを格納するために使用するメインディレクトリ (<code class="literal">datadir</code>) 上でのウィルススキャンを無効にすることが推奨されます。 通常、ウィルススキャンソフトウェアには特定のディレクトリを無視するシステムが組み込まれており、有効にできます。 
      </p><p>
        また、MySQL はデフォルトで、標準の Windows 一時ディレクトリに一時ファイルを作成します。 一時ファイルがスキャンされることも避けるために、MySQL の一時ファイル用に独立した一時ディレクトリを構成し、このディレクトリをウィルススキャンの除外リストに追加します。 これを行うには、<code class="option">tmpdir</code> パラメータの構成オプションを <code class="filename">my.ini</code> 構成ファイルに追加します。 詳細については、<a class="xref" href="installing.html#windows-create-option-file" title="2.3.4.2 オプションファイルの作成">セクション2.3.4.2「オプションファイルの作成」</a> を参照してください。 
      </p></li></ul></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="windows-installation-layout"></a>2.3.1 Microsoft Windows 上での MySQL のインストールレイアウト</h3></div></div></div><p>
      Windows 上の MySQL 8.0 の場合、MySQL Installer で実行されるインストールのデフォルトのインストールディレクトリは <code class="filename">C:\Program Files\MySQL\MySQL Server 8.0</code> です。 ZIP アーカイブ方法を使用して MySQL をインストールする場合は、<code class="filename">C:\mysql</code> にインストールすることをお薦めします。 しかし、サブディレクトリのレイアウトは同じです。 
    </p><p>
      すべてのファイルは、次の表に示される構造を使用してこの親ディレクトリ内に配置されています。
    </p><div class="table"><a name="idm45548123679168"></a><p class="title"><b>表 2.4 Microsoft Windows の MySQL のデフォルトインストールレイアウト</b></p><div class="table-contents"><table><col style="width: 30%"><col style="width: 40%"><col style="width: 30%"><thead><tr>
          <th scope="col">ディレクトリ</th>
          <th scope="col">ディレクトリの内容</th>
          <th scope="col">メモ</th>
        </tr></thead><tbody><tr>
          <th scope="row"><code class="filename">bin</code></th>
          <td><span class="command"><strong>mysqld</strong></span> サーバー、クライアントプログラムおよびユーティリティプログラム</td>
          <td></td>
        </tr><tr>
          <th scope="row"><code class="filename">%PROGRAMDATA%\MySQL\MySQL Server 8.0\</code></th>
          <td>ログファイル、データベース</td>
          <td>Windows システム変数 <code class="varname">%PROGRAMDATA%</code> のデフォルトは <code class="filename">C:\ProgramData</code> です。</td>
        </tr><tr>
          <th scope="row"><code class="filename">docs</code></th>
          <td>リリースドキュメント</td>
          <td>MySQL Installer では、<code class="literal">Modify</code> 操作を使用してこのオプションフォルダを選択します。</td>
        </tr><tr>
          <th scope="row"><code class="filename">include</code></th>
          <td>インクルード (ヘッダー) ファイル</td>
          <td></td>
        </tr><tr>
          <th scope="row"><code class="filename">lib</code></th>
          <td>ライブラリ</td>
          <td></td>
        </tr><tr>
          <th scope="row"><code class="filename">share</code></th>
          <td>エラーメッセージ、文字セットファイル、サンプル構成ファイル、データベースインストールのための SQL を含む種々のサポートファイル</td>
          <td></td>
        </tr></tbody></table></div></div><br class="table-break"></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="windows-choosing-package"></a>2.3.2 インストールパッケージの選択</h3></div></div></div><p>
      MySQL 8.0 には、Windows に MySQL をインストールする際に選択できるインストールパッケージ形式が複数あります。 このセクションで説明するパッケージ形式は次のとおりです: 
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a class="xref" href="installing.html#windows-choosing-package-mysql-installer" title="MySQL Installer">MySQL Installer</a></p></li><li class="listitem"><p><a class="xref" href="installing.html#windows-choosing-package-no-zip" title="MySQL noinstall ZIP アーカイブ">MySQL noinstall ZIP アーカイブ</a></p></li><li class="listitem"><p><a class="xref" href="installing.html#windows-choosing-package-docker" title="MySQL Docker イメージ">MySQL Docker イメージ</a></p></li></ul></div><p>
      プログラムデータベース (PDB) ファイル (ファイル名拡張子 <code class="filename">pdb</code>) は、問題が発生した場合に MySQL インストールをデバッグするための情報を提供します。 これらのファイルは、MySQL の ZIP アーカイブ配布に含まれています (MSI 配布には含まれていません)。 
    </p><div class="simplesect"><div class="titlepage"><div><div><h4 class="title"><a name="windows-choosing-package-mysql-installer"></a>MySQL Installer</h4></div></div></div><p>
        このパッケージは、<code class="filename">mysql-installer-community-8.0.25.0.msi</code> または <code class="filename">mysql-installer-commercial-8.0.25.0.msi</code> と同様のファイル名を持ち、MSI を使用して MySQL サーバーおよびその他の製品を自動的にインストールします。MySQL Installer は、自身およびインストールされている各製品に更新をダウンロードして適用します。 また、インストールされた MySQL サーバー (サンドボックス InnoDB クラスタテスト設定を含む) および MySQL Router も構成します。MySQL Installer は、ほとんどのユーザーに推奨されます。 
      </p><p>
        MySQL Installer では、次のような他の多くの MySQL 製品をインストールおよび管理 (追加、変更、アップグレードおよび削除) できます:
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            アプリケーション - MySQL Workbench、MySQL for Visual Studio、MySQL Shell および MySQL Router (<a class="ulink" href="https://dev.mysql.com/doc/mysql-compat-matrix/en/" target="_top">https://dev.mysql.com/doc/mysql-compat-matrix/en/</a> を参照)
          </p></li><li class="listitem"><p>
            コネクタ - MySQL Connector/C++, MySQL Connector/NET, Connector/ODBC, MySQL Connector/Python, MySQL Connector/J, MySQL Connector/Node.js
          </p></li><li class="listitem"><p>
            ドキュメント - 『 MySQL マニュアル』 (PDF 形式)、サンプルおよび例
          </p></li></ul></div><p>
        MySQL Installer は、MySQL でサポートされているすべてのバージョンの Windows で動作します (<a class="ulink" href="https://www.mysql.com/support/supportedplatforms/database.html" target="_top">https://www.mysql.com/support/supportedplatforms/database.html</a> を参照)。
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
          MySQL Installer は Microsoft Windows のネイティブコンポーネントではなく .NET に依存しているため、サーバーコアバージョンの Windows Server などの最小限のインストールオプションでは機能しません。
        </p></div><p>
        MySQL Installer を使用して MySQL をインストールする手順は、<a class="xref" href="installing.html#mysql-installer" title="2.3.3 MySQL Installer for Windows">セクション2.3.3「MySQL Installer for Windows」</a> を参照してください。
      </p></div><div class="simplesect"><div class="titlepage"><div><div><h4 class="title"><a name="windows-choosing-package-no-zip"></a>MySQL noinstall ZIP アーカイブ</h4></div></div></div><p>
        これらのパッケージには、GUI を除き、完全な MySQL Server インストールパッケージにあるファイルが含まれています。 この形式には自動インストーラは含まれていないため、手動でインストールして構成する必要があります。 
      </p><p>
        <code class="literal">noinstall</code> ZIP アーカイブは、2 つの別々の圧縮ファイルに分割されます。 メインパッケージの名前は <code class="filename">mysql-<em class="replaceable"><code>VERSION</code></em>-winx64.zip</code> です。 これには、システムで MySQL を使用するために必要なコンポーネントが含まれています。 オプションの MySQL テストスイート、MySQL ベンチマークスイートおよびデバッグバイナリ/情報コンポーネント (PDB ファイルを含む) は、<code class="filename">mysql-<em class="replaceable"><code>VERSION</code></em>-winx64-debug-test.zip</code> という名前の別の圧縮ファイルにあります。 
      </p><p>
        <code class="literal">noinstall</code> ZIP アーカイブのインストールを選択した場合は、<a class="xref" href="installing.html#windows-install-archive" title="2.3.4 noinstall ZIP アーカイブを使用した Microsoft Windows への MySQL のインストール">セクション2.3.4「<code class="literal">noinstall</code> ZIP アーカイブを使用した Microsoft Windows への MySQL のインストール」</a> を参照してください。
      </p></div><div class="simplesect"><div class="titlepage"><div><div><h4 class="title"><a name="windows-choosing-package-docker"></a>MySQL Docker イメージ</h4></div></div></div><p>
        Windows プラットフォーム上の Oracle によって提供される MySQL Docker イメージの使用方法の詳細は、<a class="xref" href="installing.html#deploy-mysql-nonlinux-docker" title="2.5.6.3 Docker を使用した Windows およびその他の Linux 以外のプラットフォームへの MySQL のデプロイ">セクション2.5.6.3「Docker を使用した Windows およびその他の Linux 以外のプラットフォームへの MySQL のデプロイ」</a> を参照してください。
      </p><div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">警告</div><p>
          Oracle によって提供される MySQL Docker イメージは、Linux プラットフォーム専用に構築されています。 他のプラットフォームはサポートされておらず、Oracle から MySQL Docker イメージを実行しているユーザーは独自のリスクでこれを実行しています。 
        </p></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="mysql-installer"></a>2.3.3 MySQL Installer for Windows</h3></div></div></div><div class="toc"><dl class="toc"><dt><span class="section"><a href="installing.html#mysql-installer-setup">2.3.3.1 MySQL Installer の初期設定</a></span></dt><dt><span class="section"><a href="installing.html#mysql-installer-change-path-proc">2.3.3.2 MySQL Installer を使用した代替サーバーパスの設定</a></span></dt><dt><span class="section"><a href="installing.html#mysql-installer-workflow">2.3.3.3 MySQL Installer でのインストールワークフロー</a></span></dt><dt><span class="section"><a href="installing.html#mysql-installer-catalog-dashboard">2.3.3.4 MySQL Installer 製品カタログおよびダッシュボード</a></span></dt><dt><span class="section"><a href="installing.html#MySQLInstallerConsole">2.3.3.5 MySQLInstallerConsole リファレンス</a></span></dt></dl></div><a class="indexterm" name="idm45548123612032"></a><p>
    MySQL Installer は、Microsoft Windows で実行される MySQL 製品のインストールおよび構成の複雑さを軽減するために設計されたスタンドアロンアプリケーションです。 次の MySQL 製品がサポートされています: 
  </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
        MySQL Servers
      </p><p>
        MySQL Installer では、複数の個別の MySQL サーバーインスタンスを同じホストに同時にインストールおよび管理できます。 たとえば、MySQL Installer では、MySQL 5.6、MySQL 5.7 および MySQL 8.0 の個別のインスタンスを同じホストにインストール、構成およびアップグレードできます。MySQL Installer では、メジャーバージョン番号とマイナーバージョン番号の間のサーバーアップグレードは許可されませんが、リリースシリーズ内でのアップグレードは許可されます (8.0.21 から 8.0.22 へのアップグレードなど)。 
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
          MySQL Installer では、<span class="emphasis"><em>コミュニティ</em></span>と<span class="emphasis"><em>コマーシャル</em></span>の両方のリリースの MySQL サーバーを同じホストにインストールすることはできません。 同じホストに両方のリリースが必要な場合は、<a class="link" href="installing.html#windows-choosing-package-no-zip" title="MySQL noinstall ZIP アーカイブ">ZIP archive</a> ディストリビューションを使用していずれかのリリースをインストールすることを検討してください。 
        </p></div></li><li class="listitem"><p>
        MySQL アプリケーション
      </p><p>
        MySQL Workbench、MySQL Shell、MySQL Router および MySQL for Visual Studio。
      </p></li><li class="listitem"><p>
        MySQL Connector
      </p><p>
        MySQL Connector/NET、MySQL Connector/Python、MySQL Connector/ODBC、MySQL Connector/J および MySQL Connector/C++。 MySQL Connector/Node.js をインストールするには、<a class="ulink" href="https://dev.mysql.com/downloads/connector/nodejs/" target="_top">https://dev.mysql.com/downloads/connector/nodejs/</a> を参照してください。 
      </p></li><li class="listitem"><p>
        ドキュメントとサンプル
      </p><p>
        PDF 形式の『 MySQL リファレンスマニュアル』およびバージョン別の MySQL データベースサンプル。
      </p></li></ul></div><h4><a name="mysql-installer-requiremetns"></a>インストール要件</h4><p>
    MySQL Installer には、Microsoft .NET Framework 4.5.2 以上が必要です。 このバージョンがホストコンピュータにインストールされていない場合は、<a class="ulink" href="https://www.microsoft.com/en-us/download/details.aspx?id=42643" target="_top">「Microsoft の web サイト」</a>にアクセスしてダウンロードできます。 
  </p><p>
    完全バンドルに含まれていない最新の MySQL 製品のメタデータを含むマニフェストをダウンロードするには、インターネット接続が必要です。MySQL Installer では、アプリケーションを初めて起動した後、構成可能な間隔で定期的にマニフェストのダウンロードが試行されます (<a class="link" href="installing.html#mysql-installer-options-icon">MySQL Installer options</a> を参照)。 または、<a class="link" href="installing.html#windows-product-dashboard" title="MySQL Installer ダッシュボード">MySQL Installer dashboard</a> で<span class="guibutton"> Catalog </span>をクリックして、更新されたマニフェストを手動で取得することもできます。 
  </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
      初回または後続のマニフェストのダウンロードが失敗すると、エラーがログに記録され、セッション中に MySQL 製品へのアクセスが制限される場合があります。MySQL Installer は、初期マニフェスト構造が更新されるまで、起動のたびにマニフェストのダウンロードを試みます。 製品の検索の詳細は、<a class="xref" href="installing.html#locate-products" title="インストールする製品の検索">インストールする製品の検索</a> を参照してください。 
    </p></div><h4><a name="mysql-installer-community-edition"></a>MySQL Installer コミュニティリリース</h4><p>
    <a class="ulink" href="https://dev.mysql.com/downloads/installer/" target="_top">https://dev.mysql.com/downloads/installer/</a> からソフトウェアをダウンロードして、Windows 用のすべての MySQL 製品の Community リリースをインストールします。 次の MySQL Installer パッケージオプションのいずれかを選択します: 
  </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
        <span class="emphasis"><em>Web</em></span> : MySQL Installer および構成ファイルのみが含まれます。 web パッケージオプションでは、インストール対象として選択した MySQL 製品のみがダウンロードされますが、ダウンロードごとにインターネット接続が必要です。 このファイルのサイズは約 2 MB です。 ファイル名の形式は <code class="filename">mysql-installer-community-<code class="literal">web</code>-<em class="replaceable"><code>VERSION</code></em>.<em class="replaceable"><code>N</code></em>.msi</code> で、<em class="replaceable"><code>VERSION</code></em> は 8.0 などの MySQL サーバーのバージョン番号、<code class="literal">N</code> は 0 から始まるパッケージ番号です。 
      </p></li><li class="listitem"><p>
        <span class="emphasis"><em>完全または現在のバンドル</em></span>: Windows 用のすべての MySQL 製品 (MySQL サーバーを含む) をバンドルします。 ファイルサイズは 300 MB を超え、名前の形式は <code class="filename">mysql-installer-community-<em class="replaceable"><code>VERSION</code></em>.<em class="replaceable"><code>N</code></em>.msi</code> で、<em class="replaceable"><code>VERSION</code></em> は 8.0 などの MySQL Server のバージョン番号、<code class="literal">N</code> は 0 から始まるパッケージ番号です。 
      </p></li></ul></div><h4><a name="mysql-installer-commercial-edition"></a>MySQL Installer 商用リリース</h4><p>
    <a class="ulink" href="https://edelivery.oracle.com/" target="_top">https://edelivery.oracle.com/</a> からソフトウェアをダウンロードして、Windows 用の MySQL 製品の商用リリース (標準または Enterprise Edition) をインストールします。 My Oracle Support (MOS) アカウントにログインしている場合、Commercial リリースには Community リリースで使用可能な現在および以前の GA バージョンがすべて含まれますが、開発マイルストンバージョンは除外されます。 ログインしていない場合は、すでにダウンロードしたバンドル製品のリストのみが表示されます。 
  </p><p>
    Commercial リリースには、次の製品も含まれています:
  </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
        ワークベンチ SE/EE
      </p></li><li class="listitem"><p>
        MySQL Enterprise Backup
      </p></li><li class="listitem"><p>
        MySQL Enterprise Firewall
      </p></li></ul></div><p>
    コマーシャルリリースは MOS アカウントと統合されます。 ナレッジベースのコンテンツおよびパッチについては、<a class="ulink" href="https://support.oracle.com/" target="_top">My Oracle Support</a> を参照してください。 
  </p><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="mysql-installer-setup"></a>2.3.3.1 MySQL Installer の初期設定</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a class="xref" href="installing.html#setup-type" title="設定タイプの選択">設定タイプの選択</a></p></li><li class="listitem"><p><a class="xref" href="installing.html#setup-conflicts" title="パスの競合">パスの競合</a></p></li><li class="listitem"><p><a class="xref" href="installing.html#setup-requirements" title="要件のチェック">要件のチェック</a></p></li><li class="listitem"><p><a class="xref" href="installing.html#setup-layout" title="MySQL Installer 構成ファイル">MySQL Installer 構成ファイル</a></p></li></ul></div><p>
      MySQL Installer を初めてダウンロードする場合は、MySQL 製品の初期インストールを順を追って説明します。 次の図に示すように、初期設定はプロセス全体のワンタイムアクティビティです。MySQL Installer は、初期設定中にホストにインストールされた既存の MySQL 製品を検出し、管理対象の製品のリストに追加します。 
    </p><div class="figure"><a name="mysql-installer-overview-fig"></a><p class="title"><b>図 2.7 MySQL Installer プロセスの概要</b></p><div class="figure-contents"><div class="mediaobject"><img src="images/mi-process-overview.png" width="722" height="171" alt="MySQL Installer プロセス。 非繰返しステップ: MySQL Installer をダウンロードし、初期設定を実行します。 繰返しステップ: 製品のインストール (製品のダウンロード、.msi ファイルの実行、構成およびインストールの完了)、製品の管理および MySQL Installer カタログの更新。"></div></div></div><br class="figure-break"><p>
      MySQL Installer は、初期設定時に構成ファイル (後述) をホストのハードドライブに抽出します。 MySQL Installer は 32-bit アプリケーションですが、32-bit バイナリと 64-bit バイナリの両方をインストールできます。 
    </p><p>
      初期設定では、<span class="guimenu">MySQL</span> グループの下にスタートメニューへのリンクが追加されます。 <span class="guimenu">Start</span>、<span class="guimenu">「すべてのプログラム」</span>、<span class="guimenu">MySQL</span>、<span class="guimenu">「MySQL インストーラ」</span>をクリックして MySQL Installer を開きます。 
    </p><div class="simplesect"><div class="titlepage"><div><div><h5 class="title"><a name="setup-type"></a>設定タイプの選択</h5></div></div></div><p>
        初期設定時に、ホストにインストールする MySQL 製品を選択するよう求められます。 別の方法として、設定要件に一致する事前定義済の設定タイプを使用することもできます。 デフォルトでは、GA 製品と事前リリース製品の両方が、<span class="guilabel">「開発者デフォルト」</span>、<span class="guilabel">「クライアントのみ」</span>および <span class="guilabel">Full</span> 設定タイプとともにダウンロードおよびインストールに含まれます。 これらの設定タイプを使用する場合にのみ GA 製品を含めるように製品セットを制限するには、<span class="guilabel">「GA 製品のみをインストール」</span>オプションを選択します。 
      </p><p>
        次の設定タイプのいずれかを選択すると、初期インストールのみが決定され、後で Windows 用の MySQL 製品をインストールまたは更新する機能は制限されません:
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <span class="guilabel">開発者デフォルト</span>: MySQL を使用したアプリケーション開発を補完する次の製品をインストールします:
          </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                <a class="ulink" href="http://dev.mysql.com/doc/" target="_top">MySQL Server</a> ( MySQL Installer のダウンロード時に選択したバージョンをインストールします。)
              </p></li><li class="listitem"><p>
                <a class="ulink" href="https://dev.mysql.com/doc/mysql-shell/8.0/ja/" target="_top">MySQL Shell</a>
              </p></li><li class="listitem"><p>
                <a class="ulink" href="https://dev.mysql.com/doc/mysql-router/8.0/en/" target="_top">MySQL Router</a>
              </p></li><li class="listitem"><p>
                <a class="link" href="workbench.html" title="第 31 章 MySQL Workbench">MySQL Workbench</a>
              </p></li><li class="listitem"><p>
                <a class="ulink" href="https://dev.mysql.com/doc/visual-studio/en/" target="_top">MySQL for Visual Studio</a>
              </p></li><li class="listitem"><p>
                <a class="ulink" href="http://dev.mysql.com/doc/index-connectors.html" target="_top">「MySQL コネクタ」</a> (for .NET / Python / ODBC / Java / C++)
              </p></li><li class="listitem"><p>
                MySQL ドキュメント
              </p></li><li class="listitem"><p>
                MySQL のサンプルと例
              </p></li></ul></div></li><li class="listitem"><p>
            <span class="bold"><strong>Server only</strong></span>: MySQL Server のみをインストールします。 この設定タイプでは、MySQL Installer のダウンロード時に選択した General Availability (GA) または開発リリースサーバーがインストールされます。 デフォルトのインストールパスとデータパスが使用されます。 
          </p></li><li class="listitem"><p>
            <span class="bold"><strong>クライアントのみ</strong></span>: 最新の MySQL アプリケーションおよび MySQL コネクタのみをインストールします。 この設定タイプは <code class="literal">Developer Default</code> タイプと似ていますが、MySQL サーバーや、通常はサーバーにバンドルされている <span class="command"><strong>mysql</strong></span>、<span class="command"><strong>mysqladmin</strong></span> などのクライアントプログラムが含まれていない点が異なります。 
          </p></li><li class="listitem"><p>
            <span class="bold"><strong>Full</strong></span>: 使用可能なすべての MySQL 製品をインストールします。
          </p></li><li class="listitem"><p>
            <span class="bold"><strong>カスタム</strong></span>: カスタム設定タイプを使用すると、<a class="link" href="installing.html#windows-product-catalog" title="製品カタログ">MySQL Installer catalog</a> から個々の MySQL 製品をフィルタして選択できます。
          </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
              MySQL Server バージョン 8.0.20(以前)、5.7 および 5.6 の場合、MySQL Installer の実行に使用するアカウントにはサーバーデータファイルをインストールするための十分な権限がない可能性があり、<code class="literal">ExecSecureObjects</code> MSI アクションを実行できないため、インストールが中断される可能性があります。 続行するには、サーバーのインストールを再試行する前に、<span class="guilabel">「サーバーデータファイル」</span>機能の選択を解除します。 詳細は、<a class="link" href="installing.html#mysql-installer-workflow" title="2.3.3.3 MySQL Installer でのインストールワークフロー">Product Features To Install</a> を参照してください)。 
            </p><p>
              <span class="guilabel">「サーバーデータファイル」</span>チェックボックスは、MySQL Server 8.0.21 以上の機能ツリーから削除されました。
            </p></div><p>
            <code class="literal">Custom</code> 設定タイプを使用して、次をインストールします:
          </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                通常のダウンロード場所から入手できない製品または製品のバージョン。 カタログには、リリース前 (または開発) と GA の間の他のリリースを含む、すべての製品リリースが含まれます。 
              </p></li><li class="listitem"><p>
                代替インストールパスまたはデータパス (あるいはその両方) を使用する MySQL サーバーのインスタンス。 パスの調整方法については、<a class="xref" href="installing.html#mysql-installer-change-path-proc" title="2.3.3.2 MySQL Installer を使用した代替サーバーパスの設定">セクション2.3.3.2「MySQL Installer を使用した代替サーバーパスの設定」</a> を参照してください。 
              </p></li><li class="listitem"><p>
                同じホスト上の複数の MySQL サーバーバージョン (5.6、5.7、8.0 など)。
              </p></li><li class="listitem"><p>
                事前決定済設定タイプとして提供されていない製品と機能の特定の組合せ。 たとえば、Windows 用のすべてのクライアントアプリケーションをインストールするかわりに、MySQL Workbench などの単一の製品をインストールできます。 
              </p></li></ul></div></li></ul></div></div><div class="simplesect"><div class="titlepage"><div><div><h5 class="title"><a name="setup-conflicts"></a>パスの競合</h5></div></div></div><p>
        インストールする製品のデフォルトのインストールまたはデータフォルダ (MySQL サーバーで必要) がすでにホストに存在する場合、ウィザードには、各競合を識別するための<span class="guilabel">「パスの競合」</span>ステップが表示され、既存のフォルダ内のファイルが新しいインストールによって上書きされないようにするアクションを実行できます。 このステップは、MySQL Installer が競合を検出した場合にのみ初期設定で表示されます。 
      </p><p>
        パスの競合を解決するには、次のいずれかを実行します:
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            リストから製品を選択して競合オプションを表示します。 競合しているパスを示す警告記号が表示されます。 参照ボタンを使用して新しいパスを選択し、<span class="guibutton">次へ</span>をクリックします。 
          </p></li><li class="listitem"><p>
            必要に応じて、<span class="guibutton">戻る</span>をクリックして別の設定タイプまたは製品バージョンを選択します。 <code class="literal">Custom</code> 設定タイプでは、個々の製品バージョンを選択できます。 
          </p></li><li class="listitem"><p>
            <span class="guibutton">次へ</span>をクリックして競合を無視し、既存のフォルダ内のファイルを上書きします。
          </p></li><li class="listitem"><p>
            既存の製品を削除します。 <span class="guibutton">取消</span>をクリックして初期設定を停止し、MySQL Installer を閉じます。 スタートメニューから MySQL Installer を再度開き、<a class="link" href="installing.html#windows-product-dashboard" title="MySQL Installer ダッシュボード">MySQL Installer dashboard</a> からの削除操作を使用して、インストールされた製品をホストから削除します。 
          </p></li></ul></div></div><div class="simplesect"><div class="titlepage"><div><div><h5 class="title"><a name="setup-requirements"></a>要件のチェック</h5></div></div></div><p>
        MySQL Installer では、<code class="filename">package-rules.xml</code> ファイルのエントリを使用して、各製品の前提条件となるソフトウェアがホストにインストールされているかどうかを判断します。 要件チェックが失敗すると、MySQL Installer には、ホストの更新に役立つ<span class="guilabel">「要件のチェック」</span>ステップが表示されます。 要件は、インストール用に新しい製品 (またはバージョン) をダウンロードするたびに評価されます。 次の図に、このステップの主な領域を示して説明します。 
      </p><div class="figure"><a name="mysql-installer-requirements-fig"></a><p class="title"><b>図 2.8 要件のチェック</b></p><div class="figure-contents"><div class="mediaobject"><img src="images/mi-requirements-annotated.png" width="594" height="387" alt="要件をダウンロードしてインストールする前の MySQL Installer のチェック要件。"></div></div></div><br class="figure-break"><h6><a name="setup-requirements-elements"></a>要件チェックエレメントの説明</h6><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
            初期設定の現在のステップを表示します。 このリストのステップは、ホストにすでにインストールされている製品、前提条件となるソフトウェアの可用性、およびホストにインストールする製品によって若干変わる場合があります。 
          </p></li><li class="listitem"><p>
            保留中のすべてのインストール要件を製品別にリストし、ステータスを次のように示します:
          </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                <span class="guilabel">Status</span> カラムに空白がある場合、MySQL Installer は必要なソフトウェアのダウンロードおよびインストールを試行できます。
              </p></li><li class="listitem"><p>
                <span class="guilabel">Status</span> カラムの<span class="emphasis"><em>手動</em></span>という語は、要件を手動で満たす必要があることを意味します。 要件の詳細を表示するには、リストで各製品を選択します。 
              </p></li></ul></div></li><li class="listitem"><p>
            各手動解決に役立つ要件を詳細に説明します。 可能な場合は、ダウンロード URL が提供されます。 必要なソフトウェアをダウンロードしてインストールした後、<span class="guibutton"> Check </span>をクリックして、要件が満たされていることを確認します。 
          </p></li><li class="listitem"><p>
            続行するには、次の集合演算を提供します:
          </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                <span class="guibutton">戻る</span> - 前のステップに戻ります。 この処理を使用すると、別の設定タイプを選択できます。 
              </p></li><li class="listitem"><p>
                <span class="guibutton"> Execute </span> - MySQL Installer で、すべてのアイテムに必要なソフトウェアを手動ステータスなしでダウンロードしてインストールしようとします。 手動要件は自分で解決し、<span class="guibutton"> Check </span>をクリックして確認します。 
              </p></li><li class="listitem"><p>
                <span class="guibutton">次へ</span> - 要件のチェックステップに失敗した製品を含めずに、要件を自動的に適用してインストールに進むリクエストを実行しないでください。
              </p></li><li class="listitem"><p>
                <span class="guibutton">取消</span> - MySQL 製品のインストールを停止します。 MySQL Installer はすでにインストールされているため、スタートメニューから MySQL Installer を開き、ダッシュボードから<span class="guibutton">追加</span>をクリックすると、初期設定が再度開始されます。 使用可能な管理操作の詳細は、<a class="xref" href="installing.html#windows-product-catalog" title="製品カタログ">製品カタログ</a> を参照してください。 
              </p></li></ul></div></li></ol></div></div><div class="simplesect"><div class="titlepage"><div><div><h5 class="title"><a name="setup-layout"></a>MySQL Installer 構成ファイル</h5></div></div></div><p>
        すべての MySQL Installer ファイルは、<code class="filename">C:\Program Files (x86)</code> および <code class="filename">C:\ProgramData</code> フォルダ内にあります。 次のテーブルでは、MySQL Installer をスタンドアロンアプリケーションとして定義するファイルおよびフォルダについて説明します。 
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
          MySQL Installer を更新またはアンインストールしても、インストールされた MySQL 製品は変更も削除もされません。
        </p></div><div class="table"><a name="idm45548123453200"></a><p class="title"><b>表 2.5 MySQL Installer 構成ファイル</b></p><div class="table-contents"><table><col style="width: 30%"><col style="width: 40%"><col style="width: 30%"><thead><tr>
            <th scope="col">ファイルまたはフォルダ</th>
            <th scope="col">説明</th>
            <th scope="col">フォルダ階層</th>
          </tr></thead><tbody><tr>
            <th scope="row"><code class="filename">MySQL Installer for Windows</code></th>
            <td>このフォルダには、同様の機能を持つコマンドラインプログラムである MySQL Installer および <a class="link" href="installing.html#MySQLInstallerConsole" title="2.3.3.5 MySQLInstallerConsole リファレンス">MySQLInstallerConsole.exe</a> の実行に必要なすべてのファイルが含まれています。</td>
            <td><code class="filename">C:\Program Files (x86)</code></td>
          </tr><tr>
            <th scope="row"><code class="filename">Templates</code></th>
            <td><code class="filename">Templates</code> フォルダには、MySQL サーバーのバージョンごとに 1 つのファイルがあります。 テンプレートファイルには、一部の値を動的に計算するためのキーと式が含まれています。 </td>
            <td><code class="filename">C:\ProgramData\MySQL\MySQL Installer for Windows\Manifest</code></td>
          </tr><tr>
            <th scope="row"><code class="filename">package-rules.xml</code></th>
            <td><p>
                このファイルには、インストールするすべての製品の前提条件が含まれています。
              </p></td>
            <td><code class="filename">C:\ProgramData\MySQL\MySQL Installer for Windows\Manifest</code></td>
          </tr><tr>
            <th scope="row"><code class="filename">produts.xml</code></th>
            <td><p>
                <code class="filename">products</code> ファイル (または製品カタログ) には、ダウンロード可能なすべての製品のリストが含まれます。
              </p></td>
            <td><code class="filename">C:\ProgramData\MySQL\MySQL Installer for Windows\Manifest</code></td>
          </tr><tr>
            <th scope="row"><code class="filename">Product Cache</code></th>
            <td><p>
                <code class="filename">Product Cache</code> フォルダには、完全パッケージにバンドルされているか、後でダウンロードされたすべてのスタンドアロン <code class="filename">.msi</code> ファイルが含まれています。
              </p></td>
            <td><code class="filename">C:\ProgramData\MySQL\MySQL Installer for Windows</code></td>
          </tr></tbody></table></div></div><br class="table-break"></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="mysql-installer-change-path-proc"></a>2.3.3.2 MySQL Installer を使用した代替サーバーパスの設定</h4></div></div></div><div class="procedure"><p>
        MySQL サーバーのインストール時に、デフォルトのインストールパスまたはデータパス (あるいはその両方) を変更できます。 サーバーをインストールした後は、サーバーインスタンスを削除して再インストールしないとパスを変更できません。 
      </p><p>
        <span class="bold"><strong>MySQL サーバーのパスを変更するには</strong></span>
      </p><ol class="procedure" type="1"><li class="step"><p>
          変更する MySQL サーバーを特定し、<span class="guilabel">「拡張オプション」</span>リンクを有効にします。
        </p><ol type="a" class="substeps"><li class="step"><p>
              次のいずれかを実行して、<span class="guilabel">「製品の選択」</span>ページに移動します:
            </p><ol type="i" class="substeps"><li class="step"><p>
                  これが MySQL Installer の <a class="link" href="installing.html#mysql-installer-setup" title="2.3.3.1 MySQL Installer の初期設定">initial setup</a> の場合は、<code class="literal">Custom</code> 設定タイプを選択して<span class="guibutton">次へ</span>をクリックします。
                </p></li><li class="step"><p>
                  MySQL Installer がすでにインストールされている場合は、スタートメニューから起動し、ダッシュボードから<span class="guibutton">追加</span>をクリックします。
                </p></li></ol></li><li class="step"><p>
              <span class="guibutton">編集</span>をクリックして、<span class="guilabel">「使用可能な製品」</span>に表示される製品リストにフィルタを適用します (<a class="xref" href="installing.html#locate-products" title="インストールする製品の検索">インストールする製品の検索</a> を参照)。
            </p></li><li class="step"><p>
              サーバーインスタンスを選択した状態で、矢印を使用して、選択したサーバーを<span class="guilabel">「インストールする製品」</span>リストに移動します。
            </p></li><li class="step"><p>
              サーバーをクリックして選択します。 サーバーを選択すると、インストールする製品のリストの下にある<span class="guilabel">「拡張オプション」</span>リンクが有効になります (次の図を参照)。 
            </p></li></ol></li><li class="step"><p>
          <span class="guilabel">「拡張オプション」</span>をクリックして、代替パス名を入力できるダイアログボックスを開きます。 パス名が検証されたら、<span class="guibutton">次へ</span>をクリックして構成ステップを続行します。 
        </p><div class="figure"><a name="mysql-installer-custom-path-fig"></a><p class="title"><b>図 2.9 MySQL Server パスの変更</b></p><div class="figure-contents"><div class="mediaobject"><img src="images/mi-path-advanced-options-annotated.png" width="580" height="412" alt="内容は周囲のテキストで説明されています。"></div></div></div><br class="figure-break"></li></ol></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="mysql-installer-workflow"></a>2.3.3.3 MySQL Installer でのインストールワークフロー</h4></div></div></div><div class="toc"><dl class="toc"><dt><span class="section"><a href="installing.html#mysql-installer-workflow-server">2.3.3.3.1 MySQL Installer での MySQL Server の構成</a></span></dt><dt><span class="section"><a href="installing.html#mysql-installer-workflow-nonserver-products">2.3.3.3.2 MySQL Installer での MySQL Router の構成</a></span></dt></dl></div><p>
      MySQL Installer には、Windows 用の新しい MySQL 製品をインストールおよび構成するためのウィザードのようなツールが用意されています。 一度だけ実行される初期設定とは異なり、MySQL Installer は新しい製品をダウンロードまたはインストールするたびにウィザードを起動します。 初回インストールの場合、初期設定のステップはインストールのステップに直接進みます。 製品の選択については、<a class="xref" href="installing.html#locate-products" title="インストールする製品の検索">インストールする製品の検索</a> を参照してください。 
    </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
        MySQL Installer を実行しているユーザーには、生成されたすべてのファイル (<code class="filename">my.ini</code> など) に対する完全な権限が付与されます。 これは、<code class="literal">SYSTEM</code> が所有する <code class="literal">%ProgramData%</code> の MySQL サーバーデータディレクトリなど、特定の製品のファイルおよびディレクトリには適用されません。 
      </p></div><p>
      ホストにインストールおよび構成される製品は、様々なステップで入力が必要になる可能性のある一般的なパターンに従います。 既存の MySQL サーバーのバージョン (またはアップグレード用に選択したバージョン) と互換性のない製品をインストールしようとすると、不一致の可能性についてアラートが表示されます。 
    </p><p>
      MySQL Installer には、異なるワークフローに適用される次の一連のアクションが用意されています:
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><b>製品の選択. </b>
            初期設定時に <code class="literal">Custom</code> 設定タイプを選択した場合、または <a class="link" href="installing.html#windows-product-dashboard" title="MySQL Installer ダッシュボード">MySQL Installer dashboard</a> から<span class="guilabel">「追加」</span>をクリックした場合、MySQL Installer はサイドバーにこのアクションを含めます。 このページから、フィルタを適用して使用可能な製品リストを変更し、矢印キーを使用してインストールする製品リストに移動する 1 つ以上の製品を選択できます。 
          </p><p>
          このページのチェックボックスをオンにすると、機能の選択アクションがアクティブになり、製品のダウンロード後に製品機能をカスタマイズできます。
        </p></li><li class="listitem"><p><b>ダウンロード. </b>
            web 以外の完全な MySQL Installer パッケージをインストールした場合、すべての <code class="filename">.msi</code> ファイルは初期設定時に <code class="filename">Product Cache</code> フォルダにロードされ、再度ダウンロードされることはありません。 それ以外の場合は、<span class="guibutton"> Execute </span>をクリックしてダウンロードを開始します。 各製品のステータスは、<code class="literal">Ready to Download</code>、<code class="literal">Downloading</code>、<code class="literal">Downloaded</code> の順に変わります。 
          </p></li><li class="listitem"><p><b>インストールする機能の選択 (デフォルトでは無効). </b>
            MySQL Installer で製品 <code class="filename">.msi</code> ファイルをダウンロードした後、製品の選択処理中にオプションのチェックボックスを有効にした場合は、機能をカスタマイズできます。
          </p><p>
          インストール後に製品機能をカスタマイズするには、<a class="link" href="installing.html#windows-product-dashboard" title="MySQL Installer ダッシュボード">MySQL Installer dashboard</a> で <span class="guilabel">Modify</span> をクリックします。
        </p></li><li class="listitem"><p><b>インストール. </b>
            リスト内の各製品のステータスは、<code class="literal">Ready to Install</code>、<code class="literal">Installing</code> および最後に <code class="literal">Complete</code> に変更されます。 プロセス中に、<span class="guilabel">「詳細の表示」</span>をクリックしてインストールアクションを表示します。 
          </p><p>
          この時点でインストールを取り消すと、製品はインストールされますが、サーバー (インストールされている場合) はまだ構成されていません。 サーバー構成を再起動するには、スタートメニューから MySQL Installer を開き、ダッシュボードの適切なサーバーの横にある<span class="guilabel">「再構成」</span>をクリックします。 
        </p></li><li class="listitem"><p><b>製品構成. </b>
            このステップは、MySQL Server、MySQL Router およびサンプルにのみ適用されます。 リスト内の各セクション目のステータスは、<code class="literal">Ready to Configure</code> を示しています。 <span class="guibutton">次へ</span>をクリックして、リスト内のすべてのアイテムの構成ウィザードを起動します。 このステップで表示される構成オプションは、インストールするように選択したデータベースまたはルーターのバージョンによって異なります。 
          </p><p>
          <span class="guibutton"> Execute </span>をクリックして構成オプションの適用を開始するか、<span class="guibutton">戻る</span> (繰返し) をクリックして各構成ページに戻ります。
        </p></li><li class="listitem"><p><b>インストールが完了しました. </b>
            このステップでは、構成を必要としない製品のインストールを完了します。 ログをクリップボードにコピーし、MySQL Workbench や MySQL Shell などの特定のアプリケーションを起動できます。 <span class="guibutton">終了</span>をクリックして、<a class="link" href="installing.html#windows-product-dashboard" title="MySQL Installer ダッシュボード">MySQL Installer dashboard</a> を開きます。 
          </p></li></ul></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="mysql-installer-workflow-server"></a>2.3.3.3.1 MySQL Installer での MySQL Server の構成</h5></div></div></div><div class="toc"><dl class="toc"><dt><span class="section"><a href="installing.html#server-type-network">2.3.3.3.1.1 タイプとネットワーキング</a></span></dt><dt><span class="section"><a href="installing.html#server-authentication-method">2.3.3.3.1.2 認証方法</a></span></dt><dt><span class="section"><a href="installing.html#server-accounts-roles">2.3.3.3.1.3 アカウントとロール</a></span></dt><dt><span class="section"><a href="installing.html#server-windows-service">2.3.3.3.1.4 Windows サービス</a></span></dt><dt><span class="section"><a href="installing.html#server-logging-options">2.3.3.3.1.5 ロギングオプション</a></span></dt><dt><span class="section"><a href="installing.html#server-advanced-options">2.3.3.3.1.6 高度なオプション</a></span></dt><dt><span class="section"><a href="installing.html#server-apply-config">2.3.3.3.1.7 サーバー構成の適用</a></span></dt></dl></div><p>
        MySQL Installer は、MySQL サーバーの初期構成を実行します。 例: 
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            MySQL サーバーの構成に使用される構成ファイル (<code class="filename">my.ini</code>) が作成されます。 このファイルに書き込まれる値は、インストールのプロセスで選択した内容に影響されます。 一部の定義はホストに依存します。 たとえば、ホストのコア数が 3 未満の場合、query_cache は有効になります。 
          </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
              クエリーキャッシュは MySQL 5.7 で非推奨になり、MySQL 8.0 (以降) で削除されました。
            </p></div></li><li class="listitem"><p>
            デフォルトでは、MySQL サーバーの Windows サービスが追加されます。
          </p></li><li class="listitem"><p>
            MySQL サーバーのデフォルトのインストールおよびデータパスを提供します。 デフォルトのパスを変更する方法については、<a class="xref" href="installing.html#mysql-installer-change-path-proc" title="2.3.3.2 MySQL Installer を使用した代替サーバーパスの設定">セクション2.3.3.2「MySQL Installer を使用した代替サーバーパスの設定」</a> を参照してください。 
          </p></li><li class="listitem"><p>
            オプションで、DB 管理者、DB デザイナ、バックアップ管理などの一般的なロールに基づいて構成可能な権限を持つ MySQL サーバーユーザーアカウントを作成できます。 オプションで、<code class="literal">MysqlSys</code> という名前の制限付き権限を持つ Windows ユーザーを作成し、このユーザーが MySQL Server を実行します。 
          </p><p>
            MySQL Workbench でユーザーアカウントを追加して構成することもできます。
          </p></li><li class="listitem"><p>
            <span class="guilabel">「拡張オプションの表示」</span>をチェックすると、追加の<span class="guilabel">「ロギングオプション」</span>を設定できます。 これには、エラーログ、一般ログ、スロークエリーログ (クエリーの実行に必要な秒数の構成を含む) およびバイナリログのカスタムファイルパスの定義が含まれます。 
          </p></li></ul></div><p>
        構成プロセス中に<span class="guibutton">次へ</span>をクリックして次のステップに進むか、<span class="guibutton">戻る</span>をクリックして前のステップに戻ります。 最後のステップで<span class="guibutton"> Execute </span>をクリックして、サーバー構成を適用します。 
      </p><p>
        次の各セクションでは、Windows 上の MySQL サーバーに適用されるサーバー構成オプションについて説明します。 インストールしたサーバーのバージョンによって、構成できるステップとオプションが決まります。 MySQL サーバーの構成には、一部またはすべてのステップが含まれる場合があります。 
      </p><div class="section"><div class="titlepage"><div><div><h6 class="title"><a name="server-type-network"></a>2.3.3.3.1.1 タイプとネットワーキング</h6></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
              Server の構成タイプ
            </p><p>
              セットアップを記述する MySQL Server の構成タイプを選択します。 この設定では、MySQL サーバーインスタンスに割り当てるシステムリソース (メモリー) の量を定義します。 
            </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                  <span class="bold"><strong>開発</strong></span>: 他の多くのアプリケーションをホストするコンピュータ。通常、これは個人用ワークステーションです。 この設定では、最小メモリー量を使用するように MySQL を構成します。 
                </p></li><li class="listitem"><p>
                  <span class="bold"><strong>サーバー</strong></span>: 他のいくつかのアプリケーション (web サーバーなど) は、このコンピュータで実行する必要があります。 サーバー設定は、中量のメモリーを使用するように MySQL を構成します。 
                </p></li><li class="listitem"><p>
                  <span class="bold"><strong>専用</strong></span>: MySQL サーバーの実行専用のコンピュータ。 このサーバーでは他の主要なアプリケーションは実行されないため、この設定では、使用可能なメモリーの大部分を使用するように MySQL を構成します。 
                </p></li></ul></div></li><li class="listitem"><p>
              接続性
            </p><p>
              接続オプションは、MySQL への接続方法を制御します。 次のようなオプションがあります。 
            </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                  <span class="guilabel">TCP/IP</span>: このオプションはデフォルトで選択されています。 TCP/IP ネットワーキングを無効にして、ローカルホスト接続のみを許可できます。 TCP/IP 接続オプションを選択すると、次の項目を変更できます: 
                </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: square; "><li class="listitem"><p>
                      クラシック MySQL プロトコル 接続用の <span class="guilabel">Port</span>。 デフォルト値は <code class="literal">3306</code> です。 
                    </p></li><li class="listitem"><p>
                      MySQL 8.0 サーバーのみを構成する場合に表示される<span class="guilabel">「X プロトコル ポート」</span>。 デフォルト値は <code class="literal">33060</code> です 
                    </p></li><li class="listitem"><p>
                      <span class="guilabel">「ネットワークアクセス用の Windows ファイアウォールポートを開く」</span> (TCP/IP 接続の場合はデフォルトで選択されています)。
                    </p></li></ul></div><p>
                  ポート番号がすでに使用されている場合は、デフォルト値の横に情報アイコン (<span class="inlinemediaobject"><img src="images/mi-info-symbol.png" align="middle" width="22" height="20"></span>) が表示され、新しいポート番号を指定するまで<span class="guibutton">次へ</span>は無効になります。
                </p></li><li class="listitem"><p>
                  <span class="guilabel">名前付きパイプ</span>: <code class="literal">named_pipe</code> システム変数の設定と同様に、パイプ名を有効にして定義します。 デフォルト名は <code class="literal">MySQL</code> です。 
                </p></li><li class="listitem"><p>
                  <span class="guilabel">共有メモリー</span>: <code class="literal">shared_memory</code> システム変数の設定と同様に、メモリー名を有効にして定義します。 デフォルト名は <code class="literal">MySQL</code> です。 
                </p></li></ul></div></li><li class="listitem"><p>
              高度な構成
            </p><p>
              <span class="guilabel">「詳細およびロギングオプションの表示」</span>をチェックして、後のステップでカスタムロギングおよび拡張オプションを設定します。 ロギングオプションステップでは、エラーログ、一般ログ、スロークエリーログ (クエリーの実行に必要な秒数の構成を含む) およびバイナリログのカスタムファイルパスを定義できます。 拡張オプションステップでは、レプリケーショントポロジでバイナリロギングが有効になっている場合に必要な一意のサーバー ID を設定できます。 
            </p></li><li class="listitem"><p>
              MySQL Enterprise Firewall (Enterprise Edition のみ)
            </p><p>
              デフォルトでは、<span class="guilabel">「MySQL Enterprise Firewall の有効化」</span>チェックボックスは選択解除されています。 特定のタイプの攻撃に対する保護を提供するセキュリティリストを有効にするには、このオプションを選択します。 追加のインストール後の構成が必要です (<a class="xref" href="security.html#firewall" title="6.4.7 MySQL Enterprise Firewall">セクション6.4.7「MySQL Enterprise Firewall」</a> を参照)。 
            </p><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">重要</div><p>
                MySQL 8.0.19 には、サーバーの構成ステップで MySQL Enterprise Firewall を選択した場合にサーバーの起動を妨げる問題があります。 サーバーの起動操作が失敗した場合は、<span class="guibutton">取消</span>をクリックして構成プロセスを終了し、ダッシュボードに戻ります。 サーバーをアンインストールする必要があります。 
              </p><p>
                回避策は、MySQL Enterprise Firewall を選択せずに MySQL Installer を実行することです。 (つまり、<span class="guilabel">「MySQL Enterprise Firewall の有効化」</span>チェックボックスを選択しないでください。) その後、手動インストールの手順を使用して MySQL Enterprise Firewall をインストールします (<a class="xref" href="security.html#firewall-installation" title="6.4.7.2 MySQL Enterprise Firewall のインストールまたはアンインストール">セクション6.4.7.2「MySQL Enterprise Firewall のインストールまたはアンインストール」</a> を参照)。 
              </p></div></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h6 class="title"><a name="server-authentication-method"></a>2.3.3.3.1.2 認証方法</h6></div></div></div><p>
          <span class="guilabel">「認証方法」</span>のステップは、MySQL 8.0.4 以上のインストールまたはアップグレード中にのみ表示されます。 2 つのサーバー側認証オプションの中から選択できます。 次のステップで作成する MySQL ユーザーアカウントでは、このステップで選択した認証方式が使用されます。 
        </p><p>
          <code class="literal">libmysqlclient</code> 8.0 を使用する MySQL 8.0 コネクタおよびコミュニティドライバは、<code class="literal">mysql_native_password</code> のデフォルト認証プラグインをサポートするようになりました。 ただし、この新しい認証方式をサポートするようにクライアントおよびアプリケーションを更新できない場合は、レガシー認証に <code class="literal">mysql_native_password</code> を使用するように MySQL サーバーを構成できます。 この変更の影響の詳細は、<a class="xref" href="installing.html#upgrade-caching-sha2-password" title="優先認証プラグインとしての caching_sha2_password">優先認証プラグインとしての caching_sha2_password</a> を参照してください。 
        </p><p>
          MySQL 8.0.4 以上をインストールまたはアップグレードする場合は、次のいずれかの認証方法を選択します:
        </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
              認証に強力なパスワード暗号化を使用 (推奨)
            </p><p>
              MySQL 8.0 は、改善された強力な SHA256 ベースのパスワード方式に基づく新しい認証をサポートしています。 すべての新しい MySQL サーバーのインストールでは、今後この方法を使用することをお薦めします。 
            </p><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">重要</div><p>
                サーバー上の <code class="literal">caching_sha2_password</code> 認証プラグインには、新しいバージョンのコネクタおよびクライアントが必要です。これにより、新しい MySQL 8.0 デフォルト認証のサポートが追加されます。
              </p></div></li><li class="listitem"><p>
              レガシー認証方式の使用 (MySQL 5.x の互換性を維持)
            </p><p>
              古い MySQL 5.x レガシー認証方式の使用は、次の場合にのみ検討する必要があります:
            </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                  アプリケーションは、MySQL 8.0 コネクタおよびドライバを使用するように更新できません。
                </p></li><li class="listitem"><p>
                  既存のアプリケーションの再コンパイルは実行できません。
                </p></li><li class="listitem"><p>
                  更新された言語固有のコネクタまたはドライバは、まだ使用できません。
                </p></li></ul></div></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h6 class="title"><a name="server-accounts-roles"></a>2.3.3.3.1.3 アカウントとロール</h6></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
              root アカウントのパスワード
            </p><p>
              root パスワードの割当てが必要で、他の MySQL Installer 操作を実行するときにパスワードの入力を求められます。 パスワードの強度は、表示されたボックスでパスワードを繰り返すと評価されます。 パスワード要件またはステータスに関する説明情報を表示するには、マウスポインタを情報アイコン (<span class="inlinemediaobject"><img src="images/mi-info-symbol.png" align="middle" width="22" height="20"></span>) の上に移動します。 
            </p></li><li class="listitem"><p>
              MySQL ユーザーアカウント (オプション)
            </p><p>
              <span class="guibutton">ユーザーの追加</span>または<span class="guibutton">ユーザーの編集</span>をクリックして、事前定義済ロールを持つ MySQL ユーザーアカウントを作成または変更します。 次に、必要なアカウント資格証明を入力します: 
            </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                  <span class="guilabel">ユーザー名:</span> MySQL ユーザー名の長さは最大 32 文字です。
                </p></li><li class="listitem"><p>
                  <span class="guilabel">ホスト:</span> サーバーへのリモート接続が必要な場合は、<code class="literal">localhost</code>(ローカル接続のみ) または <code class="literal">&lt;All Hosts (%)&gt;</code> を選択します。
                </p></li><li class="listitem"><p>
                  <span class="guilabel">ロール:</span> <code class="literal">DB Admin</code> などの事前定義済の各ロールは、独自の権限セットで構成されます。 たとえば、<code class="literal">DB Admin</code> ロールには、<code class="literal">DB Designer</code> ロールより多くの権限があります。 <span class="guilabel">「ロール」</span>ドロップダウンリストには、各ロールの説明が表示されます。 
                </p></li><li class="listitem"><p>
                  <span class="guilabel">パスワード:</span> パスワードの強度評価は、パスワードの入力時に実行されます。 パスワードを確認する必要があります。 MySQL では、空白または空のパスワードが許可されます (セキュアでないとみなされます)。 
                </p></li></ul></div><p><b>MySQL Installer 商用リリースのみ: </b>
                商用製品である MySQL Enterprise Edition for Windows は、Windows で外部認証を実行する認証方式もサポートしています。 Windows オペレーティングシステムによって認証されたアカウントは、追加のパスワードを指定せずに MySQL サーバーにアクセスできます。 
              </p><p>
              Windows 認証を使用する新しい MySQL アカウントを作成するには、ユーザー名を入力し、<span class="guilabel">「ホスト」</span>および<span class="guilabel">「ロール」</span>の値を選択します。 <span class="guilabel">Windows</span> 認証をクリックして、<code class="literal">authentication_windows</code> プラグインを有効にします。 Windows セキュリティトークン領域で、MySQL ユーザー名で認証できる各 Windows ユーザー (またはグループ) のトークンを入力します。 MySQL アカウントには、ローカル Windows ユーザーとドメインに属する Windows ユーザーの両方のセキュリティトークンを含めることができます。 複数のセキュリティトークンはセミコロン (<code class="literal">;</code>) で区切られ、ローカルおよびドメインアカウントには次の形式を使用します: 
            </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                  ローカルアカウント
                </p><p>
                  各ローカルユーザーまたはグループのセキュリティトークンとして、単純な Windows ユーザー名 (<strong class="userinput"><code>finley;jeffrey;admin</code></strong> など) を入力します。
                </p></li><li class="listitem"><p>
                  ドメインアカウント
                </p><p>
                  Windows ドメインのユーザーおよびグループを入力するには、標準の Windows 構文 (<em class="replaceable"><code>domain</code></em> <code class="literal">\</code> <em class="replaceable"><code>domainuser</code></em>) または MySQL 構文 (<em class="replaceable"><code>domain</code></em> <code class="literal">\\</code> <em class="replaceable"><code>domainuser</code></em>) を使用します。
                </p><p>
                  ドメインアカウントの場合、MySQL Installer を実行しているアカウントに Active Directory をクエリーする権限がないと、ドメイン内の管理者の資格証明を使用する必要がある場合があります。 この場合は、<span class="guilabel">「Active Directory ユーザーの検証」</span>を選択してドメイン管理者の資格証明をアクティブ化します。 
                </p></li></ul></div><p>
              Windows 認証では、トークンを追加または変更するたびに、すべてのセキュリティトークンをテストできます。 <span class="guibutton">セキュリティトークンのテスト</span>をクリックして、各トークンを検証 (または再検証) します。 無効なトークンは、赤の <code class="literal">X</code> アイコンと赤のトークンテキストとともに説明的なエラーメッセージを生成します。 すべてのトークンが有効 (<code class="literal">X</code> アイコンのない緑色のテキスト) として解決されたら、<span class="guibutton"> OK </span>をクリックして変更を保存できます。 
            </p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h6 class="title"><a name="server-windows-service"></a>2.3.3.3.1.4 Windows サービス</h6></div></div></div><p>
          Windows プラットフォームでは、MySQL サーバーはオペレーティングシステムによって管理される名前付きサービスとして実行でき、Windows の起動時に自動的に起動するように構成できます。 または、手動構成が必要な実行可能プログラムとして実行するように MySQL サーバーを構成することもできます。 
        </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
              <span class="guilabel">「MySQL サーバーを Windows サービスとして構成」</span> (デフォルトで選択されます。)
            </p><p>
              デフォルトの構成オプションが選択されている場合は、次の項目も選択できます:
            </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                  <span class="guilabel">システム起動時の MySQL Server の起動</span>
                </p><p>
                  選択すると (デフォルト)、サービス起動タイプは自動に設定されます。選択しない場合、起動タイプは手動に設定されます。
                </p></li><li class="listitem"><p>
                  <span class="guilabel">Windows サービスの実行方法</span>
                </p><p>
                  <span class="guilabel">「標準システムアカウント」</span>が選択されている場合 (デフォルト)、サービスはネットワークサービスとしてログオンします。
                </p><p>
                  <span class="guilabel">「カスタムユーザー」</span>オプションには、Microsoft Windows にサービスとしてログオンする権限が必要です。 このユーザーが必要な権限で構成されるまで、<span class="guibutton">次へ</span>ボタンは無効になります。 
                </p><p>
                  Windows でカスタムユーザアカウントを設定するには、スタートメニューでローカルセキュリティポリシーを検索します。 ローカルセキュリティポリシーウィンドウで、<span class="guilabel">「ローカルポリシー」</span>、<span class="guilabel">「ユーザー権限の割当て」</span>、<span class="guilabel">「サービスとしてログオン」</span>の順に選択してプロパティダイアログを開きます。 <span class="guibutton">ユーザーまたはグループの追加</span>をクリックしてカスタムユーザーを追加し、各ダイアログで<span class="guibutton"> OK </span>をクリックして変更を保存します。 
                </p></li></ul></div></li><li class="listitem"><p>
              「Windows サービス」オプションの選択を解除
            </p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h6 class="title"><a name="server-logging-options"></a>2.3.3.3.1.5 ロギングオプション</h6></div></div></div><p>
          このステップは、<span class="guilabel">「タイプとネットワーキング」</span>のステップで<span class="guilabel">「拡張構成の表示」</span>チェックボックスが選択されている場合に使用できます。 このステップを今すぐ有効にするには、<span class="guibutton">戻る</span>をクリックして<span class="guilabel">「タイプとネットワーキング」</span>ステップに戻り、チェックボックスを選択します。 
        </p><p>
          拡張構成オプションは、次の MySQL ログファイルに関連しています:
        </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
              <a class="link" href="server-administration.html#error-log" title="5.4.2 エラーログ">Error Log</a>
            </p></li><li class="listitem"><p>
              <a class="link" href="server-administration.html#query-log" title="5.4.3 一般クエリーログ">General Log</a>
            </p></li><li class="listitem"><p>
              <a class="link" href="server-administration.html#slow-query-log" title="5.4.5 スロークエリーログ">Slow Query Log</a>
            </p></li><li class="listitem"><p>
              <a class="link" href="server-administration.html#binary-log" title="5.4.4 バイナリログ">Bin Log</a>
            </p></li></ul></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
            バイナリログは、MySQL 5.7 以降ではデフォルトで有効になっています。
          </p></div></div><div class="section"><div class="titlepage"><div><div><h6 class="title"><a name="server-advanced-options"></a>2.3.3.3.1.6 高度なオプション</h6></div></div></div><p>
          このステップは、<span class="guilabel">「タイプとネットワーキング」</span>のステップで<span class="guilabel">「拡張構成の表示」</span>チェックボックスが選択されている場合に使用できます。 このステップを今すぐ有効にするには、<span class="guibutton">戻る</span>をクリックして<span class="guilabel">「タイプとネットワーキング」</span>ステップに戻り、チェックボックスを選択します。 
        </p><p>
          拡張構成オプションには次のものがあります:
        </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
              <span class="guilabel">サーバー ID</span>
            </p><p>
              レプリケーショントポロジで使用される一意の識別子を設定します。 バイナリロギングが有効な場合は、サーバー ID を指定する必要があります。 デフォルトの ID 値は、サーバーのバージョンによって異なります。 詳細は、<code class="literal">server_id</code> システム変数の説明を参照してください。 
            </p></li><li class="listitem"><p>
              <span class="guilabel">テーブル名の大/小文字</span>
            </p><p>
              サーバーの初期および後続の構成時に、次のオプションを設定できます。 MySQL 8.0 リリースシリーズの場合、これらのオプションはサーバーの初期構成にのみ適用されます。 
            </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                  小文字
                </p><p>
                  <code class="literal">lower_case_table_names</code> オプション値を 1 (デフォルト) に設定します。この場合、テーブル名は小文字でディスクに格納され、比較では大/小文字は区別されません。
                </p></li><li class="listitem"><p>
                  指定した大/小文字を保持
                </p><p>
                  <code class="literal">lower_case_table_names</code> オプション値を 2 に設定します。テーブル名は指定したとおりに格納されますが、小文字で比較されます。
                </p></li></ul></div></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h6 class="title"><a name="server-apply-config"></a>2.3.3.3.1.7 サーバー構成の適用</h6></div></div></div><p>
          <span class="guibutton"> Execute </span>をクリックすると、すべての構成設定が MySQL サーバーに適用されます。 <span class="guilabel">「構成ステップ」</span>タブを使用して、各アクションの進行状況を追跡します。成功すると、各アクションのアイコンが白から緑 (チェックマーク付き) に切り替わります。 それ以外の場合、個々のアクションがタイムアウトすると、プロセスは停止し、エラーメッセージが表示されます。 <span class="guilabel">「Log」</span>タブをクリックしてログを表示します。 
        </p><p>
          インストールが正常に完了し、<span class="guibutton">終了</span>をクリックすると、MySQL Installer およびインストールされた MySQL 製品が Microsoft Windows のスタートメニューの <code class="literal">MySQL</code> グループの下に追加されます。 MySQL Installer を開くと、インストールされている MySQL 製品がリストされ、他の MySQL Installer 操作が可能な <a class="link" href="installing.html#windows-product-dashboard" title="MySQL Installer ダッシュボード">dashboard</a> がロードされます。 
        </p></div></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="mysql-installer-workflow-nonserver-products"></a>2.3.3.3.2 MySQL Installer での MySQL Router の構成</h5></div></div></div><p>
        MySQL Installer は、Windows でビジネスクリティカルなアプリケーションを開発および管理するためのツールスイートをダウンロードしてインストールします。 スイートは、アプリケーション、コネクタ、ドキュメントおよびサンプルで構成されます。 
      </p><p>
        <a class="link" href="installing.html#mysql-installer-setup" title="2.3.3.1 MySQL Installer の初期設定">initial setup</a> の実行中に、<code class="literal">Server only</code> 以外の事前に決定された設定タイプを選択して、最新の GA バージョンのツールをインストールします。 <code class="literal">Custom</code> 設定タイプを使用して、個々のツールまたは特定のバージョンをインストールします。 MySQL Installer がすでにホストにインストールされている場合は、<span class="guilabel">「追加」</span>操作を使用して、MySQL Installer ダッシュボードからツールを選択してインストールします。 
      </p><div class="simplesect"><div class="titlepage"><div><div><h6 class="title"><a name="windows-applications-router"></a>MySQL Router 構成</h6></div></div></div><p>
          MySQL Installer には、MySQL アプリケーションと InnoDB クラスタ の間のトラフィックを転送するために MySQL Router 8.0 のインストール済インスタンスをブートストラップできる構成ウィザードが用意されています。 構成すると、MySQL Router はローカルの Windows サービスとして実行されます。 
        </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
            初期インストール後、およびインストールされたルーターを明示的に再構成するときに、MySQL Router を構成するように求められます。 対照的に、アップグレード操作では、アップグレードした製品を構成する必要はなく、構成を求めるプロンプトも表示されません。 
          </p></div><p>
          MySQL Router を構成するには、次を実行します:
        </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
              InnoDB クラスタ を設定します。
            </p></li><li class="listitem"><p>
              MySQL Installer を使用して、MySQL Router アプリケーションをダウンロードしてインストールします。 インストールが終了すると、構成ウィザードによって情報の入力を求められます。 <span class="guilabel">「InnoDB クラスタ 用の MySQL Router の構成」</span>チェックボックスを選択して構成を開始し、次の構成値を指定します: 
            </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                  <span class="guilabel">ホスト名:</span> InnoDB クラスタ (デフォルトでは <code class="literal">localhost</code>) のプライマリ (シード) サーバーのホスト名。
                </p></li><li class="listitem"><p>
                  <span class="guilabel">ポート:</span> InnoDB クラスタ (デフォルトでは <code class="literal">3306</code>) のプライマリ (シード) サーバーのポート番号。
                </p></li><li class="listitem"><p>
                  <span class="guilabel">管理ユーザー:</span> root レベルの権限を持つ管理ユーザー。
                </p></li><li class="listitem"><p>
                  <span class="guilabel">パスワード:</span> 管理ユーザーのパスワード。
                </p></li><li class="listitem"><p>
                  <span class="guilabel"> InnoDB クラスタ へのクラシック MySQL プロトコル接続</span>
                </p><p>
                  <span class="guilabel">Read/Write:</span> 最初のベースポート番号を未使用の番号 (80 から 65532) に設定すると、ウィザードによって残りのポートが選択されます。
                </p><p>
                  次の図は、最初のベースポート番号が 6446 に指定され、残りのポートが 6447、6448 および 6449 に設定された MySQL Router 構成ページの例を示しています。
                </p></li></ul></div><div class="figure"><a name="mysql-installer-router-config"></a><p class="title"><b>図 2.10 MySQL Router 構成</b></p><div class="figure-contents"><div class="mediaobject"><img src="images/mi-router-config.png" width="500" height="380" alt="内容は周囲のテキストで説明されています。"></div></div></div><br class="figure-break"></li><li class="listitem"><p>
              <span class="guibutton">次へ</span>、<span class="guibutton"> Execute </span>の順にクリックして、構成を適用します。 <span class="guibutton">終了</span>をクリックして MySQL Installer を閉じるか、<a class="link" href="installing.html#windows-product-dashboard" title="MySQL Installer ダッシュボード">MySQL Installer dashboard</a> に戻ります。 
            </p></li></ol></div><p>
          MySQL Router の構成後、root アカウントは、<code class="literal">root@%</code> (リモート) ではなく、<code class="literal">root@localhost</code> (ローカル) としてのみユーザーテーブルに存在します。 ルーターとクライアントが配置されている場所に関係なく、両方がシードサーバーと同じホストに配置されている場合でも、ルーターを通過するすべての接続は、ローカルではなくリモートであるとサーバーによって表示されます。 その結果、ローカルホストを使用してサーバーに接続した場合 (次の例を参照)、認証は行われません。 
        </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>\c root@localhost:6446</code></strong>
</pre></div></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="mysql-installer-catalog-dashboard"></a>2.3.3.4 MySQL Installer 製品カタログおよびダッシュボード</h4></div></div></div><p>
      このセクションでは、MySQL Installer 製品カタログ、ダッシュボード、および製品の選択とアップグレードに関連するその他のアクションについて説明します。
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a class="xref" href="installing.html#windows-product-catalog" title="製品カタログ">製品カタログ</a></p></li><li class="listitem"><p><a class="xref" href="installing.html#windows-product-dashboard" title="MySQL Installer ダッシュボード">MySQL Installer ダッシュボード</a></p></li><li class="listitem"><p><a class="xref" href="installing.html#locate-products" title="インストールする製品の検索">インストールする製品の検索</a></p></li><li class="listitem"><p><a class="xref" href="installing.html#mysql-installer-upgrade-server" title="MySQL Server のアップグレード">MySQL Server のアップグレード</a></p></li><li class="listitem"><p><a class="xref" href="installing.html#mysql-installer-remove-server" title="MySQL Server の削除">MySQL Server の削除</a></p></li><li class="listitem"><p><a class="xref" href="installing.html#upgrade-mysql-installer" title="MySQL Installer のアップグレード">MySQL Installer のアップグレード</a></p></li></ul></div><div class="simplesect"><div class="titlepage"><div><div><h5 class="title"><a name="windows-product-catalog"></a>製品カタログ</h5></div></div></div><p>
        製品カタログには、<a class="ulink" href="https://dev.mysql.com/downloads/" target="_top">「MySQL のダウンロード」</a>からダウンロードできる Microsoft Windows 用のリリース済 MySQL 製品の完全なリストが格納されます。 デフォルトでは、インターネット接続が存在する場合、MySQL Installer は起動時に 7 日ごとにカタログの更新を試みます。 ダッシュボードからカタログを手動で更新することもできます (後述)。 
      </p><p>
        最新のカタログは、次のアクションを実行します:
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            「製品の選択」ページの<span class="guilabel">「使用可能な製品」</span>ペインに移入します。 このステップは、次を選択すると表示されます: 
          </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                <a class="link" href="installing.html#mysql-installer-setup" title="2.3.3.1 MySQL Installer の初期設定">initial setup</a> 中の <code class="literal">Custom</code> 設定タイプ。
              </p></li><li class="listitem"><p>
                ダッシュボードからの<span class="guilabel">「追加」</span>操作。
              </p></li></ul></div></li><li class="listitem"><p>
            ダッシュボードにリストされているインストール済製品に対して製品更新がいつ使用可能になるかを識別します。
          </p></li></ul></div><p>
        カタログには、すべての開発リリース (プレリリース)、一般リリース (現在の GA) およびマイナーリリース (その他のリリース) が含まれます。 カタログ内の製品は、ダウンロードする MySQL Installer のリリースによって多少異なります。 
      </p></div><div class="simplesect"><div class="titlepage"><div><div><h5 class="title"><a name="windows-product-dashboard"></a>MySQL Installer ダッシュボード</h5></div></div></div><p>
        MySQL Installer ダッシュボードは、<a class="link" href="installing.html#mysql-installer-setup" title="2.3.3.1 MySQL Installer の初期設定">initial setup</a> の終了後に MySQL Installer を起動したときに表示されるデフォルトビューです。 設定が終了する前に MySQL Installer を閉じた場合、MySQL Installer はダッシュボードを表示する前に初期設定を再開します。 
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
          Oracle Lifetime Sustaining Support の対象となる製品 (インストールされている場合) がダッシュボードに表示される場合があります。 MySQL for Excel や MySQL Notifier などのこれらの製品は、変更または削除のみが可能です。 
        </p></div><div class="figure"><a name="mysql-installer-dashboard-fig"></a><p class="title"><b>図 2.11 MySQL Installer ダッシュボードの要素</b></p><div class="figure-contents"><div class="mediaobject"><img src="images/mi-dashboard-annotated.png" width="571" height="396" alt="内容は周囲のテキストで説明されています。"></div></div></div><br class="figure-break"><h6><a name="windows-product-dashboard-elements"></a>MySQL Installer ダッシュボードの要素の説明</h6><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
            MySQL Installer ダッシュボードの操作には、カタログにリストされているインストール済の製品または製品に適用される様々なアクションが用意されています。 次の操作を開始するには、最初に操作リンクをクリックしてから、管理する製品を選択します: 
          </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="mysql-installer-alter-add"></a>
                <span class="guilabel">追加</span>: この操作により、「製品の選択」ページが開きます。 ここでフィルタを調整し、必要に応じてダウンロードする 1 つ以上の製品を選択して、インストールを開始できます。 フィルタの使用に関するヒントは、<a class="xref" href="installing.html#locate-products" title="インストールする製品の検索">インストールする製品の検索</a> を参照してください。 
              </p><p>
                矢印を使用して、各製品を<span class="guilabel">「使用可能な製品」</span>カラムから<span class="guilabel">「インストールする製品」</span>カラムに移動します。 機能をカスタマイズできる「製品機能」ページを有効にするには、関連するチェックボックス (デフォルトでは無効) をクリックします。 
              </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
                  MySQL Server バージョン 8.0.20(以前)、5.7 および 5.6 の場合、MySQL Installer の実行に使用するアカウントにはサーバーデータファイルをインストールするための十分な権限がない可能性があり、<code class="literal">ExecSecureObjects</code> MSI アクションを実行できないため、インストールが中断される可能性があります。 続行するには、サーバーのインストールを再試行する前に、<span class="guilabel">「サーバーデータファイル」</span>機能の選択を解除します。 
                </p><p>
                  <span class="guilabel">「サーバーデータファイル」</span>チェックボックスは、MySQL Server 8.0.21 以上の機能ツリーから削除されました。
                </p></div></li><li class="listitem"><p><a name="mysql-installer-alter-modify"></a>
                <span class="guilabel">Modify</span>: この操作を使用して、インストールされている製品に関連付けられている機能を追加または削除します。 変更できる機能は、製品によって複雑さが異なります。 <span class="guilabel">「プログラムショートカット」</span>チェックボックスが選択されている場合、製品は <code class="literal">MySQL</code> グループの下のスタートメニューに表示されます。 
              </p></li><li class="listitem"><p><a name="mysql-installer-alter-upgrade"></a>
                <span class="guilabel">アップグレード</span>: この操作により、アップグレードする製品の選択ページがロードされ、すべてのアップグレード候補が移入されます。 インストールされた製品には複数のアップグレードバージョンを含めることができ、操作には現在の製品カタログが必要です。MySQL Installer は、選択したすべての製品を一度にアップグレードします。 <span class="guibutton">詳細の表示</span>をクリックして、MySQL Installer によって実行されるアクションを表示します。 
              </p></li><li class="listitem"><p><a name="mysql-installer-remove"></a>
                <span class="guilabel">削除</span>: この操作により、「製品の削除」ページが開き、ホストにインストールされている MySQL 製品が移入されます。 削除 (アンインストール) する MySQL 製品を選択し、<span class="guibutton"> Execute </span>をクリックして削除プロセスを開始します。 操作中、インジケータには、実行されたステップの数がすべてのステップの割合として表示されます。 
              </p><p>
                削除する製品を選択するには、次のいずれかを実行します:
              </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                    1 つまたは複数の製品のチェックボックスをオンにします。
                  </p></li><li class="listitem"><p>
                    すべての製品を選択するには、<span class="guilabel">Product</span> チェックボックスを選択します。
                  </p></li></ul></div></li></ul></div></li><li class="listitem"><p><a name="mysql-installer-alter-reconfigure"></a>
            インストールされている各サーバーの横にあるクイックアクションカラムの<span class="guilabel">「再構成」</span>リンクでは、サーバーの現在の構成値がロードされ、すべての構成ステップが繰り返されて、オプションと値を変更できます。 これらの項目を再構成するには、root 権限を持つ資格証明を指定する必要があります。 <span class="guilabel">Log</span> タブをクリックして、MySQL Installer によって実行される各構成ステップの出力を表示します。 
          </p><p>
            完了すると、MySQL Installer はサーバーを停止し、構成の変更を適用して、サーバーを再起動します。 各構成オプションの詳細は、<a class="xref" href="installing.html#mysql-installer-workflow-server" title="2.3.3.3.1 MySQL Installer での MySQL Server の構成">セクション2.3.3.3.1「MySQL Installer での MySQL Server の構成」</a> を参照してください。 特定の MySQL サーバーバージョンに関連付けられたインストール済 <code class="literal">Samples and Examples</code> を再構成して、新機能設定を適用することもできます (存在する場合)。 
          </p></li><li class="listitem"><p><a name="mysql-installer-catalog"></a>
            <span class="guilabel">Catalog</span> リンクを使用すると、MySQL 製品の最新のカタログを手動でダウンロードし、それらの製品変更を MySQL Installer と統合できます。 catalog-download アクションは、ホストにすでにインストールされている製品のアップグレードを実行しません。 かわりに、ダッシュボードに戻り、新しいバージョンのインストール済製品ごとにバージョンカラムに矢印アイコンを追加します。 <span class="guilabel">「アップグレード」</span>操作を使用して、新しい製品バージョンをインストールします。 
          </p><p>
            <span class="guilabel">Catalog</span> リンクを使用して、新しいカタログをダウンロードせずに各製品の現在の変更履歴を表示することもできます。 変更履歴のみを表示するには、<span class="guilabel">「現時点では更新しない」</span>チェックボックスを選択します。 
          </p></li><li class="listitem"><p><a name="mysql-installer-about-icon"></a>
            MySQL Installer バージョン情報アイコン (<span class="inlinemediaobject"><img src="images/mi-question-mark-button.png" align="middle" width="18" height="18" alt="画像の説明が続きます。"><div class="longdesc-link" align="left"><span class="longdesc-link"><a href="ld-idm45548123052320.html">画像の説明</a></span></div></span>) には、MySQL Installer の現在のバージョンおよび MySQL に関する一般情報が表示されます。 バージョン番号は<span class="guibutton">戻る</span>ボタンの上にあります。 
          </p><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">ヒント</div><p>
              MySQL Installer の問題を報告する場合は、常にこのバージョン番号を含めてください。
            </p></div><p>
            MySQL 情報 (<span class="inlinemediaobject"><img src="images/mi-about-welcome-icon.png" align="middle" width="18" height="18" alt="画像の説明が続きます。"><div class="longdesc-link" align="left"><span class="longdesc-link"><a href="ld-idm45548123046560.html">画像の説明</a></span></div></span>) に加えて、サイドパネルから次のアイコンを選択することもできます:
          </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                MySQL Installer のライセンスアイコン (<span class="inlinemediaobject"><img src="images/mi-about-license-icon.png" align="middle" width="18" height="18" alt="画像の説明が続きます。"><div class="longdesc-link" align="left"><span class="longdesc-link"><a href="ld-idm45548123042112.html">画像の説明</a></span></div></span>)。
              </p><p>
                この製品には、ライセンスのもとで使用されるサードパーティ製ソフトウェアが含まれる場合があります。 MySQL Installer のコマーシャルリリースを使用している場合は、このコマーシャルリリースに含まれている可能性があるサードパーティソフトウェアに関連するライセンス情報など、ライセンス情報のための MySQL Installer Commercial ライセンス情報ユーザーマニュアル がアイコンによって開きます。 コミュニティリリースの MySQL Installer を使用している場合は、この Community リリースに含まれている可能性があるサードパーティソフトウェアに関連するライセンス情報を含む、ライセンス情報のための MySQL Installer Community ライセンス情報ユーザーマニュアル がアイコンによって開きます。 
              </p></li><li class="listitem"><p>
                最新の MySQL 製品ドキュメント、ブログ、web セミナーなどへのリソースリンクアイコン (<span class="inlinemediaobject"><img src="images/mi-about-links-icon.png" align="middle" width="18" height="18" alt="画像の説明が続きます。"><div class="longdesc-link" align="left"><span class="longdesc-link"><a href="ld-idm45548123035568.html">画像の説明</a></span></div></span>)。
              </p></li></ul></div></li><li class="listitem"><p><a name="mysql-installer-options-icon"></a>
            MySQL Installer オプションアイコン (<span class="inlinemediaobject"><img src="images/mi-tool-button.png" align="middle" width="18" height="18"></span>) には、次のタブがあります:
          </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                <span class="guilabel">製品カタログ</span>: カタログの自動更新を管理します。 デフォルトでは、MySQL Installer は起動時に 7 日ごとにカタログ更新をチェックします。 新しい製品または製品バージョンが使用可能な場合、MySQL Installer はそれらをカタログに追加し、ダッシュボードにリストされているインストール済製品のバージョン番号の横に矢印アイコン (<span class="inlinemediaobject"><img src="images/wb-icon-upgrade-arrow.png" align="middle" width="18" height="18"></span>) を挿入します。 
              </p><p>
                製品カタログオプションを使用して、自動更新を有効または無効にし、自動カタログダウンロード間の日数をリセットします。 起動時に、MySQL Installer は設定した日数を使用して、ダウンロードを試行するかどうかを決定します。 MySQL Installer でカタログのダウンロード中にエラーが発生した場合、このアクションは次回の起動時に繰り返されます。 
              </p></li><li class="listitem"><p>
                <span class="guilabel">接続設定</span>: MySQL Installer によって実行されるいくつかの操作には、インターネットアクセスが必要です。 このオプションを使用すると、デフォルト値を使用して接続を検証したり、別の URL(リストから選択した URL または手動で追加した URL) を使用できます。 <span class="guilabel">「手動」</span>オプションを選択すると、新しい URL を追加でき、リスト内のすべての URL を移動または削除できます。 <span class="guilabel">「自動」</span>オプションを選択すると、接続が確立されるまで、MySQL Installer はリスト内の各デフォルト URL に (順番に) 接続しようとします。 接続できない場合は、エラーが発生します。 
              </p></li></ul></div></li></ol></div></div><div class="simplesect"><div class="titlepage"><div><div><h5 class="title"><a name="locate-products"></a>インストールする製品の検索</h5></div></div></div><p>
        カタログ内の MySQL 製品はカテゴリ別にリストされます: MySQL Servers、アプリケーション、MySQL コネクタおよびドキュメント。 デフォルトでは、最新の GA バージョンのみが<span class="guilabel">「使用可能な製品」</span>ペインに表示されます。 製品のプレリリースまたは旧バージョンを探している場合は、デフォルトリストに表示されないことがあります。 
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
          製品カタログを最新の状態に保ちます。 MySQL Installer ダッシュボードで <span class="guilabel">Catalog</span> をクリックして、最新のマニフェストをダウンロードします。 
        </p></div><p>
        デフォルトの製品リストを変更するには、ダッシュボードで<span class="guilabel">「追加」</span>をクリックして「製品の選択」ページを開き、<span class="guibutton">編集</span>をクリックしてダイアログボックスを開きます (次の図を参照)。 設定を変更し、<span class="guibutton">フィルタ</span>をクリックします。 
      </p><div class="figure"><a name="mysql-installer-product-filter-fig"></a><p class="title"><b>図 2.12 使用可能な製品のフィルタ</b></p><div class="figure-contents"><div class="mediaobject"><img src="images/mi-product-filter.png" width="457" height="186" alt="テキスト、カテゴリ、満期、ダウンロード済およびアーキテクチャでフィルタします。"></div></div></div><br class="figure-break"><p>
        次のフィールドのいずれかまたは複数をリセットして、使用可能な製品のリストを変更します:
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            テキスト: テキストでフィルタします。
          </p></li><li class="listitem"><p>
            カテゴリ: すべてのソフトウェア (デフォルト)、MySQL Servers、アプリケーション、MySQL コネクタまたはドキュメント (サンプルおよびドキュメント用)。
          </p></li><li class="listitem"><p>
            満期: 現在のバンドル (最初はフルパッケージでのみ表示されます)、プレリリース、現在の GA またはその他のリリース。 警告が表示された場合は、MySQL Installer ダッシュボードで <span class="guilabel">Catalog</span> をクリックして、最新の製品マニフェストがあることを確認します。 MySQL Installer がマニフェストをダウンロードできない場合、表示される製品の範囲は、バンドル製品、<code class="filename">Product Cache</code> フォルダにあるスタンドアロン製品 MSI、またはその両方に限定されます。 
          </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
              リリース前成熟度フィルタを選択した場合、MySQL Installer の商用リリースには MySQL 製品は表示されません。 開発中の製品は、Community リリースの MySQL Installer からのみ入手できます。 
            </p></div></li><li class="listitem"><p>
            すでにダウンロードされています (チェックボックスはデフォルトで選択解除されています)。 ダウンロードした製品のみを表示および管理できます。 
          </p></li><li class="listitem"><p>
            アーキテクチャ: 任意 (デフォルト)、32 ビットまたは 64 ビット。
          </p></li></ul></div></div><div class="simplesect"><div class="titlepage"><div><div><h5 class="title"><a name="mysql-installer-upgrade-server"></a>MySQL Server のアップグレード</h5></div></div></div><p>
        重要なサーバーのアップグレード条件:
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            MySQL Installer では、メジャーリリースバージョン間またはマイナーリリースバージョン間のサーバーアップグレードは許可されませんが、5.7.18 から 5.7.19 へのアップグレードなど、リリースシリーズ内でのアップグレードは許可されます。
          </p></li><li class="listitem"><p>
            マイルストンリリース間 (またはマイルストンリリースから GA リリースへ) のアップグレードはサポートされていません。 マイルストンリリースでは大幅な開発変更が行われ、サーバーの起動時に互換性の問題や問題が発生する可能性があります。 
          </p></li><li class="listitem"><p>
            MySQL 8.0.16 サーバー以上へのアップグレードの場合、チェックボックスを使用すると、データディクショナリテーブルを通常どおりチェックおよび処理しながら、システムテーブルのアップグレードチェックおよびプロセスをスキップできます。MySQL Installer では、前回のサーバーアップグレードがスキップされたとき、またはサーバーがサンドボックス InnoDB クラスタ として構成されたときに、チェックボックスは表示されません。 この動作は、MySQL Server がアップグレードを実行する方法の変更を表し (<a class="xref" href="installing.html#upgrading-what-is-upgraded" title="2.11.3 MySQL のアップグレードプロセスの内容">セクション2.11.3「MySQL のアップグレードプロセスの内容」</a> を参照)、MySQL Installer が構成プロセスに適用する一連のステップを変更します。 
          </p><p>
            <span class="guilabel">「システムテーブルのアップグレードチェックおよびプロセスをスキップします。(非推奨)」</span>を選択すると、MySQL Installer によって、アップグレードされたサーバーが <code class="option">--upgrade=MINIMAL</code> サーバーオプションで起動され、データディクショナリのみがアップグレードされます。 <code class="option">--upgrade=MINIMAL</code> オプションを指定せずにサーバーを停止してから再起動すると、サーバーは必要に応じてシステムテーブルを自動的にアップグレードします。 
          </p><p>
            アップグレード構成 (システムテーブルをスキップ) が完了すると、<span class="guilabel">Log</span> タブおよびログファイルに次の情報が表示されます:
          </p><pre class="programlisting">WARNING: The system tables upgrade was skipped after upgrading MySQL Server. The 
server will be started now with the --upgrade=MINIMAL option, but then each 
time the server is started it will attempt to upgrade the system tables, unless 
you modify the Windows service (command line) to add --upgrade=MINIMAL to bypass 
the upgrade.

FOR THE BEST RESULTS: Run mysqld.exe --upgrade=FORCE on the command line to upgrade
the system tables manually.
</pre></li></ul></div><p>
        新しいサーバーバージョンを選択するには:
      </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
            <span class="guilabel">「アップグレード」</span>をクリックします。 <span class="guilabel">「アップグレード可能な製品」</span>ペインの製品名の横にあるチェックボックスにチェックマークが付いていることを確認します。 現時点ではアップグレードしない製品の選択を解除します。 
          </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
              同じリリースシリーズのサーバーマイルストンリリースの場合、MySQL Installer はサーバーのアップグレードの選択を解除し、アップグレードがサポートされていないことを示す警告を表示し、続行のリスクを識別して、論理アップグレードを手動で実行するステップのサマリーを提供します。 サーバーのアップグレードは、独自のリスクで再選択できます。 マイルストンリリースで論理アップグレードを実行する手順は、<a class="xref" href="installing.html#upgrade-procedure-logical" title="論理アップグレード">論理アップグレード</a> を参照してください。 
            </p></div></li><li class="listitem"><p>
            リスト内の製品をクリックして強調表示します。 このアクションにより、選択した製品で使用可能な各バージョンの詳細が<span class="guilabel">「アップグレード可能なバージョン」</span>ペインに移入されます: バージョン番号、公開日、およびそのバージョンのリリースノートを開くための <code class="literal">Changes</code> リンク。 
          </p></li></ol></div></div><div class="simplesect"><div class="titlepage"><div><div><h5 class="title"><a name="mysql-installer-remove-server"></a>MySQL Server の削除</h5></div></div></div><p>
        ローカル MySQL サーバーを削除するには:
      </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
            ローカルデータディレクトリを削除するかどうかを決定します。 データディレクトリを保持している場合、別のサーバーインストールでデータを再利用できます。 このオプションはデフォルトで有効になっています (データディレクトリを削除します)。 
          </p></li><li class="listitem"><p>
            <span class="guibutton"> Execute </span>をクリックして、ローカルサーバーのアンインストールを開始します。 削除対象として選択したすべての製品もこの時点でアンインストールされることに注意してください。 
          </p></li><li class="listitem"><p>
            (オプション)<span class="guilabel">Log</span> タブをクリックして、MySQL Installer によって実行された現在のアクションを表示します。
          </p></li></ol></div></div><div class="simplesect"><div class="titlepage"><div><div><h5 class="title"><a name="upgrade-mysql-installer"></a>MySQL Installer のアップグレード</h5></div></div></div><p>
        MySQL Installer はコンピュータにインストールされたままであり、他のソフトウェアと同様に、以前のバージョンからアップグレードできます。 場合によっては、互換性のために他の MySQL ソフトウェアで MySQL Installer のアップグレードが必要になることがあります。 このセクションでは、現在のバージョンの MySQL Installer を識別する方法と、MySQL Installer を手動でアップグレードする方法について説明します。 
      </p><p>
        <span class="strong"><strong>インストールされている MySQL Installer のバージョンを検索するには:</strong></span>
      </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
            検索メニューから MySQL Installer を起動します。 MySQL Installer ダッシュボードが開きます。 
          </p></li><li class="listitem"><p>
            MySQL Installer バージョン情報アイコン (<span class="inlinemediaobject"><img src="images/mi-question-mark-button.png" align="middle" width="18" height="18" alt="画像の説明が続きます。"><div class="longdesc-link" align="left"><span class="longdesc-link"><a href="ld-idm45548122956288.html">画像の説明</a></span></div></span>) をクリックします。 バージョン番号は<span class="guibutton">戻る</span>ボタンの上にあります。 
          </p></li></ol></div><p>
        <span class="strong"><strong> MySQL Installer のオンデマンドアップグレードを開始するには:</strong></span>
      </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
            MySQL Installer がインストールされているコンピュータをインターネットに接続します。
          </p></li><li class="listitem"><p>
            検索メニューから MySQL Installer を起動します。 MySQL Installer ダッシュボードが開きます。 
          </p></li><li class="listitem"><p>
            ダッシュボード下部の <span class="guilabel">Catalog</span> をクリックして、カタログの更新ウィンドウを開きます。
          </p></li><li class="listitem"><p>
            <span class="guibutton"> Execute </span>をクリックしてプロセスを開始します。 インストールされているバージョンの MySQL Installer をアップグレードできる場合は、アップグレードを開始するように求められます。 
          </p></li><li class="listitem"><p>
            <span class="guibutton">次へ</span>をクリックしてカタログに対するすべての変更を確認し、<span class="guibutton">終了</span>をクリックしてダッシュボードに戻ります。
          </p></li><li class="listitem"><p>
            (新しい) インストール済バージョンの MySQL Installer を確認します (前の手順を参照)。
          </p></li></ol></div></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="MySQLInstallerConsole"></a>2.3.3.5 MySQLInstallerConsole リファレンス</h4></div></div></div><a class="indexterm" name="idm45548122939328"></a><a class="indexterm" name="idm45548122938016"></a><a class="indexterm" name="idm45548122936576"></a><a class="indexterm" name="idm45548122934544"></a><p>
      <span class="command"><strong>MySQLInstallerConsole.exe</strong></span> には、MySQL Installer と同様のコマンドライン機能が用意されています。 これは、MySQL Installer が最初に実行されたときにインストールされ、<code class="filename">MySQL Installer for Windows</code> ディレクトリ内で使用できます。 デフォルトでは、<code class="filename">C:\Program Files (x86)\MySQL\MySQL Installer for Windows</code> にあり、コンソールは管理権限で実行する必要があります。 
    </p><p>
      使用するには、<span class="guimenu">Start</span>、<span class="guimenu">「アクセサリ」</span>を選択してコマンドプロンプトを起動し、<span class="guimenu">「コマンドプロンプト」</span>を右クリックして <code class="literal">Run as administrator</code> を選択します。 また、コマンドラインから、オプションで <span class="command"><strong>MySQLInstallerConsole.exe</strong></span> が配置されているディレクトリに変更します: 
    </p><pre class="programlisting">C:\&gt; <strong class="userinput"><code>cd Program Files (x86)\MySQL\MySQL Installer for Windows</code></strong>
C:\Program Files (x86)\MySQL\MySQL Installer for Windows&gt; <strong class="userinput"><code>MySQLInstallerConsole.exe help</code></strong>
=================== Start Initialization ===================
MySQL Installer is running in Community mode

Attempting to update manifest.
Initializing product requirements
Loading product catalog
Checking for product catalog snippets
Checking for product packages in the bundle
Categorizing product catalog
Finding all installed packages.
Your product catalog was last updated at 11/1/2016 4:10:38 PM
=================== End Initialization ===================

The following commands are available:

Configure - Configures one or more of your installed programs.
Help      - Provides list of available commands.
Install   - Install and configure one or more available MySQL programs.
List      - Provides an interactive way to list all products available.
Modify    - Modifies the features of installed products.
Remove    - Removes one or more products from your system.
Status    - Shows the status of all installed products.
Update    - Update the current product catalog.
Upgrade   - Upgrades one or more of your installed programs.
</pre><div class="simplesect"><div class="titlepage"><div><div><h5 class="title"><a name="mi-console-product-names"></a>MySQL 製品名</h5></div></div></div><p>
        <code class="literal">MySQLInstallerConsole</code> コマンドの多くは、カタログ内の MySQL 製品を表すキーワードを受け入れます。 次のテーブルに、コマンドで使用できる有効なキーワードの現在のセットを示します。 
      </p><div class="table"><a name="mi-console-product-keywords"></a><p class="title"><b>表 2.6 MySQLInstallerConsole 用の MySQL 製品キーワード</b></p><div class="table-contents"><table><col style="width: 50%"><col style="width: 50%"><thead><tr>
            <th scope="col">キーワード</th>
            <th scope="col">MySQL 製品</th>
          </tr></thead><tr>
          <td><code class="literal">server</code></td>
          <td>MySQL Server</td>
        </tr><tr>
          <td><code class="literal">workbench</code></td>
          <td>MySQL Workbench</td>
        </tr><tr>
          <td><code class="literal">shell</code></td>
          <td>MySQL Shell</td>
        </tr><tr>
          <td><code class="literal">visual</code></td>
          <td>MySQL for Visual Studio</td>
        </tr><tr>
          <td><code class="literal">router</code></td>
          <td>MySQL Router</td>
        </tr><tr>
          <td><code class="literal">バックアップ</code></td>
          <td>MySQL Enterprise Backup</td>
        </tr><tr>
          <td><code class="literal">net</code></td>
          <td>MySQL Connector/NET</td>
        </tr><tr>
          <td><code class="literal">odbc</code></td>
          <td>MySQL Connector/ODBC</td>
        </tr><tr>
          <td><code class="literal">c++</code></td>
          <td>MySQL Connector/C++</td>
        </tr><tr>
          <td><code class="literal">python</code></td>
          <td>MySQL Connector/Python</td>
        </tr><tr>
          <td><code class="literal">j</code></td>
          <td>MySQL Connector/J</td>
        </tr><tr>
          <td><code class="literal">documentation</code></td>
          <td>MySQL Server ドキュメント</td>
        </tr><tr>
          <td><code class="literal">samples</code></td>
          <td>MySQL サンプル (sakila および world データベース)</td>
        </tr></table></div></div><br class="table-break"></div><div class="simplesect"><div class="titlepage"><div><div><h5 class="title"><a name="mi-console-commands"></a><code class="literal">MySQLInstallerConsole</code> コマンドオプション</h5></div></div></div><p>
        <span class="command"><strong>MySQLInstallerConsole.exe</strong></span> は、次のコマンドオプションをサポートしています:
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
          コロン文字 (<code class="literal">:</code>) を含む構成ブロック値は、引用符で囲む必要があります。 たとえば、<code class="literal">installdir="C:\MySQL\MySQL Server 8.0"</code>です。 
        </p></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="MySQLInstallerConsole-configure"></a>
            <code class="literal">configure [<em class="replaceable"><code>product1</code></em>]:[<em class="replaceable"><code>setting</code></em>]=[<em class="replaceable"><code>value</code></em>]; [<em class="replaceable"><code>product2</code></em>]:[<em class="replaceable"><code>setting</code></em>]=[<em class="replaceable"><code>value</code></em>]; [<em class="replaceable"><code>...</code></em>]</code>
          </p><a class="indexterm" name="idm45548122868224"></a><a class="indexterm" name="idm45548122866064"></a><p>
            システムに 1 つ以上の MySQL 製品を構成します。 製品ごとに複数の setting=value ペアを構成できます。 
          </p><p>
            次のようなスイッチがあります。
          </p><div class="variablelist"><dl class="variablelist"><dt><span class="term"> <code class="literal">-showsettings</code> </span></dt><dd><p>
                  <code class="literal">-showsettings</code> の後に製品名を渡して、選択した製品に使用可能なオプションを表示します。
                </p></dd></dl></div><div class="variablelist"><dl class="variablelist"><dt><span class="term"> <code class="literal">-silent</code> </span></dt><dd><p>
                  確認プロンプトを無効にします。
                </p></dd></dl></div><pre class="programlisting">C:\&gt; <strong class="userinput"><code>MySQLInstallerConsole configure -showsettings server</code></strong>
C:\&gt; <strong class="userinput"><code>MySQLInstallerConsole configure server:port=3307</code></strong>
</pre></li><li class="listitem"><p><a name="MySQLInstallerConsole-help"></a>
            <code class="literal">help <em class="replaceable"><code>[command]</code></em></code>
          </p><a class="indexterm" name="idm45548122851856"></a><a class="indexterm" name="idm45548122849728"></a><p>
            使用例を含むヘルプメッセージを表示して終了します。 コマンドに固有のヘルプを受信するには、そのコマンドを渡します。 
          </p><pre class="programlisting">C:\&gt; <strong class="userinput"><code>MySQLInstallerConsole help</code></strong>
C:\&gt; <strong class="userinput"><code>MySQLInstallerConsole help install</code></strong>
</pre></li><li class="listitem"><p><a name="MySQLInstallerConsole-install"></a>
            <code class="literal">install [<em class="replaceable"><code>product</code></em>]:[<em class="replaceable"><code>features</code></em>]:[<em class="replaceable"><code>config block</code></em>]:[<em class="replaceable"><code>config block</code></em>]:[<em class="replaceable"><code>config block</code></em>]; [<em class="replaceable"><code>...</code></em>]</code>
          </p><a class="indexterm" name="idm45548122840144"></a><a class="indexterm" name="idm45548122838016"></a><p>
            システムに MySQL 製品をインストールします。 プレリリース製品が使用可能な場合、<code class="literal">-type</code> スイッチの値が <code class="literal">Developer</code>、<code class="literal">Client</code> または <code class="literal">Full</code> のときに GA 製品とプレリリース製品の両方がインストールされます。 これらの設定タイプを使用する場合にのみ、<code class="literal">-only_ga_products</code> スイッチを使用して製品セットを GA 製品に制限します。 
          </p><p>
            次のようなスイッチと構文オプションがあります。
          </p><div class="variablelist"><dl class="variablelist"><dt><span class="term"> <code class="literal">-only_ga_products</code> </span></dt><dd><p>
                  GA 製品のみを含むように製品セットを制限します。
                </p></dd></dl></div><div class="variablelist"><dl class="variablelist"><dt><span class="term"> <code class="literal">-type=[<em class="replaceable"><code>SetupType</code></em>]</code> </span></dt><dd><p>
                  事前定義済のソフトウェアセットをインストールします。 設定タイプは次のいずれかです: 
                </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                      <code class="literal">Developer</code>: 完全な開発環境をインストールします。
                    </p></li><li class="listitem"><p>
                      <code class="literal">Server</code>: 単一の MySQL Server をインストールします。
                    </p></li><li class="listitem"><p>
                      <code class="literal">Client</code>: クライアントプログラムとライブラリをインストールします。
                    </p></li><li class="listitem"><p>
                      <code class="literal">Full</code>: すべてをインストールします。
                    </p></li><li class="listitem"><p>
                      <code class="literal">Custom</code>: ユーザーが選択した製品をインストールします。 これはデフォルトのオプションです。 
                    </p></li></ul></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
                    カスタム以外の設定タイプは、他の MySQL 製品がインストールされていない場合にのみ有効です。
                  </p></div></dd></dl></div><div class="variablelist"><dl class="variablelist"><dt><span class="term"> <code class="literal">-showsettings</code> </span></dt><dd><p>
                  <code class="literal">-showsettings</code> の後に製品名を渡して、選択した製品に使用可能なオプションを表示します。
                </p></dd></dl></div><div class="variablelist"><dl class="variablelist"><dt><span class="term"> <code class="literal">-silent</code> </span></dt><dd><p>
                  確認プロンプトを無効にします。
                </p></dd></dl></div><div class="variablelist"><dl class="variablelist"><dt><span class="term"> <code class="literal">[<em class="replaceable"><code>product</code></em>]</code> </span></dt><dd><p>
                  各製品は、セミコロン区切りのバージョン修飾子を使用するかどうかにかかわらず、<a class="link" href="installing.html#mi-console-product-keywords" title="表 2.6 MySQLInstallerConsole 用の MySQL 製品キーワード">product keyword</a> で指定できます。 プロダクトキーワードだけを渡すと、プロダクトの最新バージョンが選択されます。 そのバージョンの製品で複数のアーキテクチャーが使用可能な場合、このコマンドは対話型の確認のためにマニフェストリストの最初のアーキテクチャーを返します。 または、<code class="literal">-silent</code> スイッチを使用して、product キーワードの後に正確なバージョンおよびアーキテクチャ <code class="literal">(x86</code> または <code class="literal">x64</code>) を渡すこともできます。 
                </p></dd></dl></div><div class="variablelist"><dl class="variablelist"><dt><span class="term"> <code class="literal">[<em class="replaceable"><code>features</code></em>]</code> </span></dt><dd><p>
                  MySQL 製品に関連付けられたすべての機能は、デフォルトでインストールされます。 機能ブロックは、機能のセミコロン区切りリストまたはすべての機能を選択するアスタリスク文字 (<code class="literal">*</code>) です。 機能を削除するには、<code class="literal">modify</code> コマンドを使用します。 
                </p></dd></dl></div><div class="variablelist"><dl class="variablelist"><dt><span class="term"> <code class="literal">[<em class="replaceable"><code>config block</code></em>]</code> </span></dt><dd><p>
                  1 つ以上の構成ブロックを指定できます。 各構成ブロックは、セミコロンで区切られたキーと値のペアのリストです。 ブロックには、<code class="literal">config</code> タイプキーまたは <code class="literal">user</code> タイプキーを含めることができます。定義されていない場合は、<code class="literal">config</code> がデフォルトタイプです。 
                </p><p>
                  コロン文字 (<code class="literal">:</code>) を含む構成ブロック値は、引用符で囲む必要があります。 たとえば、<code class="literal">installdir="C:\MySQL\MySQL Server 8.0"</code>です。 製品ごとに定義できる構成タイプブロックは 1 つのみです。 ユーザーブロックは、製品のインストール時に作成されるユーザーごとに定義する必要があります。 
                </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
                    <code class="literal">user</code> タイプキーは、製品の再構成時にはサポートされません。
                  </p></div></dd></dl></div><pre class="programlisting">C:\&gt; <strong class="userinput"><code>MySQLInstallerConsole install server;5.6.25:*:port=3307;serverid=2:type=user;username=foo;password=bar;role=DBManager</code></strong>
C:\&gt; <strong class="userinput"><code>MySQLInstallerConsole install server;5.6.25;x64 -silent</code></strong>
</pre><p>
            <code class="literal">^</code> で区切られた追加の構成ブロックを適合させる例を次に示します:
          </p><pre class="programlisting">C:\&gt; <strong class="userinput"><code>MySQLInstallerConsole install server;5.6.25;x64:*:type=config;openfirewall=true; ^
          generallog=true;binlog=true;serverid=3306;enable_tcpip=true;port=3306;rootpasswd=pass; ^
          installdir="C:\MySQL\MySQL Server 5.6":type=user;datadir="C:\MySQL\data";username=foo;password=bar;role=DBManager</code></strong>
</pre></li><li class="listitem"><p><a name="MySQLInstallerConsole-list"></a>
            <code class="literal">リスト</code>
          </p><a class="indexterm" name="idm45548122778384"></a><a class="indexterm" name="idm45548122776256"></a><p>
            利用可能なすべての MySQL 製品を検索できるインタラクティブなコンソールをリストします。 <code class="literal">MySQLInstallerConsole list</code> を実行してコンソールを起動し、検索する部分文字列を入力します。 
          </p><pre class="programlisting">C:\&gt; <strong class="userinput"><code>MySQLInstallerConsole list</code></strong>
</pre></li><li class="listitem"><p><a name="MySQLInstallerConsole-modify"></a>
            <code class="literal">modify [<em class="replaceable"><code>product1</code></em>:-<em class="replaceable"><code>removelist</code></em>|+<em class="replaceable"><code>addlist</code></em>] [<em class="replaceable"><code>product2</code></em>:-<em class="replaceable"><code>removelist</code></em>|+<em class="replaceable"><code>addlist</code></em>] [<em class="replaceable"><code>...</code></em>]</code>
          </p><a class="indexterm" name="idm45548122766208"></a><a class="indexterm" name="idm45548122764032"></a><p>
            以前にインストールされた MySQL 製品の機能を変更または表示します。 製品の機能を表示するには、コマンドに product キーワードを追加します。次に例を示します: 
          </p><pre class="programlisting">C:\&gt; <strong class="userinput"><code>MySQLInstallerConsole modify server</code></strong>
</pre><p>
            このコマンドの構文オプション:
          </p><div class="variablelist"><dl class="variablelist"><dt><span class="term"> <code class="literal">-silent</code> </span></dt><dd><p>
                  確認プロンプトを無効にします。
                </p></dd></dl></div><pre class="programlisting">C:\&gt; <strong class="userinput"><code>MySQLInstallerConsole modify server:+documentation</code></strong>
C:\&gt; <strong class="userinput"><code>MySQLInstallerConsole modify server:-debug</code></strong>
</pre></li><li class="listitem"><p><a name="MySQLInstallerConsole-remove"></a>
            <code class="literal">remove [<em class="replaceable"><code>product1</code></em>] [<em class="replaceable"><code>product2</code></em>] [<em class="replaceable"><code>...</code></em>]</code>
          </p><a class="indexterm" name="idm45548122750880"></a><a class="indexterm" name="idm45548122748704"></a><p>
            システム上から 1 つまたは複数の製品を削除します。 次のようなスイッチと構文オプションがあります。 
          </p><div class="variablelist"><dl class="variablelist"><dt><span class="term"> <code class="literal">*</code> </span></dt><dd><p>
                  <code class="literal">*</code> を渡して、すべての MySQL 製品を削除します。
                </p></dd></dl></div><div class="variablelist"><dl class="variablelist"><dt><span class="term"> <code class="literal">-continue</code> </span></dt><dd><p>
                  エラーが発生した場合でも操作を続行します。
                </p></dd></dl></div><div class="variablelist"><dl class="variablelist"><dt><span class="term"> <code class="literal">-silent</code> </span></dt><dd><p>
                  確認プロンプトを無効にします。
                </p></dd></dl></div><pre class="programlisting">C:\&gt; <strong class="userinput"><code>MySQLInstallerConsole remove *</code></strong>
C:\&gt; <strong class="userinput"><code>MySQLInstallerConsole remove server</code></strong>
</pre></li><li class="listitem"><p><a name="MySQLInstallerConsole-status"></a>
            <code class="literal">status</code>
          </p><a class="indexterm" name="idm45548122732704"></a><a class="indexterm" name="idm45548122730576"></a><p>
            システムにインストールされている MySQL 製品の簡単な概要を提供します。 情報には、製品名とバージョン、アーキテクチャー、インストール日、およびインストールの場所が含まれます。 
          </p><pre class="programlisting">C:\&gt; <strong class="userinput"><code>MySQLInstallerConsole status</code></strong>
</pre></li><li class="listitem"><p><a name="MySQLInstallerConsole-update"></a>
            <code class="literal">update</code>
          </p><a class="indexterm" name="idm45548122724048"></a><a class="indexterm" name="idm45548122721936"></a><p>
            最新の MySQL 製品カタログをシステムにダウンロードします。 成功すると、次回 <code class="literal">MySQLInstaller</code> または <code class="literal">MySQLInstallerConsole</code> が実行されたときにカタログが適用されます。 
          </p><pre class="programlisting">C:\&gt; <strong class="userinput"><code>MySQLInstallerConsole update</code></strong>
</pre><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
              <span class="guilabel">「Automatic Catalog Update」</span> GUI オプションはこのコマンドを Windows のタスクスケジューラから実行します。
            </p></div></li><li class="listitem"><p><a name="MySQLInstallerConsole-upgrade"></a>
            <code class="literal">upgrade [<em class="replaceable"><code>product1</code></em>:<em class="replaceable"><code>version</code></em>] [<em class="replaceable"><code>product2</code></em>:<em class="replaceable"><code>version</code></em>] [<em class="replaceable"><code>...</code></em>]</code>
          </p><a class="indexterm" name="idm45548122710320"></a><a class="indexterm" name="idm45548122708192"></a><p>
            システム上の 1 つまたは複数の製品をアップグレードします。 次のような構文オプションがあります。 
          </p><div class="variablelist"><dl class="variablelist"><dt><span class="term"> <code class="literal">*</code> </span></dt><dd><p>
                  <code class="literal">*</code> を渡してすべての製品を最新バージョンにアップグレードするか、特定の製品を渡します。
                </p></dd></dl></div><div class="variablelist"><dl class="variablelist"><dt><span class="term"> <code class="literal">!</code> </span></dt><dd><p>
                  MySQL 製品を最新バージョンにアップグレードするには、バージョン番号として <code class="literal">!</code> を渡します。
                </p></dd></dl></div><div class="variablelist"><dl class="variablelist"><dt><span class="term"> <code class="literal">-silent</code> </span></dt><dd><p>
                  確認プロンプトを無効にします。
                </p></dd></dl></div><pre class="programlisting">C:\&gt; <strong class="userinput"><code>MySQLInstallerConsole upgrade *</code></strong>
C:\&gt; <strong class="userinput"><code>MySQLInstallerConsole upgrade workbench:8.0.21</code></strong>
C:\&gt; <strong class="userinput"><code>MySQLInstallerConsole upgrade workbench:!</code></strong>
C:\&gt; <strong class="userinput"><code>MySQLInstallerConsole upgrade workbench:8.0.21 visual:1.2.9</code></strong>
</pre></li></ul></div></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="windows-install-archive"></a>2.3.4 <code class="literal">noinstall</code> ZIP アーカイブを使用した Microsoft Windows への MySQL のインストール</h3></div></div></div><div class="toc"><dl class="toc"><dt><span class="section"><a href="installing.html#windows-extract-archive">2.3.4.1 インストールアーカイブを抽出する</a></span></dt><dt><span class="section"><a href="installing.html#windows-create-option-file">2.3.4.2 オプションファイルの作成</a></span></dt><dt><span class="section"><a href="installing.html#windows-select-server">2.3.4.3 MySQL サーバータイプの選択</a></span></dt><dt><span class="section"><a href="installing.html#windows-initialize-data-directory">2.3.4.4 データディレクトリの初期化</a></span></dt><dt><span class="section"><a href="installing.html#windows-server-first-start">2.3.4.5 サーバーをはじめて起動する</a></span></dt><dt><span class="section"><a href="installing.html#windows-start-command-line">2.3.4.6 Windows のコマンド行からの MySQL の起動</a></span></dt><dt><span class="section"><a href="installing.html#mysql-installation-windows-path">2.3.4.7 MySQL ツールの PATH をカスタマイズする</a></span></dt><dt><span class="section"><a href="installing.html#windows-start-service">2.3.4.8 Windows のサービスとして MySQL を起動する</a></span></dt><dt><span class="section"><a href="installing.html#windows-testing">2.3.4.9 MySQL インストールのテスト</a></span></dt></dl></div><p>
      <code class="literal">非インストール</code>パッケージからインストールするユーザーは、このセクションの説明に従って手動で MySQL をインストールできます。 ZIP アーカイブパッケージから MySQL をインストールするプロセスは次のとおりです: 
    </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
          メインアーカイブを目的のインストールディレクトリに抽出
        </p><p>
          <span class="emphasis"><em>オプション</em></span>: MySQL ベンチマークおよびテストスイートを実行する予定の場合は、デバッグテストアーカイブも抽出
        </p></li><li class="listitem"><p>
          オプションファイルを作成する
        </p></li><li class="listitem"><p>
          MySQL のサーバータイプを選択する
        </p></li><li class="listitem"><p>
          MySQL の初期化
        </p></li><li class="listitem"><p>
          MySQL Server を起動する
        </p></li><li class="listitem"><p>
          デフォルトのユーザーアカウントをセキュアにする
        </p></li></ol></div><p>
      この手順はこのあとのセクションで説明します。
    </p><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="windows-extract-archive"></a>2.3.4.1 インストールアーカイブを抽出する</h4></div></div></div><p>
        MySQL を手動でインストールするには、次の手順に従います。
      </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
            以前のバージョンからアップグレードする場合にはアップグレードの手順を始める前に <a class="xref" href="installing.html#windows-upgrading" title="2.11.10 Windows 上の MySQL をアップグレードする">セクション2.11.10「Windows 上の MySQL をアップグレードする」</a> を参照してください。
          </p></li><li class="listitem"><p>
            管理者権限を持つユーザーとしてログインしていることを確認します。
          </p></li><li class="listitem"><p>
            インストールの場所を選択します。 通常、MySQL Server は <code class="filename">C:\mysql</code> にインストールされます。 MySQL を <code class="filename">C:\mysql</code> にインストールしない場合、起動時あるいはオプションファイルでインストールディレクトリへのパスを指定する必要があります。 <a class="xref" href="installing.html#windows-create-option-file" title="2.3.4.2 オプションファイルの作成">セクション2.3.4.2「オプションファイルの作成」</a> を参照してください。 
          </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
              MySQL Installer が MySQL を <code class="filename">C:\Program Files\MySQL</code> にインストールします。
            </p></div></li><li class="listitem"><p>
            優先ファイル圧縮ツールを使用して、選択したインストール場所にインストールアーカイブを抽出します。 ツールによっては、選択したインストール場所のフォルダにアーカイブを抽出します。 その場合、そのサブフォルダの内容を、選択したインストール場所に移動します。 
          </p></li></ol></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="windows-create-option-file"></a>2.3.4.2 オプションファイルの作成</h4></div></div></div><p>
        サーバーの起動時にスタートアップオプションを指定する必要がある場合には、それらをコマンド行で指示するかオプションファイルに配置します。 サーバーの起動時に常に使用するオプションは、オプションファイルを使用して MySQL の構成を指定すると非常に便利です。 これは次の状況に特に当てはまります。 
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            インストールまたはデータディレクトリの場所が、デフォルトの場所 (<code class="filename">C:\Program Files\MySQL\MySQL Server 8.0</code> および <code class="filename">C:\Program Files\MySQL\MySQL Server 8.0\data</code>) とは異なり場合。
          </p></li><li class="listitem"><p>
            メモリー、キャッシュ、InnoDB 構成情報などのサーバー設定を調整する必要がある場合。
          </p></li></ul></div><p>
        MySQL Server が Windows 上で起動する際、Windows ディレクトリ <code class="filename">C:\</code>、および MySQL インストールディレクトリなど、いくつかの場所にあるオプションファイルを検索します (場所の完全なリストについては、<a class="xref" href="programs.html#option-files" title="4.2.2.2 オプションファイルの使用">セクション4.2.2.2「オプションファイルの使用」</a> を参照してください)。 通常、Windows ディレクトリの名前は、<code class="filename">C:\WINDOWS</code> のようになります。 次のコマンドを使用して <code class="literal">WINDIR</code> 環境変数の値から正確な場所を割り出すことができます。 
      </p><pre class="programlisting">C:\&gt; <strong class="userinput"><code>echo %WINDIR%</code></strong>
</pre><p>
        MySQL は、各場所の <code class="filename">my.ini</code> ファイル内のオプションを最初に検索し、次に <code class="filename">my.cnf</code> ファイルを調べます。 ただし、混乱を避けるためにはファイルを 1 つだけ使用するのが最善です。 お客様の PC が、<code class="filename">C:</code> がブートドライブではないブートローダーを使用している場合、<code class="filename">my.ini</code> ファイルしか使用できません。 どちらのオプションファイルを使用するにしろ、プレーンテキストファイルでなければなりません。 
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
          MySQL Installer を使用して MySQL Server をインストールすると、<code class="filename">my.ini</code> がデフォルトの場所に作成され、MySQL Installer を実行しているユーザーには、この新しい <code class="filename">my.ini</code> ファイルに対する完全な権限が付与されます。
        </p><p>
          つまり、必ず MySQL Server ユーザーが <code class="filename">my.ini</code> ファイルを読み取る権限があるようにしてください。
        </p></div><p>
        MySQL 配布に含まれている参考例のオプションファイルを使用することもできます。詳細は <a class="xref" href="server-administration.html#server-configuration-defaults" title="5.1.2 サーバー構成のデフォルト値">セクション5.1.2「サーバー構成のデフォルト値」</a> を参照してください。
      </p><p>
        オプションファイルは、ノートパッドなどのテキストエディタで作成および変更ができます。 たとえば、MySQL を <code class="filename">E:\mysql</code> にインストールし、データディレクトリが <code class="filename">E:\mydata\data</code> にある場合は、<code class="literal">[mysqld]</code> セクションを含むオプションファイルを作成して、<code class="option">basedir</code> および <code class="option">datadir</code> オプションの値を指定できます。 
      </p><pre class="programlisting">[mysqld]
# set basedir to your installation path
basedir=E:/mysql
# set datadir to the location of your data directory
datadir=E:/mydata/data
</pre><p>
        Microsoft Windows のパス名は、オプションファイル内でバックスラッシュではなく (フォワード) スラッシュを使用して指定されます。 バックスラッシュを使用する場合は、2 つ使用します。 
      </p><pre class="programlisting">[mysqld]
# set basedir to your installation path
basedir=E:\\mysql
# set datadir to the location of your data directory
datadir=E:\\mydata\\data
</pre><p>
        オプションファイル値でのバックスラッシュの使用に関するルールは <a class="xref" href="programs.html#option-files" title="4.2.2.2 オプションファイルの使用">セクション4.2.2.2「オプションファイルの使用」</a> にあります。
      </p><p>
        ZIP アーカイブには、<code class="filename">data</code> ディレクトリは含まれません。 データディレクトリを作成し、mysql システムデータベースにテーブルを移入して MySQL インストールを初期化するには、<code class="option">--initialize</code> または <code class="option">--initialize-insecure</code> のいずれかを使用して MySQL を初期化します。 追加情報については <a class="xref" href="installing.html#data-directory-initialization" title="2.10.1 データディレクトリの初期化">セクション2.10.1「データディレクトリの初期化」</a>を参照してください。 
      </p><p>
        データディレクトリを異なる場所で使用したい場合、<code class="filename">data</code> ディレクトリの内容全体を新しい場所にコピーしてください。 たとえば、代わりに <code class="filename">E:\mydata</code> をデータディレクトリとして使用する場合は、次の 2 つのことを行う必要があります。 
      </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
            <code class="filename">data</code> ディレクトリおよびその内容すべてを、デフォルトの場所 (<code class="filename">C:\Program Files\MySQL\MySQL Server 8.0\data</code> など) から <code class="filename">E:\mydata</code> に移動します。
          </p></li><li class="listitem"><p>
            サーバーの起動時に常に新しいデータディレクトリの場所を指定するには <code class="option">--datadir</code> オプションを使用します。
          </p></li></ol></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="windows-select-server"></a>2.3.4.3 MySQL サーバータイプの選択</h4></div></div></div><p>
        次の表は、Windows で使用できる MySQL 8.0 のサーバーを示しています。
      </p><div class="informaltable"><table summary="Servers available for Windows in MySQL 8.0."><col style="width: 20%"><col style="width: 80%"><thead><tr>
            <th>バイナリ</th>
            <th>説明</th>
          </tr></thead><tbody><tr>
            <td><span class="command"><strong>mysqld</strong></span></td>
            <td>名前付きパイプのサポートがある最適化バイナリ</td>
          </tr><tr>
            <td><span class="command"><strong>mysqld-debug</strong></span></td>
            <td><span class="command"><strong>mysqld</strong></span> と同様ですが、完全なデバッグと自動メモリー割り当ての確認を行なってコンパイルされています</td>
          </tr></tbody></table></div><p>
        以前のバイナリはすべて最新の Intel プロセッサに最適化されていますが、Intel i386 クラスあるいはそれ以上のプロセッサで動作するはずです。
      </p><p>
        配布内の各サーバーは、同じストレージエンジンセットをサポートします。 <code class="literal">SHOW ENGINES</code> ステートメントは、指定されたサーバーがサポートするエンジンを表示します。 
      </p><p>
        すべての Windows MySQL 8.0 Server は、データベースディレクトリのシンボリックリンクをサポートします。
      </p><a class="indexterm" name="idm45548122607584"></a><a class="indexterm" name="idm45548122606240"></a><p>
        MySQL はすべての Windows プラットフォームで TCP/IP をサポートしています。 <code class="literal">named_pipe</code> システム変数を有効にしてサーバーを起動した場合、Windows 上の MySQL サーバーでは名前付きパイプもサポートされます。 名前付きパイプの使用時に MySQL サーバーの停止で問題が発生したユーザーがいるため、この変数を明示的に有効にする必要があります。 多くの Windows 構成において、名前付きパイプは TCP/IP より遅いため、デフォルトではプラットフォームにかかわらず TCP/IP が使用されます。 
      </p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="windows-initialize-data-directory"></a>2.3.4.4 データディレクトリの初期化</h4></div></div></div><p>
        <code class="literal">noinstall</code> パッケージを使用して MySQL をインストールした場合、データディレクトリは含まれません。 データディレクトリを初期化するには、<a class="xref" href="installing.html#data-directory-initialization" title="2.10.1 データディレクトリの初期化">セクション2.10.1「データディレクトリの初期化」</a> の手順を使用します。 
      </p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="windows-server-first-start"></a>2.3.4.5 サーバーをはじめて起動する</h4></div></div></div><p>
        このセクションでは MySQL サーバーの起動に関する一般的な概要を説明します。 次の数セクションでは、MySQL サーバーのコマンド行あるいは Windows のサービスとしての起動に関して、より具体的な情報を提供します。 
      </p><p>
        ここでの情報は、主に <code class="literal">noinstall</code> バージョンを使用して MySQL をインストールした場合、または MySQL Installer ではなく MySQL を手動で構成およびテストする場合に適用されます。
      </p><p>
        これらのセクションの例では、MySQL がデフォルトの場所の <code class="filename">C:\Program Files\MySQL\MySQL Server 8.0</code> にインストールされていることを前提とします。 異なる場所に MySQL をインストールしている場合には例に示したパス名を調整してください。 
      </p><p>
        クライアントには 2 つのオプションがあります。 TCP/IP が使用でき、サーバーが名前付きパイプの接続をサポートしている場合には名前付きパイプも使用できます。 
      </p><p>
        MySQL for Windows では、サーバーが <code class="literal">shared_memory</code> システム変数を有効にして起動されている場合、共有メモリー接続もサポートされます。 クライアントは <code class="option">--protocol=MEMORY</code> オプションを使用して共有メモリーで接続できます。 
      </p><p>
        どのサーバーバイナリを実行するかについては、<a class="xref" href="installing.html#windows-select-server" title="2.3.4.3 MySQL サーバータイプの選択">セクション2.3.4.3「MySQL サーバータイプの選択」</a> を参照してください。
      </p><p>
        テストはコンソールウィンドウ (あるいは <span class="quote">「<span class="quote">DOS ウィンドウ</span>」</span>) のコマンドプロンプトで行います。 これにより、ウィンドウにサーバーのステータスに関するメッセージが表示されますので、容易に確認できます。 構成に何か問題があった場合には、これらのメッセージにより問題の特定と修正が容易になります。 
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
          MySQL を起動する前に、データベースを初期化する必要があります。 初期化プロセスの詳細は、<a class="xref" href="installing.html#data-directory-initialization" title="2.10.1 データディレクトリの初期化">セクション2.10.1「データディレクトリの初期化」</a> を参照してください。 
        </p></div><p>
        サーバーを起動するには、次のコマンドを入力します。
      </p><pre class="programlisting">C:\&gt; <strong class="userinput"><code>"C:\Program Files\MySQL\MySQL Server 8.0\bin\mysqld" --console</code></strong>
</pre><p>
        <code class="literal">InnoDB</code> サポートを含むサーバーでは、次のようなメッセージがサーバーの起動時に表示されます (パス名とサイズは異なる場合があります)。
      </p><pre class="programlisting">InnoDB: The first specified datafile c:\ibdata\ibdata1 did not exist:
InnoDB: a new database to be created!
InnoDB: Setting file c:\ibdata\ibdata1 size to 209715200
InnoDB: Database physically writes the file full: wait...
InnoDB: Log file c:\iblogs\ib_logfile0 did not exist: new to be created
InnoDB: Setting log file c:\iblogs\ib_logfile0 size to 31457280
InnoDB: Log file c:\iblogs\ib_logfile1 did not exist: new to be created
InnoDB: Setting log file c:\iblogs\ib_logfile1 size to 31457280
InnoDB: Log file c:\iblogs\ib_logfile2 did not exist: new to be created
InnoDB: Setting log file c:\iblogs\ib_logfile2 size to 31457280
InnoDB: Doublewrite buffer not found: creating new
InnoDB: Doublewrite buffer created
InnoDB: creating foreign key constraint system tables
InnoDB: foreign key constraint system tables created
011024 10:58:25  InnoDB: Started
</pre><p>
        サーバーが起動シーケンスを終了すると、次のようなメッセージが表示されます。このメッセージが表示されると、サーバーのクライアント接続の用意が整ったことを意味します。
      </p><pre class="programlisting">mysqld: ready for connections
Version: '8.0.25'  socket: ''  port: 3306
</pre><p>
        サーバーは、診断を生成して出力をコンソールに書き込み続けます。 クライアントプログラムを実行する新しいコンソールウィンドウを開くことができます。 
      </p><p>
        <code class="option">--console</code> オプションを省略すると、サーバーは診断の出力をデータディレクトリ (デフォルトでは <code class="filename">C:\Program Files\MySQL\MySQL Server 8.0\data</code>) のエラーログに出力します。 エラーログは、<code class="filename">.err</code> 拡張子の付いたファイルで、<code class="option">--log-error</code> オプションを使用して設定できます。 
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
          MySQL 付与テーブルの初期 <code class="literal">root</code> アカウントにはパスワードがありません。 サーバーの起動後、<a class="xref" href="installing.html#default-privileges" title="2.10.4 初期 MySQL アカウントの保護">セクション2.10.4「初期 MySQL アカウントの保護」</a> の手順を使用してパスワードを設定する必要があります。 
        </p></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="windows-start-command-line"></a>2.3.4.6 Windows のコマンド行からの MySQL の起動</h4></div></div></div><p>
        MySQL Server はコマンド行から手動で起動できます。 これは Windows のどのバージョンでもできます。 
      </p><p>
        コマンド行から <span class="command"><strong>mysqld</strong></span> サーバーを起動するには、コンソールウィンドウ (あるいは <span class="quote">「<span class="quote">DOS ウィンドウ</span>」</span>) を開け、次のコマンドを入力します。
      </p><pre class="programlisting">C:\&gt; <strong class="userinput"><code>"C:\Program Files\MySQL\MySQL Server 8.0\bin\mysqld"</code></strong>
</pre><p>
        <span class="command"><strong>mysqld</strong></span> へのパスはお客様のシステムの MySQL のインストール場所によって異なる場合があります。
      </p><p>
        MySQL Server を停止するには次のコマンドを実行します。
      </p><pre class="programlisting">C:\&gt; <strong class="userinput"><code>"C:\Program Files\MySQL\MySQL Server 8.0\bin\mysqladmin" -u root shutdown</code></strong>
</pre><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
          MySQL の <code class="literal">root</code> ユーザーアカウントにパスワードが設定されている場合は、<span class="command"><strong>mysqladmin</strong></span> を <code class="option">-p</code> オプションを使って起動し、要求されたらパスワードを入力する必要があります。
        </p></div><p>
        このコマンドは MySQL 管理ユーティリティー <span class="command"><strong>mysqladmin</strong></span> を起動してサーバーに接続し、サーバーにシャットダウンを命令します。 そのコマンドは MySQL <code class="literal">root</code> ユーザーとして接続します。これは MySQL の許可システムのデフォルトの管理アカウントです。 
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
          MySQL 権限付与システムのユーザーは、Microsoft Windows のオペレーティングシステムユーザーから完全に独立しています。
        </p></div><p>
        <span class="command"><strong>mysqld</strong></span> が起動しない場合、エラーログを確認してサーバーがその問題の原因を示すメッセージを書き込んでいないか確認します。 デフォルトでは、エラーログは <code class="filename">C:\Program Files\MySQL\MySQL Server 8.0\data</code> ディレクトリにあります。 サフィクス <code class="filename">.err</code> の付いたファイルです。または、<code class="option">--log-error</code> オプションで渡して指定できます。 または、<code class="option">--console</code> オプションを使用してサーバーを起動することもできます。この場合、問題の解決に役立つ有用な情報がサーバーの画面に表示されることがあります。 
      </p><p>
        最後の選択肢は、<span class="command"><strong>mysqld</strong></span> を <code class="option">--standalone</code> および <code class="option">--debug</code> オプションで起動することです。 この場合、<span class="command"><strong>mysqld</strong></span> がログファイル <code class="filename">C:\mysqld.trace</code> に書き出し、その中に <span class="command"><strong>mysqld</strong></span> が起動しない理由が含まれているはずです。 <a class="xref" href="server-administration.html#dbug-package" title="5.9.4 DBUG パッケージ">セクション5.9.4「DBUG パッケージ」</a>を参照してください。 
      </p><p>
        <span class="command"><strong>mysqld --verbose --help</strong></span> を使用して、<span class="command"><strong>mysqld</strong></span> がサポートするすべてのオプションを表示します。
      </p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="mysql-installation-windows-path"></a>2.3.4.7 MySQL ツールの PATH をカスタマイズする</h4></div></div></div><a class="indexterm" name="idm45548122541232"></a><a class="indexterm" name="idm45548122539792"></a><div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">警告</div><p>
          システムの <code class="literal">PATH</code> を手動で編集する際には最大限の注意が必要です。既存の <code class="literal">PATH</code> の値の一部でも間違って削除したり変更したりすると、誤動作を引き起こしたりシステムが使用できなくなったりする場合があります。
        </p></div><p>
        MySQL プログラムの起動を簡単にするために、MySQL の <code class="filename">bin</code> ディレクトリのパス名を Windows システムの <code class="literal">PATH</code> 環境変数に追加できます。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            Windows デスクトップで、<span class="guiicon">「マイコンピュータ」</span> アイコンを右クリックして<span class="guimenuitem">「プロパティ」</span>を選択します。
          </p></li><li class="listitem"><p>
            次に、表示された<span class="guimenu">「システムのプロパティ」</span>メニューから<span class="guimenuitem">「詳細設定」</span>タブを選択し、<span class="guibutton">「環境変数」</span>ボタンをクリックします。
          </p></li><li class="listitem"><p>
            <span class="guilabel">「システム環境変数」</span>で、<span class="guimenuitem">「Path」</span>を選択し、次に<span class="guibutton">「編集」</span>ボタンをクリックします。 <span class="guimenu">「システム変数の編集」</span>のダイアログが表示されます。 
          </p></li><li class="listitem"><p>
            <span class="guilabel">「変数値」</span>と示されたスペースに表示されたテキストの最後にカーソルを持って行きます。 (<span class="keycap"><strong>「End」</strong></span>キーを使用して、カーソルが確実にそのスペースのテキストのいちばん後ろにあるようにします)。 次に、MySQL <code class="filename">bin</code> ディレクトリの完全なパス名を入力します (<code class="literal">C:\Program Files\MySQL\MySQL Server 8.0\bin</code> など)。 
          </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
              このフィールドにあるほかの値とこのパスを区切るために、セミコロンが必要です。
            </p></div><p>
            開いているダイアログがすべて閉じるまで、<span class="guibutton">「OK」</span>をクリックしてこのダイアログとその他のダイアログを順番に閉じます。 これで、開いた新しいコマンドシェルで新しい <code class="literal">PATH</code> 値を使用できるようになり、システム上の任意のディレクトリから DOS プロンプトに名前を入力することで、パスを指定せずに MySQL 実行可能プログラムを起動できるようになります。 これにはサーバー、<span class="command"><strong>mysql</strong></span> クライアント、および <span class="command"><strong>mysqladmin</strong></span> と <span class="command"><strong>mysqldump</strong></span> などのすべての MySQL コマンド行ユーティリティーが含まれています。 
          </p></li></ul></div><p>
        同じマシンで複数の MySQL サーバーを動作させている場合には、MySQL <code class="filename">bin</code> ディレクトリを Windows <code class="literal">PATH</code> に追加しないでください。
      </p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="windows-start-service"></a>2.3.4.8 Windows のサービスとして MySQL を起動する</h4></div></div></div><p>
        Windows で MySQL を実行する場合、Windows の起動および停止時に MySQL が自動的に起動および停止するように、Windows サービスとしてインストールすることが推奨されています。 MySQL Server をサービスとしてインストールすると、<span class="command"><strong>NET</strong></span> コマンドを使用してコマンド行から、あるいはグラフィカル <span class="command"><strong>Services</strong></span> ユーティリティーで管理することもできます。 一般に、MySQL を Windows サービスとしてインストールするときは、管理者権限のあるアカウントを使ってログインするようにしてください。 
      </p><p>
        <span class="command"><strong>Services</strong></span> ユーティリティ (Windows <span class="command"><strong>Service Control Manager</strong></span>) は、Windows コントロールパネルにあります。 競合を避けるために、サーバーのインストールまたはコマンド行からの削除操作の際には、<span class="command"><strong>Services</strong></span> ユーティリティーを閉じることを推奨します。 
      </p><h5><a name="idm45548122503488"></a>サービスのインストール</h5><p>
        現在サーバーを実行中の場合は、MySQL を Windows のサービスとしてインストールする前に次のコマンドを使用して停止してください。
      </p><pre class="programlisting">C:\&gt; <strong class="userinput"><code>"C:\Program Files\MySQL\MySQL Server 8.0\bin\mysqladmin"</code></strong>
          <strong class="userinput"><code>-u root shutdown</code></strong>
</pre><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
          MySQL の <code class="literal">root</code> ユーザーアカウントにパスワードが設定されている場合は、<span class="command"><strong>mysqladmin</strong></span> を <code class="option">-p</code> オプションを使って起動し、要求されたらパスワードを入力する必要があります。
        </p></div><p>
        このコマンドは MySQL 管理ユーティリティー <span class="command"><strong>mysqladmin</strong></span> を起動してサーバーに接続し、サーバーにシャットダウンを命令します。 そのコマンドは MySQL <code class="literal">root</code> ユーザーとして接続します。これは MySQL の許可システムのデフォルトの管理アカウントです。 
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
          MySQL 権限付与システムのユーザーは、Windows のオペレーティングシステムユーザーから完全に独立しています。
        </p></div><p>
        サーバーをこのコマンドを使用してサービスとしてインストールします。
      </p><pre class="programlisting">C:\&gt; <strong class="userinput"><code>"C:\Program Files\MySQL\MySQL Server 8.0\bin\mysqld" --install</code></strong>
</pre><p>
        サービスのインストールコマンドはサーバーは起動しません。 それについてはこのセクションで後述します。 
      </p><p>
        MySQL プログラムの起動を簡単にするために、MySQL の <code class="filename">bin</code> ディレクトリのパス名を Windows システムの <code class="literal">PATH</code> 環境変数に追加できます。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            Windows デスクトップで、<span class="guiicon">「マイコンピュータ」</span> アイコンを右クリックして<span class="guimenuitem">「プロパティ」</span>を選択します。
          </p></li><li class="listitem"><p>
            次に、表示された<span class="guimenu">「システムのプロパティ」</span>メニューから<span class="guimenuitem">「詳細設定」</span>タブを選択し、<span class="guibutton">「環境変数」</span>ボタンをクリックします。
          </p></li><li class="listitem"><p>
            <span class="guilabel">「システム環境変数」</span>で、<span class="guimenuitem">「Path」</span>を選択し、次に<span class="guibutton">「編集」</span>ボタンをクリックします。 <span class="guimenu">「システム変数の編集」</span>のダイアログが表示されます。 
          </p></li><li class="listitem"><p>
            <span class="guilabel">「変数値」</span>と示されたスペースに表示されたテキストの最後にカーソルを持って行きます。 (<span class="keycap"><strong>「End」</strong></span>キーを使用して、カーソルが確実にそのスペースのテキストのいちばん後ろにあるようにします)。 次に、MySQL <code class="filename">bin</code> ディレクトリの完全なパス名を入力します (<code class="literal">C:\Program Files\MySQL\MySQL Server 8.0\bin</code> など)。このフィールドにあるほかの値とこのパスを区切るために、セミコロンが必要です。 開いているダイアログがすべて閉じるまで、<span class="guibutton">「OK」</span>をクリックしてこのダイアログとその他のダイアログを順番に閉じます。 この段階で、システムのどのディレクトリからでも、DOS プロンプトにパスを指定せずに MySQL の実行プログラム名を入力して、すべての MySQL 実行プログラムを呼び出すことができます。 これにはサーバー、<span class="command"><strong>mysql</strong></span> クライアント、および <span class="command"><strong>mysqladmin</strong></span> と <span class="command"><strong>mysqldump</strong></span> などのすべての MySQL コマンド行ユーティリティーが含まれています。 
          </p><p>
            同じマシンで複数の MySQL サーバーを動作させている場合には、MySQL <code class="filename">bin</code> ディレクトリを Windows <code class="literal">PATH</code> に追加しないでください。
          </p></li></ul></div><div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">警告</div><p>
          システムの <code class="literal">PATH</code> を手動で編集する際には最大限の注意が必要です。既存の <code class="literal">PATH</code> の値の一部でも間違って削除したり変更したりすると、誤動作を引き起こしたりシステムが使用できなくなったりする場合があります。
        </p></div><p>
        サービスをインストールする際に、次の追加引数を使用できます。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <code class="option">--install</code> オプションの直後にサービス名を指定できます。 デフォルトのサービス名は <code class="literal">MySQL</code> です。 
          </p></li><li class="listitem"><p>
            サービス名を指定すると、そのあとに 1 つのオプションを指定できます。 規則では、<code class="option">--defaults-file=<em class="replaceable"><code>file_name</code></em></code> でオプションファイル名を指定し、サーバーが起動時にそこからオプションを読み取ります。 
          </p><p>
            <code class="option">--defaults-file</code> 以外に 1 つのオプションを使用することは可能ですが、お勧めできません。<code class="option">--defaults-file</code> を使用すると、指名したオプションファイルに複数のスタートアップオプションを指定できるので、より柔軟です。
          </p></li><li class="listitem"><p>
            サービス名のあとに <code class="option">--local-service</code> オプションも指定できます。 これにより、システム権限の制限付き <code class="literal">LocalService</code> Windows アカウントを使用してサーバーを起動できます。 <code class="option">--defaults-file</code> および <code class="option">--local-service</code> の両方がサービス名のあとに指定される場合、どのような順序でもかまいません。 
          </p></li></ul></div><p>
        MySQL Server を Windows のサービスとしてインストールした場合、サーバーが使用するサービス名およびオプションファイルは次のルールで決められます。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            service-installation コマンドで、<code class="option">--install</code> オプションのあとにサービス名またはデフォルトのサービス名 (<code class="literal">MySQL</code>) が指定されていない場合、サーバーは <code class="literal">MySQL</code> のサービス名を使用し、標準オプションファイル内の<code class="literal">[mysqld]</code>グループからオプションを読み取ります。
          </p></li><li class="listitem"><p>
            サービスインストールのコマンドで <code class="literal">MySQL</code> 以外のサービス名を <code class="option">--install</code> オプションのあとに指定した場合、サーバーはそのサービス名を使用します。 標準のオプションファイルの <code class="literal">[mysqld]</code> グループと、サービスと名前が同じグループからオプションを読み取ります。 これにより、<code class="literal">[mysqld]</code> グループをすべての MySQL サービスで使用すべきオプション用に、サービス名の付いたオプショングループをそのサービス名でインストールされたサーバー用に使用できます。 
          </p></li><li class="listitem"><p>
            サービスインストールのコマンドでサービス名のあとに <code class="option">--defaults-file</code> オプションを指定した場合、サーバーは前の項目で説明したのと同じ方法でオプションを読み取りますが、名前付きのファイルからのみオプションを読み取り、標準のオプションファイルは無視します。
          </p></li></ul></div><p>
        さらに複雑な例として、次のコマンドがあります。
      </p><pre class="programlisting">C:\&gt; <strong class="userinput"><code>"C:\Program Files\MySQL\MySQL Server 8.0\bin\mysqld"</code></strong>
          <strong class="userinput"><code>--install MySQL --defaults-file=C:\my-opts.cnf</code></strong>
</pre><p>
        ここでは、<code class="option">--install</code> オプションのあとにデフォルトのサービス名 (<code class="literal">MySQL</code>) が指定されています。 <code class="option">--defaults-file</code> オプションが指定されていなければ、このコマンドによりサーバーは標準のオプションファイルから <code class="literal">[mysqld]</code> グループを読み取ります。 しかし、<code class="option">--defaults-file</code> オプションが指定されているので、サーバーは <code class="literal">[mysqld]</code> オプショングループのオプションを、指名されたファイルのみから読み取ります。 
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
          Windows では、サーバーが <code class="option">--defaults-file</code> および <code class="option">--install</code> オプションで起動される場合、<code class="option">--install</code> が最初でなければなりません。 それ以外の場合、<code class="literal">mysqld.exe</code> は MySQL サーバーを起動しようとします。 
        </p></div><p>
        MySQL サービスを実行する前に、Windows の <span class="command"><strong>Services</strong></span> ユーティリティーで Start パラメータとしてオプションを指定することもできます。
      </p><p>
        最後に、MySQL サービスを開始する前に、サービスを実行するオペレーティングシステムユーザーのユーザー変数 <code class="literal">%TEMP%</code> および <code class="literal">%TMP%</code> (設定されている場合は <code class="literal">%TMPDIR%</code>) が、ユーザーが書込みアクセス権を持つフォルダを指していることを確認します。 MySQL サービスを実行するためのデフォルトユーザーは <code class="literal">LocalSystem</code> で、<code class="literal">%TEMP%</code> および <code class="literal">%TMP%</code> のデフォルト値は <code class="filename">C:\Windows\Temp</code> で、<code class="literal">LocalSystem</code> ディレクトリにはデフォルトで書込みアクセス権があります。 ただし、そのデフォルト設定に変更があった場合 (たとえば、サービスを実行するユーザーや前述のユーザー変数への変更、または <code class="option">--tmpdir</code> オプションを使用して一時ディレクトリを別の場所に配置した場合)、一時ディレクトリへの書込みアクセス権が適切なユーザーに付与されていないため、MySQL サービスの実行に失敗する可能性があります。 
      </p><h5><a name="idm45548122418976"></a>サービスの開始</h5><p>
        MySQL サーバーインスタンスがサービスとしてインストールされると、Windows は常にサービスを自動的に起動します。 サービスは、<span class="command"><strong>Services</strong></span> ユーティリティからすぐに起動することも、<span class="command"><strong>sc start <em class="replaceable"><code>mysqld_service_name</code></em></strong></span> または <span class="command"><strong>NET START <em class="replaceable"><code>mysqld_service_name</code></em></strong></span> コマンドを使用して起動することもできます。 <span class="command"><strong>SC</strong></span> および <span class="command"><strong>NET</strong></span> コマンドでは、大/小文字は区別されません。 
      </p><p>
        サービスとして起動する場合、<span class="command"><strong>mysqld</strong></span> はコンソールウィンドウにアクセスできないので、メッセージは表示されません。 <span class="command"><strong>mysqld</strong></span> が起動しない場合、サーバーがエラーログにその問題の原因を知らせるメッセージを書き込んでいないか確認します。 エラーログは MySQL データディレクトリ (<code class="filename">C:\Program Files\MySQL\MySQL Server 8.0\data</code> など) にあります。 <code class="filename">.err</code> のサフィクスが付いたファイルです。 
      </p><p>
        MySQL Server をサービスとしてインストールした場合、サービスを実行しているときに Windows がシャットダウンすると Windows が自動的にサービスを停止します。 サーバーは、<code class="literal">Services</code> ユーティリティ、<span class="command"><strong>sc stop <em class="replaceable"><code>mysqld_service_name</code></em></strong></span> コマンド、<span class="command"><strong>NET START <em class="replaceable"><code>mysqld_service_name</code></em></strong></span> コマンドまたは <span class="command"><strong>mysqladmin shutdown</strong></span> コマンドを使用して手動で停止することもできます。 
      </p><p>
        サービスがブートプロセスで自動的に実行されないように、サーバーをマニュアルサービスとしてインストールすることもできます。 これには <code class="option">--install</code> オプションではなく <code class="option">--install-manual</code> オプションを使用します。 
      </p><pre class="programlisting">C:\&gt; <strong class="userinput"><code>"C:\Program Files\MySQL\MySQL Server 8.0\bin\mysqld" --install-manual</code></strong>
</pre><h5><a name="idm45548122400736"></a>サービスの削除</h5><p>
        サービスとしてインストールされているサーバーを削除するには、まず <span class="command"><strong>SC STOP <em class="replaceable"><code>mysqld_service_name</code></em></strong></span> または <span class="command"><strong>NET STOP <em class="replaceable"><code>mysqld_service_name</code></em></strong></span> を実行して停止します (実行中の場合)。 次に、<span class="command"><strong>SC DELETE <em class="replaceable"><code>mysqld_service_name</code></em></strong></span> を使用して削除します: 
      </p><pre class="programlisting">C:\&gt; <strong class="userinput"><code>SC DELETE mysql</code></strong>
</pre><p>
        または、<span class="command"><strong>mysqld</strong></span> <code class="option">--remove</code> オプションを使用してサービスを削除します。
      </p><pre class="programlisting">C:\&gt; <strong class="userinput"><code>"C:\Program Files\MySQL\MySQL Server 8.0\bin\mysqld" --remove</code></strong>
</pre><p>
        <span class="command"><strong>mysqld</strong></span> をサービスとして実行していない場合は、コマンド行で起動できます。 その手順は、<a class="xref" href="installing.html#windows-start-command-line" title="2.3.4.6 Windows のコマンド行からの MySQL の起動">セクション2.3.4.6「Windows のコマンド行からの MySQL の起動」</a>を参照してください。 
      </p><p>
        インストール中に問題が発生した場合は、<a class="xref" href="installing.html#windows-troubleshooting" title="2.3.5 Microsoft Windows MySQL Server インストールのトラブルシューティング">セクション2.3.5「Microsoft Windows MySQL Server インストールのトラブルシューティング」</a> を参照してください。
      </p><p>
        Windows サービスの停止または削除の詳細は、<a class="xref" href="server-administration.html#multiple-windows-services" title="5.8.2.2 Windows サービスとして複数の MySQL インスタンスの起動">セクション5.8.2.2「Windows サービスとして複数の MySQL インスタンスの起動」</a> を参照してください。
      </p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="windows-testing"></a>2.3.4.9 MySQL インストールのテスト</h4></div></div></div><a class="indexterm" name="idm45548122384592"></a><a class="indexterm" name="idm45548122383280"></a><p>
        次のコマンドのいずれかを実行して、MySQL Server が動作しているかテストできます。
      </p><pre class="programlisting">C:\&gt; <strong class="userinput"><code>"C:\Program Files\MySQL\MySQL Server 8.0\bin\mysqlshow"</code></strong>
C:\&gt; <strong class="userinput"><code>"C:\Program Files\MySQL\MySQL Server 8.0\bin\mysqlshow" -u root mysql</code></strong>
C:\&gt; <strong class="userinput"><code>"C:\Program Files\MySQL\MySQL Server 8.0\bin\mysqladmin" version status proc</code></strong>
C:\&gt; <strong class="userinput"><code>"C:\Program Files\MySQL\MySQL Server 8.0\bin\mysql" test</code></strong>
</pre><p>
        <span class="command"><strong>mysqld</strong></span> のクライアントプログラムから TCP/IP 接続への反応が鈍い場合、おそらくの DNS に問題があります。 この場合、<code class="literal">skip_name_resolve</code> システム変数を有効にして <span class="command"><strong>mysqld</strong></span> を起動し、MySQL 付与テーブルの <code class="literal">Host</code> カラムで <code class="literal">localhost</code> および IP アドレスのみを使用します。 (IP アドレスを指定するアカウントが存在することを確認してください。存在しない場合、接続できない可能性があります。) 
      </p><p>
        <code class="option">--pipe</code> あるいは <code class="option">--protocol=PIPE</code> オプションを指定するか、あるいは <code class="literal">.</code>(ピリオド) をホスト名として指定すると、MySQL クライアントに TCP/IP ではなく名前付けパイプ接続を強制的に使用させることができます。 デフォルトのパイプ名を使用しない場合には <code class="option">--socket</code> オプションを使用してパイプ名を指定します。 
      </p><p>
        <code class="literal">root</code> アカウントのパスワードを設定した場合、匿名アカウントを削除した場合、または新規ユーザーアカウントを作成した場合に MySQL Server に接続するには、前述のコマンドに適切な <code class="option">-u</code> および <code class="option">-p</code> オプションを使用しなければなりません。 <a class="xref" href="programs.html#connecting" title="4.2.4 コマンドオプションを使用した MySQL Server への接続">セクション4.2.4「コマンドオプションを使用した MySQL Server への接続」</a>を参照してください。 
      </p><p>
        <span class="command"><strong>mysqlshow</strong></span> に関する詳細は、<a class="xref" href="programs.html#mysqlshow" title="4.5.7 mysqlshow — データベース、テーブル、およびカラム情報の表示">セクション4.5.7「mysqlshow — データベース、テーブル、およびカラム情報の表示」</a> を参照してください。
      </p></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="windows-troubleshooting"></a>2.3.5 Microsoft Windows MySQL Server インストールのトラブルシューティング</h3></div></div></div><p>
      MySQL をインストールして最初に起動する際に、エラーが発生して MySQL サーバーが起動できない場合があります。 このセクションは、エラーの診断と修正に役立ちます。 
    </p><p>
      サーバーの問題のトラブルシューティングを行う際の、最初のリソースは <a class="link" href="glossary.html#glos_error_log" title="エラーログ">エラーログ</a>です。 MySQL Server は、サーバーが起動しない原因となるエラーに関する情報を記録するのにエラーログを使用しています。 エラーログは、<code class="filename">my.ini</code> ファイルで指定された <a class="link" href="glossary.html#glos_data_directory" title="データディレクトリ"> データディレクトリ</a>にあります。 データディレクトリのデフォルトの場所は、Windows 7 および Windows Server 2008 では <code class="filename">C:\Program Files\MySQL\MySQL Server 8.0\data</code>、または <code class="filename">C:\ProgramData\Mysql</code> です。 <code class="filename">C:\ProgramData</code> ディレクトリはデフォルトでは非表示です。 ディレクトリと内容を表示するには、フォルダオプションを変更する必要があります。 エラーログとその内容の理解については、<a class="xref" href="server-administration.html#error-log" title="5.4.2 エラーログ">セクション5.4.2「エラーログ」</a> を参照してください。 
    </p><p>
      起こりうるエラーについては、MySQL サービスの起動中に表示されるコンソールメッセージも調べてください。 <span class="command"><strong>mysqld</strong></span> をサービスとしてインストールした後、コマンドラインから <span class="command"><strong>SC START <em class="replaceable"><code>mysqld_service_name</code></em></strong></span> または <span class="command"><strong>NET START <em class="replaceable"><code>mysqld_service_name</code></em></strong></span> コマンドを使用して、MySQL サーバーのサービスとしての起動に関するエラーメッセージを表示します。 <a class="xref" href="installing.html#windows-start-service" title="2.3.4.8 Windows のサービスとして MySQL を起動する">セクション2.3.4.8「Windows のサービスとして MySQL を起動する」</a>を参照してください。 
    </p><p>
      MySQL をインストールしてサーバーを最初に起動する際によく生じる、その他の一般的なエラーメッセージを次の例に示します。
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          MySQL Server が <code class="literal">mysql</code> 権限データベースまたはその他の重要なファイルを見つけられない場合、次のメッセージを表示します。
        </p><pre class="programlisting">System error 1067 has occurred.
Fatal error: Can't open and lock privilege tables:
Table 'mysql.user' doesn't exist
</pre><p>
          これらのメッセージは、MySQL のベースディレクトリまたはデータディレクトリが、デフォルトの場所 (それぞれ <code class="filename">C:\Program Files\MySQL\MySQL Server 8.0</code> および <code class="filename">C:\Program Files\MySQL\MySQL Server 8.0\data</code>) と異なる場所にインストールされている場合によく生じます。
        </p><p>
          この状況は、MySQL をアップグレードして新しい場所にインストールしたが、構成ファイルが新しい場所を反映するように更新されていない場合に生じます。 さらに、新旧の構成ファイルが対立している場合もあります。 MySQL をアップグレードする際は必ず旧構成ファイルを削除するか名前を変更してください。 
        </p><p>
          MySQL を <code class="filename">C:\Program Files\MySQL\MySQL Server 8.0</code> 以外のディレクトリにインストールした場合は、構成 (<code class="filename">my.ini</code>) ファイルを使用して MySQL Server がそのことを認識できるようにしてください。 <code class="filename">my.ini</code> ファイルを Windows ディレクトリ (通常 <code class="filename">C:\WINDOWS</code>) に置きます。 <code class="literal">WINDIR</code> 環境変数の値から正確な場所を割り出すためには、コマンドプロンプトから次のコマンドを発行します。 
        </p><pre class="programlisting">C:\&gt; <strong class="userinput"><code>echo %WINDIR%</code></strong>
</pre><p>
          オプションファイルはノートパッドなどのテキストエディタで作成および変更できます。 たとえば、MySQL が <code class="filename">E:\mysql</code> にインストールされていて、データディレクトリが <code class="filename">D:\MySQLdata</code> にある場合は、オプションファイルを作成して <code class="literal">[mysqld]</code> セクションを設定し、<code class="option">basedir</code> および <code class="option">datadir</code> オプションの値を指定できます。 
        </p><pre class="programlisting">[mysqld]
# set basedir to your installation path
basedir=E:/mysql
# set datadir to the location of your data directory
datadir=D:/MySQLdata
</pre><p>
          Microsoft Windows のパス名は、オプションファイル内でバックスラッシュではなく (フォワード) スラッシュを使用して指定されます。 バックスラッシュを使用する場合は、2 つ使用します。 
        </p><pre class="programlisting">[mysqld]
# set basedir to your installation path
basedir=C:\\Program Files\\MySQL\\MySQL Server 8.0
# set datadir to the location of your data directory
datadir=D:\\MySQLdata
</pre><p>
          オプションファイル値でのバックスラッシュの使用に関するルールは <a class="xref" href="programs.html#option-files" title="4.2.2.2 オプションファイルの使用">セクション4.2.2.2「オプションファイルの使用」</a> にあります。
        </p><p>
          MySQL 構成ファイルの <code class="option">datadir</code> の値を変更する場合は、MySQL Server を再起動する前に既存の MySQL データディレクトリの内容を移動する必要があります。
        </p><p>
          <a class="xref" href="installing.html#windows-create-option-file" title="2.3.4.2 オプションファイルの作成">セクション2.3.4.2「オプションファイルの作成」</a> を参照してください。
        </p></li><li class="listitem"><p>
          まず既存の MySQL サービスを停止して削除してから MySQL Installer を使用して MySQL をインストールせずに、MySQL を再インストールまたはアップグレードすると、次のエラーが生じる場合があります。
        </p><pre class="programlisting">Error: Cannot create Windows service for MySql. Error: 0
</pre><p>
          これは Configuration Wizard がサービスをインストールしようとしたときに既存のサービスが同じ名前で存在する場合に発生します。
        </p><p>
          この問題の解決方法の 1 つは、Configuration Wizard を使用する際に<code class="literal">mysql</code> 以外のサービス名を選択することです。 これにより、新しいサービスが正しくインストールされ、古いサービスはそのままにできます。 これは特に問題はありませんが、使用しない古いサービスは削除したほうがよいでしょう。 
        </p><p>
          古い <code class="literal">mysql</code> サービスを完全に削除するには、管理者権限を持つユーザーとして、コマンド行で次のコマンドを実行します。
        </p><pre class="programlisting">C:\&gt; <strong class="userinput"><code>SC DELETE mysql</code></strong>
[SC] DeleteService SUCCESS
</pre><p>
          ご使用のバージョンの Windows で <code class="literal">SC</code> ユーティリティを使用できない場合は、<a class="ulink" href="http://www.microsoft.com/windows2000/techinfo/reskit/tools/existing/delsrv-o.asp" target="_top">http://www.microsoft.com/windows2000/techinfo/reskit/tools/existing/delsrv-o.asp</a> から <code class="literal">delsrv</code> ユーティリティをダウンロードし、<code class="literal">delsrv mysql</code> 構文を使用します。
        </p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="windows-postinstallation"></a>2.3.6 Windows でのインストール後の手順</h3></div></div></div><p>
      このセクションで説明する次のようなほとんどのタスクを実行する GUI ツールが存在します:
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          <a class="link" href="installing.html#mysql-installer" title="2.3.3 MySQL Installer for Windows">MySQL Installer</a>: MySQL 製品のインストールとアップグレードに使用されます。
        </p></li><li class="listitem"><p>
          <a class="link" href="workbench.html" title="第 31 章 MySQL Workbench">MySQL Workbench</a>: MySQL サーバーを管理し、SQL ステートメントを編集します。
        </p></li></ul></div><p>
      必要に応じて、データディレクトリを初期化し、MySQL 付与テーブルを作成します。 MySQL Installer によって実行される Windows インストール操作によって、データディレクトリが自動的に初期化されます。 ZIP アーカイブパッケージからのインストールの場合は、<a class="xref" href="installing.html#data-directory-initialization" title="2.10.1 データディレクトリの初期化">セクション2.10.1「データディレクトリの初期化」</a> の説明に従ってデータディレクトリを初期化します。 
    </p><p>
      パスワードについては、MySQL Installer を使用して MySQL をインストールした場合、初期 <code class="literal">root</code> アカウントにすでにパスワードが割り当てられている可能性があります。 (<a class="xref" href="installing.html#mysql-installer" title="2.3.3 MySQL Installer for Windows">セクション2.3.3「MySQL Installer for Windows」</a>を参照してください。) そうでない場合には、<a class="xref" href="installing.html#default-privileges" title="2.10.4 初期 MySQL アカウントの保護">セクション2.10.4「初期 MySQL アカウントの保護」</a> にあるパスワード割り当て手順を使用します。 
    </p><p>
      パスワードを割り当てる前に、いくつかのクライアントプログラムを実行して、サーバーに接続できること、およびサーバーが正しく動作していることを確認することをお勧めします。 サーバーが実行されていることを確認します (<a class="xref" href="installing.html#windows-server-first-start" title="2.3.4.5 サーバーをはじめて起動する">セクション2.3.4.5「サーバーをはじめて起動する」</a> を参照)。 Windows の起動時に自動的に実行される MySQL サービスを設定することもできます (<a class="xref" href="installing.html#windows-start-service" title="2.3.4.8 Windows のサービスとして MySQL を起動する">セクション2.3.4.8「Windows のサービスとして MySQL を起動する」</a> を参照)。 
    </p><p>
      これらの手順では、現在の場所が MySQL インストールディレクトリであり、ここで使用する MySQL プログラムを含む <code class="filename">bin</code> サブディレクトリがあることを前提としています。 そうでない場合は、コマンドパス名を適宜調整します。 
    </p><p>
      MySQL Installer (<a class="xref" href="installing.html#mysql-installer" title="2.3.3 MySQL Installer for Windows">セクション2.3.3「MySQL Installer for Windows」</a> を参照) を使用して MySQL をインストールした場合、デフォルトのインストールディレクトリは <code class="filename">C:\Program Files\MySQL\MySQL Server 8.0</code> です:
    </p><pre class="programlisting">C:\&gt; <strong class="userinput"><code>cd "C:\Program Files\MySQL\MySQL Server 8.0"</code></strong>
</pre><p>
      ZIP アーカイブからインストールするための一般的なインストール場所は、<code class="filename">C:\mysql</code> です:
    </p><pre class="programlisting">C:\&gt; <strong class="userinput"><code>cd C:\mysql</code></strong>
</pre><a class="indexterm" name="idm45548122290064"></a><a class="indexterm" name="idm45548122288576"></a><p>
      または、<code class="filename">bin</code> ディレクトリを <code class="literal">PATH</code> 環境変数設定に追加します。 これにより、コマンドインタプリタは MySQL プログラムを適切に検索できるため、パス名ではなく名前のみを入力してプログラムを実行できます。 <a class="xref" href="installing.html#mysql-installation-windows-path" title="2.3.4.7 MySQL ツールの PATH をカスタマイズする">セクション2.3.4.7「MySQL ツールの PATH をカスタマイズする」</a>を参照してください。 
    </p><p>
      サーバーを実行した状態で、次のコマンドを発行して、サーバーから情報を取得できることを確認します。 出力は次のようになります。 
    </p><p>
      どのようなデータベースが存在するかを表示するには、<span class="command"><strong>mysqlshow</strong></span> を使用します。
    </p><pre class="programlisting">C:\&gt; <strong class="userinput"><code>bin\mysqlshow</code></strong>
+--------------------+
|     Databases      |
+--------------------+
| information_schema |
| mysql              |
| performance_schema |
| sys                |
+--------------------+
</pre><p>
      インストールされているデータベースのリストは異なる場合がありますが、常に <code class="literal">mysql</code> および <code class="literal">information_schema</code> 以上が含まれています。
    </p><p>
      前述のコマンド (および <span class="command"><strong>mysql</strong></span> などのその他の MySQL プログラムのコマンド) は、正しい MySQL アカウントが存在しないと機能しない場合があります。 たとえば、プログラムがエラーで終了する場合やすべてのデータベースを表示できない場合があります。 MySQL Installer を使用して MySQL をインストールすると、指定したパスワードで <code class="literal">root</code> ユーザーが自動的に作成されます。 この場合、<code class="option">-u root</code> および <code class="option">-p</code> オプションを使用してください。 (初期 MySQL アカウントをすでに保護している場合は、これらのオプションを使用する必要があります。) <code class="option">-p</code> では、クライアントプログラムによって <code class="literal">root</code> パスワードの入力が求められます。 例: 
    </p><pre class="programlisting">C:\&gt; <strong class="userinput"><code>bin\mysqlshow -u root -p</code></strong>
Enter password: <em class="replaceable"><code>(enter root password here)</code></em>
+--------------------+
|     Databases      |
+--------------------+
| information_schema |
| mysql              |
| performance_schema |
| sys                |
+--------------------+
</pre><p>
      データベース名を指定すると、<span class="command"><strong>mysqlshow</strong></span> はそのデータベース内のテーブルのリストを表示します。
    </p><pre class="programlisting">C:\&gt; <strong class="userinput"><code>bin\mysqlshow mysql</code></strong>
Database: mysql
+---------------------------+
|          Tables           |
+---------------------------+
| columns_priv              |
| component                 |
| db                        |
| default_roles             |
| engine_cost               |
| func                      |
| general_log               |
| global_grants             |
| gtid_executed             |
| help_category             |
| help_keyword              |
| help_relation             |
| help_topic                |
| innodb_index_stats        |
| innodb_table_stats        |
| ndb_binlog_index          |
| password_history          |
| plugin                    |
| procs_priv                |
| proxies_priv              |
| role_edges                |
| server_cost               |
| servers                   |
| slave_master_info         |
| slave_relay_log_info      |
| slave_worker_info         |
| slow_log                  |
| tables_priv               |
| time_zone                 |
| time_zone_leap_second     |
| time_zone_name            |
| time_zone_transition      |
| time_zone_transition_type |
| user                      |
+---------------------------+
</pre><p>
      <span class="command"><strong>mysql</strong></span> プログラムを使用して、<code class="literal">mysql</code> データベース内のテーブルから情報を選択します。
    </p><pre class="programlisting">C:\&gt; <strong class="userinput"><code>bin\mysql -e "SELECT User, Host, plugin FROM mysql.user" mysql</code></strong>
+------+-----------+-----------------------+
| User | Host      | plugin                |
+------+-----------+-----------------------+
| root | localhost | caching_sha2_password |
+------+-----------+-----------------------+
</pre><p>
      <span class="command"><strong>mysql</strong></span> および <span class="command"><strong>mysqlshow</strong></span> の詳細は、<a class="xref" href="programs.html#mysql" title="4.5.1 mysql — MySQL コマンドラインクライアント">セクション4.5.1「mysql — MySQL コマンドラインクライアント」</a> および <a class="xref" href="programs.html#mysqlshow" title="4.5.7 mysqlshow — データベース、テーブル、およびカラム情報の表示">セクション4.5.7「mysqlshow — データベース、テーブル、およびカラム情報の表示」</a> を参照してください。
    </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="windows-restrictions"></a>2.3.7 Windows プラットフォームの制限事項</h3></div></div></div><a class="indexterm" name="idm45548122256928"></a><p>
      Windows プラットフォームでの MySQL の使用には、次の制限が適用されます:
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          <span class="bold"><strong>プロセスメモリー</strong></span>
        </p><p>
          Windows 32 ビットプラットフォームでは、デフォルトで、MySQL などの単一プロセス内で 2G バイトを超える RAM を使用できません。 これは、Windows 32 ビットでの物理アドレスの制限が 4G バイトであり、Windows 内のデフォルト設定では、カーネル (2G バイト) とユーザー/アプリケーション (2G バイト) とに仮想アドレス空間を分割するためです。 
        </p><p>
          Windows の一部のバージョンには、カーネルアプリケーションを減らすことによってより大きなアプリケーションに対応するブート時設定があります。 または、2G バイト以上を使用するには、64 ビットバージョンの Windows を使用します。 
        </p></li><li class="listitem"><p>
          <span class="bold"><strong>ファイルシステムエイリアス</strong></span>
        </p><p>
          <code class="literal">MyISAM</code> テーブルの使用時には、Windows でエイリアスを使用して、別のボリューム上のデータファイルにリンクしててからメインの MySQL <code class="option">datadir</code> の場所に戻るようにはリンクできません。
        </p><p>
          この機能は、多くの場合、データおよびインデックスファイルを RAID またはその他の高速ソリューションに移動するために使用されます。
        </p></li><li class="listitem"><p>
          <span class="bold"><strong>ポート数の制限</strong></span>
        </p><p>
          Windows システムにはクライアント接続のポートがおよそ 4,000 あり、1 つのポート接続が閉じるとそのポートを再度利用できるようになるまで 2 から 4 分かかります。 クライアントがサーバーとの接続と切断を高い頻度で繰り返す環境では、閉じたポートが再度利用できるようになる前に、利用できるポートがすべて使用されてしまうことがあります。 このようになると、MySQL Server は動作中であっても反応していないように見えます。 ポートは、マシンで実行されている他のアプリケーションでも使用できます。この場合、MySQL で使用可能なポートの数は少なくなります。 
        </p><p>
          この問題の詳細は、<a class="ulink" href="http://support.microsoft.com/default.aspx?scid=kb;en-us;196271" target="_top">http://support.microsoft.com/default.aspx?scid=kb;en-us;196271</a> を参照してください。
        </p></li><li class="listitem"><p>
          <span class="bold"><strong><code class="literal">DATA DIRECTORY</code> および <code class="literal">INDEX DIRECTORY</code></strong></span>
        </p><p>
          <a class="xref" href="innodb-storage-engine.html#innodb-create-table-external" title="15.6.1.2 外部でのテーブルの作成">セクション15.6.1.2「外部でのテーブルの作成」</a> で説明されているように、<code class="literal">CREATE TABLE</code> ステートメントの <code class="literal">DATA DIRECTORY</code> 句は、Windows for <code class="literal">InnoDB</code> テーブルでのみサポートされます。 <code class="literal">MyISAM</code> およびその他のストレージエンジンの場合、<code class="literal">CREATE TABLE</code> 用の <code class="literal">DATA DIRECTORY</code> および <code class="literal">INDEX DIRECTORY</code> 句は、機能しない <code class="literal">realpath()</code> 呼び出しを持つ Windows およびその他のプラットフォームでは無視されます。 
        </p></li><li class="listitem"><p>
          <span class="bold"><strong><code class="literal">DROP DATABASE</code></strong></span>
        </p><p>
          別のセッションで使用されているデータベースは削除できません。
        </p></li><li class="listitem"><p>
          <span class="bold"><strong>大文字と小文字を区別しない名前</strong></span>
        </p><p>
          Windows ではファイル名の大文字と小文字は区別されないため、Windows では MySQL データベースとテーブル名の大文字と小文字も区別されません。 唯一の制約は、特定のステートメント全体で大文字と小文字を変更せずに、データベース名とテーブル名を指定する必要があるということだけです。 <a class="xref" href="language-structure.html#identifier-case-sensitivity" title="9.2.3 識別子の大文字と小文字の区別">セクション9.2.3「識別子の大文字と小文字の区別」</a>を参照してください。 
        </p></li><li class="listitem"><p>
          <span class="bold"><strong>ディレクトリ名とファイル名</strong></span>
        </p><p>
          Windows では、MySQL Server は現行の ANSI コードページと互換性のあるディレクトリ名とファイル名のみをサポートします。 たとえば、次の日本語のディレクトリ名は西ロケール (コードページ 1252) では機能しません: 
        </p><pre class="programlisting">datadir="C:/私たちのプロジェクトのデータ"
</pre><p>
          <code class="literal">LOAD DATA</code> のデータファイルパス名など、SQL ステートメントで参照されるディレクトリ名およびファイル名にも同じ制限が適用されます。
        </p></li><li class="listitem"><p>
          <span class="bold"><strong><code class="literal">\</code> (パス名の区切り文字)</strong></span>
        </p><p>
          Windows でのパス名のコンポーネントは、<code class="literal">\</code>文字で区切られますが、これは MySQL のエスケープ文字でもあります。 <code class="literal">LOAD DATA</code> または <code class="literal">SELECT ... INTO OUTFILE</code> を使用している場合は、<code class="literal">/</code>文字で Unix スタイルのファイル名を使用します: 
        </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>LOAD DATA INFILE 'C:/tmp/skr.txt' INTO TABLE skr;</code></strong>
mysql&gt; <strong class="userinput"><code>SELECT * INTO OUTFILE 'C:/tmp/skr.txt' FROM skr;</code></strong>
</pre><p>
          または、<code class="literal">\</code>文字を 2 重にする必要があります。
        </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>LOAD DATA INFILE 'C:\\tmp\\skr.txt' INTO TABLE skr;</code></strong>
mysql&gt; <strong class="userinput"><code>SELECT * INTO OUTFILE 'C:\\tmp\\skr.txt' FROM skr;</code></strong>
</pre></li><li class="listitem"><p>
          <span class="bold"><strong>パイプに関する問題</strong></span>
        </p><p>
          パイプは Windows のコマンド行プロンプトからでは確実には機能しません。 パイプに <code class="literal">^Z</code> / <code class="literal">CHAR(24)</code> が含まれている場合、Windows はファイルの最後だと勘違いしてプログラムを中止します。 
        </p><p>
          これは主に、次のようにバイナリログを適用するときに問題になります。
        </p><pre class="programlisting">C:\&gt; <strong class="userinput"><code>mysqlbinlog <em class="replaceable"><code>binary_log_file</code></em> | mysql --user=root</code></strong>
</pre><p>
          ログを適用するときに問題が発生し、その原因が <code class="literal">^Z</code> / <code class="literal">CHAR(24)</code> 文字によるものだと考えられる場合は、次の回避法を使用できます。
        </p><pre class="programlisting">C:\&gt; <strong class="userinput"><code>mysqlbinlog <em class="replaceable"><code>binary_log_file</code></em> --result-file=/tmp/bin.sql</code></strong>
C:\&gt; <strong class="userinput"><code>mysql --user=root --execute "source /tmp/bin.sql"</code></strong>
</pre><p>
          後者のコマンドを使用して、バイナリデータを含む SQL ファイルを確実に読み取ることもできます。
        </p></li></ul></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="macos-installation"></a>2.4 macOS への MySQL のインストール</h2></div></div></div><div class="toc"><dl class="toc"><dt><span class="section"><a href="installing.html#macos-installation-notes">2.4.1 macOS への MySQL のインストールに関する一般的なノート</a></span></dt><dt><span class="section"><a href="installing.html#macos-installation-pkg">2.4.2 ネイティブパッケージを使用した macOS への MySQL のインストール</a></span></dt><dt><span class="section"><a href="installing.html#macos-installation-launchd">2.4.3 MySQL 起動デーモンのインストールおよび使用</a></span></dt><dt><span class="section"><a href="installing.html#macos-installation-prefpane">2.4.4 MySQL Preference Pane のインストールと使用</a></span></dt></dl></div><a class="indexterm" name="idm45548122193376"></a><a class="indexterm" name="idm45548122191264"></a><p>
    MySQL サーバーがサポートする macOS バージョンのリストは、<a class="ulink" href="https://www.mysql.com/support/supportedplatforms/database.html" target="_top">https://www.mysql.com/support/supportedplatforms/database.html</a> を参照してください。
  </p><p>
    MySQL for macOS は、様々な形式で使用できます:
  </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
        ネイティブパッケージインストーラ:ネイティブ macOS インストーラ (DMG) を使用して、MySQL のインストールを順を追って説明します。 詳細は、<a class="xref" href="installing.html#macos-installation-pkg" title="2.4.2 ネイティブパッケージを使用した macOS への MySQL のインストール">セクション2.4.2「ネイティブパッケージを使用した macOS への MySQL のインストール」</a>を参照してください。 パッケージインストーラは、macOS で使用できます。 インストールの実行に使用するユーザーは、管理者権限を持っていなければなりません。 
      </p></li><li class="listitem"><p>
        圧縮 TAR アーカイブ。Unix <span class="command"><strong>tar</strong></span> および <span class="command"><strong>gzip</strong></span> コマンドを使用してパッケージ化されたファイルを使用します。 この方法を使用するには、<span class="command"><strong>Terminal</strong></span> ウィンドウを開く必要があります。 この方法を使用する場合、管理者権限は必要ありません。この方法を使用すると、どこにでも MySQL サーバーをインストールできます。 この方法の使用については、tarball の使用に関する一般的な説明<a class="xref" href="installing.html#binary-installation" title="2.2 一般的なバイナリを使用した MySQL の Unix/Linux へのインストール">セクション2.2「一般的なバイナリを使用した MySQL の Unix/Linux へのインストール」</a>を使用できます。 
      </p><p>
        パッケージインストーラには、コアインストールに加えて、インストールの管理を簡略化するための <a class="xref" href="installing.html#macos-installation-launchd" title="2.4.3 MySQL 起動デーモンのインストールおよび使用">セクション2.4.3「MySQL 起動デーモンのインストールおよび使用」</a> および <a class="xref" href="installing.html#macos-installation-prefpane" title="2.4.4 MySQL Preference Pane のインストールと使用">セクション2.4.4「MySQL Preference Pane のインストールと使用」</a> も含まれています。
      </p></li></ul></div><p>
    macOS での MySQL の使用の詳細は、<a class="xref" href="installing.html#macos-installation-notes" title="2.4.1 macOS への MySQL のインストールに関する一般的なノート">セクション2.4.1「macOS への MySQL のインストールに関する一般的なノート」</a> を参照してください。
  </p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="macos-installation-notes"></a>2.4.1 macOS への MySQL のインストールに関する一般的なノート</h3></div></div></div><p>
      次の問題と注記に留意してください。
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          <span class="bold"><strong>その他の MySQL インストール</strong></span>: インストール手順では、Homebrew などのパッケージマネージャーによる MySQL のインストールは認識されません。 インストールおよびアップグレードプロセスは、弊社が提供する MySQL パッケージ用です。 他のインストールが存在する場合は、ポートの競合を回避するために、このインストーラを実行する前にそれらを停止することを検討してください。 
        </p><p>
          <span class="bold"><strong>Homebrew</strong></span>: たとえば、Homebrew を使用して MySQL Server をデフォルトの場所にインストールした場合、MySQL インストーラは別の場所にインストールされ、Homebrew からバージョンはアップグレードされません。 このシナリオでは、デフォルトで同じポートを使用しようとする複数の MySQL インストールで終了します。 <span class="emphasis"><em>brew サービス mysql の停止</em></span>を実行して Homebrew MySQL サービスを停止するなど、このインストーラを実行する前に他の MySQL Server インスタンスを停止します。 
        </p></li><li class="listitem"><p>
          <span class="bold"><strong>Launchd</strong></span>: MySQL 構成オプションを変更する launchd デーモンがインストールされます。 必要に応じて編集を検討してください。詳細は、次のドキュメントを参照してください。 また、macOS 10.10 では、起動されたデーモンを優先して起動アイテムのサポートが削除されました。 macOS <span class="guilabel">「システムプリファレンス」</span>のオプションの MySQL 設定ペインでは、launchd デーモンが使用されます。 
        </p></li><li class="listitem"><p>
          <span class="bold"><strong>ユーザー</strong></span>: MySQL ディレクトリおよびデータを所有する特定の <code class="literal">mysql</code> ユーザーを作成する必要がある (または必要な) 場合があります。 これは、<span class="command"><strong> ディレクトリユーティリティー</strong></span>を通じて実行可能であり、<code class="literal">mysql</code> ユーザーがすでに存在している必要があります。 シングルユーザーモードで使用するには、<code class="literal">_mysql</code> (アンダースコアのプリフィクスに注意してください) のエントリが <code class="filename">/etc/passwd</code> システムファイルにすでに存在している必要があります。 
        </p></li><li class="listitem"><p>
          <span class="bold"><strong>Data</strong></span>: MySQL パッケージインストーラは MySQL の内容をバージョンおよびプラットフォーム固有のディレクトリにインストールするため、これを使用してバージョン間でデータベースをアップグレードおよび移行できます。 <code class="filename">data</code> ディレクトリを古いバージョンから新しいバージョンにコピーするか、代替の <code class="option">datadir</code> 値を指定してデータディレクトリの場所を設定する必要があります。 デフォルトでは、MySQL ディレクトリは <code class="filename">/usr/local/</code> の下にインストールされます。 
        </p></li><li class="listitem"><p>
          <span class="bold"><strong>エイリアス</strong></span>: シェルリソースファイルにエイリアスを追加すると、<span class="command"><strong>mysql</strong></span> や <span class="command"><strong>mysqladmin</strong></span> などの一般的に使用されるプログラムにコマンドラインから簡単にアクセスできるようになります。 <span class="command"><strong>bash</strong></span> での構文は次のようになります。 
        </p><pre class="programlisting">alias mysql=/usr/local/mysql/bin/mysql
alias mysqladmin=/usr/local/mysql/bin/mysqladmin
</pre><p>
          <span class="command"><strong>tcsh</strong></span> では次を使用します。
        </p><pre class="programlisting">alias mysql /usr/local/mysql/bin/mysql
alias mysqladmin /usr/local/mysql/bin/mysqladmin
</pre><p>
          <code class="literal">/usr/local/mysql/bin</code> to your <code class="literal">PATH</code> 環境変数を追加するとさらによいでしょう。 これを行うには、シェルの適切な起動ファイルを変更します。 詳細については、<a class="xref" href="programs.html#invoking-programs" title="4.2.1 MySQL プログラムの起動">セクション4.2.1「MySQL プログラムの起動」</a>を参照してください。 
        </p></li><li class="listitem"><p>
          <span class="bold"><strong>削除中</strong></span>: 前のインストールから MySQL データベースファイルをコピーし、新しいサーバーを正常に起動したら、古いインストールファイルを削除してディスク領域を節約することを検討する必要があります。 さらに、<code class="filename">/Library/Receipts/mysql-<em class="replaceable"><code>VERSION</code></em>.pkg</code> にある、古いバージョンのパッケージを入れたディレクトリも削除する必要があります。 
        </p></li><li class="listitem"><p>
          <span class="bold"><strong>レガシー</strong></span>: OS X 10.7 より前は、MySQL サーバーは OS X サーバーにバンドルされていました。
        </p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="macos-installation-pkg"></a>2.4.2 ネイティブパッケージを使用した macOS への MySQL のインストール</h3></div></div></div><p>
      パッケージは、ディスクイメージ (<code class="literal">.dmg</code>) ファイルにあり、最初に Finder でそのアイコンをダブルクリックしてマウントする必要があります。 すると、イメージがマウントされ、そのコンテンツが表示されます。 
    </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
        インストールを続行する前に、コマンドラインで MySQL Manager アプリケーション (macOS サーバーの場合)、プリファレンスペインまたは <span class="command"><strong>mysqladmin shutdown</strong></span> を使用して、実行中のすべての MySQL サーバーインスタンスを停止してください。
      </p></div><p>
      パッケージインストーラを使用して MySQL をインストールするには:
    </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
          MySQL パッケージインストーラを含むディスクイメージ (<code class="filename">.dmg</code>) ファイル (コミュニティバージョンは<a class="ulink" href="https://dev.mysql.com/downloads/mysql/" target="_top">「ここ」</a>で使用可能) をダウンロードします。 ファイルをダブルクリックしてディスクイメージをマウントし、その内容を確認します。 
        </p><p>
          ディスクから MySQL インストーラパッケージをダブルクリックします。 ダウンロードした MySQL のバージョンに従って名前が付けられます。 たとえば、MySQL サーバー 8.0.25 の場合は、<code class="filename">mysql-8.0.25-macos-<em class="replaceable"><code>10.13-x86_64</code></em>.pkg</code> という名前になります。 
        </p></li><li class="listitem"><p>
          ウィザードの最初の導入画面では、インストールする MySQL サーバーのバージョンを参照します。 <span class="guibutton">続行</span>をクリックしてインストールを開始します。 
        </p><p>
          MySQL コミュニティエディションには、関連する GNU General Public License のコピーが表示されます。 <span class="guibutton">「Continue」</span>、<span class="guibutton">「Agree」</span>の順にクリックして続行します。 
        </p></li><li class="listitem"><p>
          <span class="guilabel">「インストールタイプ」</span>ページで、<span class="guibutton"> Install </span>をクリックしてすべてのデフォルトを使用してインストールウィザードを実行し、<span class="guibutton">カスタマイズ</span>をクリックしてインストールするコンポーネント (MySQL サーバー、MySQL テスト、プリファレンスペイン、起動されたサポート) を変更できます -- MySQL Test 以外はすべてデフォルトで有効になっています)。
        </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
            <span class="guibutton">インストール場所の変更</span>オプションは表示されますが、インストール場所は変更できません。
          </p></div><div class="figure"><a name="mac-installer-installation-type-main"></a><p class="title"><b>図 2.13 MySQL パッケージインストーラウィザード: インストールタイプ</b></p><div class="figure-contents"><div class="mediaobject"><img src="images/mac-installer-installation-type-standard.png" width="621" height="438" alt="内容は周囲のテキストで説明されています。"></div></div></div><br class="figure-break"><div class="figure"><a name="mac-installer-installation-customize-main"></a><p class="title"><b>図 2.14 MySQL パッケージインストーラウィザード: カスタマイズ</b></p><div class="figure-contents"><div class="mediaobject"><img src="images/mac-installer-installation-type-customize.png" width="622" height="439" alt="カスタマイズは 3 つのパッケージ名オプションを表示します: MySQL Server、MySQL テスト、プリファレンスペインおよび起動されたサポート。 3 つのオプションがすべてチェックされます。"></div></div></div><br class="figure-break"></li><li class="listitem"><p>
          <span class="guibutton"> Install </span>をクリックして、MySQL Server をインストールします。 現在の MySQL Server インストールをアップグレードする場合、インストールプロセスはここで終了します。それ以外の場合は、新しい MySQL Server インストールのウィザード追加構成ステップに従います。 
        </p></li><li class="listitem"><p>
          新しい MySQL Server が正常にインストールされたら、パスワードのデフォルトの暗号化タイプを選択して構成ステップを完了し、root パスワードを定義して、起動時に MySQL サーバーを有効 (または無効) にします。
        </p></li><li class="listitem"><p>
          デフォルトの MySQL 8.0 パスワードメカニズムは <code class="literal">caching_sha2_password</code> (Strong) で、このステップで <code class="literal">mysql_native_password</code> (レガシー) に変更できます。
        </p><div class="figure"><a name="mac-installer-installation-encryption-type"></a><p class="title"><b>図 2.15 MySQL パッケージインストーラウィザード: パスワード暗号化タイプの選択</b></p><div class="figure-contents"><div class="mediaobject"><img src="images/mac-installer-configuration-password-type.png" width="621" height="438" alt="ほとんどのコンテンツは周囲のテキストで説明されています。 インストーラでは、caching_sha2_password を「強力なパスワード暗号化の使用」、mysql_native_password を「レガシーパスワード暗号化の使用」と呼びます。"></div></div></div><br class="figure-break"><p>
          レガシーパスワードメカニズムを選択すると、生成された起動ファイルが変更され、<code class="literal">ProgramArguments</code> で <code class="literal">--default_authentication_plugin=mysql_native_password</code> が設定されます。 強力なパスワード暗号化を選択しても、デフォルトの MySQL Server 値 (<code class="literal">caching_sha2_password</code>) が使用されるため、<code class="literal">--default_authentication_plugin</code> は設定されません。 
        </p></li><li class="listitem"><p>
          root ユーザーのパスワードを定義し、構成ステップの完了後に MySQL Server を起動するかどうかも切り替えます。
        </p><div class="figure"><a name="mac-installer-installation-root-pass"></a><p class="title"><b>図 2.16 MySQL パッケージインストーラウィザード: ルートパスワードの定義</b></p><div class="figure-contents"><div class="mediaobject"><img src="images/mac-installer-configuration-password-define.png" width="621" height="438" alt="内容は周囲のテキストで説明されています。"></div></div></div><br class="figure-break"></li><li class="listitem"><p>
          <span class="guilabel">「まとめ」</span>は最後のステップで、成功した完全な MySQL Server インストールを参照します。 ウィザードで<span class="guibutton">クローズ</span>を実行します。 
        </p><div class="figure"><a name="mac-installer-installation-summary"></a><p class="title"><b>図 2.17 MySQL パッケージインストーラウィザード: まとめ</b></p><div class="figure-contents"><div class="mediaobject"><img src="images/mac-installer-summary.png" width="621" height="438" alt="インストールが成功したことを示し、MySQL マニュアル、mysql.com および oracle.com へのリンクが含まれています。"></div></div></div><br class="figure-break"></li></ol></div><p>
      MySQL サーバーがインストールされました。 MySQL を起動しないことを選択した場合は、コマンドラインから launchctl を使用するか、MySQL のプリファレンスペインで「起動」をクリックして MySQL を起動します。 詳細については、<a class="xref" href="installing.html#macos-installation-launchd" title="2.4.3 MySQL 起動デーモンのインストールおよび使用">セクション2.4.3「MySQL 起動デーモンのインストールおよび使用」</a>,および<a class="xref" href="installing.html#macos-installation-prefpane" title="2.4.4 MySQL Preference Pane のインストールと使用">セクション2.4.4「MySQL Preference Pane のインストールと使用」</a>を参照してください。 MySQL 設定ペインまたは launchd を使用して、ブート時に自動的に起動するように MySQL を構成します。 
    </p><p>
      Package Installer を使用してインストールする場合、ファイルは <code class="filename">/usr/local</code> 内の、インストールするバージョンとプラットフォームに一致する名前のディレクトリにインストールされます。 たとえば、インストーラファイル <code class="filename">mysql-8.0.25-<em class="replaceable"><code>macos10.15-x86_64.dmg</code></em></code> は、<code class="filename">/usr/local/mysql</code> へのシンボリックリンクを使用して MySQL を<code class="filename">/usr/local/mysql-8.0.25-macos10.15-x86_64/ </code>にインストールします。 次のテーブルに、この MySQL インストールディレクトリのレイアウトを示します。 
    </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
        macOS のインストールプロセスでは、サンプルの <code class="filename">my.cnf</code> MySQL 構成ファイルは作成またはインストールされません。
      </p></div><div class="table"><a name="mysql-installation-layout-macos"></a><p class="title"><b>表 2.7 macOS での MySQL のインストールレイアウト</b></p><div class="table-contents"><table><col style="width: 45%"><col style="width: 55%"><thead><tr>
          <th>ディレクトリ</th>
          <th>ディレクトリの内容</th>
        </tr></thead><tbody><tr>
          <td><code class="filename">bin</code></td>
          <td><span class="command"><strong>mysqld</strong></span> サーバー、クライアントプログラムおよびユーティリティプログラム</td>
        </tr><tr>
          <td><code class="filename">data</code></td>
          <td>ログファイル、データベース (<code class="filename">/usr/local/mysql/data/mysqld.local.err</code> はデフォルトのエラーログ)</td>
        </tr><tr>
          <td><code class="filename">docs</code></td>
          <td>リリースノートおよびビルド情報などのヘルパードキュメント</td>
        </tr><tr>
          <td><code class="filename">include</code></td>
          <td>インクルード (ヘッダー) ファイル</td>
        </tr><tr>
          <td><code class="filename">lib</code></td>
          <td>ライブラリ</td>
        </tr><tr>
          <td><code class="filename">man</code></td>
          <td>Unix マニュアルページ</td>
        </tr><tr>
          <td><code class="filename">mysql-test</code></td>
          <td>MySQL テストスイート ('MySQL Test'は、インストーラパッケージ (DMG) の使用時にインストールプロセス中にデフォルトで無効になっています)</td>
        </tr><tr>
          <td><code class="filename">share</code></td>
          <td>エラーメッセージ、<code class="filename">dictionary.txt</code>、リライタ SQL などのその他のサポートファイル</td>
        </tr><tr>
          <td><code class="filename">support-files</code></td>
          <td><code class="filename">mysqld_multi.server</code>、<code class="filename">mysql.server</code>、<code class="filename">mysql-log-rotate</code> などのスクリプトをサポートします。</td>
        </tr><tr>
          <td><code class="filename">/tmp/mysql.sock</code></td>
          <td>MySQL Unix ソケットの場所</td>
        </tr></tbody></table></div></div><br class="table-break"></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="macos-installation-launchd"></a>2.4.3 MySQL 起動デーモンのインストールおよび使用</h3></div></div></div><p>
      macOS では、起動デーモンを使用して、MySQL などのプロセスおよびアプリケーションを自動的に起動、停止および管理します。
    </p><p>
      デフォルトでは、macOS のインストールパッケージ (DMG) によって、次のような plist 定義を含む<code class="filename">/Library/LaunchDaemons/com.oracle.oss.mysql.mysqld.plist</code> という名前の起動ファイルがインストールされます:
    </p><pre class="programlisting">
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;!DOCTYPE plist PUBLIC "-//Apple Computer//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd"&gt;
&lt;plist version="1.0"&gt;
&lt;dict&gt;
    &lt;key&gt;Label&lt;/key&gt;             &lt;string&gt;com.oracle.oss.mysql.mysqld&lt;/string&gt;
    &lt;key&gt;ProcessType&lt;/key&gt;       &lt;string&gt;Interactive&lt;/string&gt;
    &lt;key&gt;Disabled&lt;/key&gt;          &lt;false/&gt;
    &lt;key&gt;RunAtLoad&lt;/key&gt;         &lt;true/&gt;
    &lt;key&gt;KeepAlive&lt;/key&gt;         &lt;true/&gt;
    &lt;key&gt;SessionCreate&lt;/key&gt;     &lt;true/&gt;
    &lt;key&gt;LaunchOnlyOnce&lt;/key&gt;    &lt;false/&gt;
    &lt;key&gt;UserName&lt;/key&gt;          &lt;string&gt;_mysql&lt;/string&gt;
    &lt;key&gt;GroupName&lt;/key&gt;         &lt;string&gt;_mysql&lt;/string&gt;
    &lt;key&gt;ExitTimeOut&lt;/key&gt;       &lt;integer&gt;600&lt;/integer&gt;
    &lt;key&gt;Program&lt;/key&gt;           &lt;string&gt;/usr/local/mysql/bin/mysqld&lt;/string&gt;
    &lt;key&gt;ProgramArguments&lt;/key&gt;
        &lt;array&gt;
            &lt;string&gt;/usr/local/mysql/bin/mysqld&lt;/string&gt;
            &lt;string&gt;--user=_mysql&lt;/string&gt;
            &lt;string&gt;--basedir=/usr/local/mysql&lt;/string&gt;
            &lt;string&gt;--datadir=/usr/local/mysql/data&lt;/string&gt;
            &lt;string&gt;--plugin-dir=/usr/local/mysql/lib/plugin&lt;/string&gt;
            &lt;string&gt;--log-error=/usr/local/mysql/data/mysqld.local.err&lt;/string&gt;
            &lt;string&gt;--pid-file=/usr/local/mysql/data/mysqld.local.pid&lt;/string&gt;
            &lt;string&gt;--keyring-file-data=/usr/local/mysql/keyring/keyring&lt;/string&gt;
            &lt;string&gt;--early-plugin-load=keyring_file=keyring_file.so&lt;/string&gt;
        &lt;/array&gt;
    &lt;key&gt;WorkingDirectory&lt;/key&gt;  &lt;string&gt;/usr/local/mysql&lt;/string&gt;
&lt;/dict&gt;
&lt;/plist&gt;

   </pre><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
        plist DOCTYPE 宣言を追加すると lint チェックに合格しているにもかかわらず、起動された操作が失敗すると報告されるユーザーもいます。 copy-n-paste エラーである可能性があります。 前述のスニペットを含むファイルの md5 チェックサムは <span class="emphasis"><em>d925f05f6d1b6ee5ce5451b596d6baed</em></span> です。 
      </p></div><p>
      起動されたサービスを有効にするには、次のいずれかを実行します:
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          macOS システムプリファレンスを開き、MySQL プリファレンスパネルを選択して、<span class="guibutton"> MySQL Server の起動</span>を実行します。
        </p><div class="figure"><a name="mac-installer-preference-pane-location-launchd"></a><p class="title"><b>図 2.18 MySQL Preference Pane: 場所</b></p><div class="figure-contents"><div class="mediaobject"><img src="images/mac-installer-preference-pane-location.png" width="668" height="598" alt="macOS の「システムプリファレンス」検索ボックスに入力された「MySQL」と、MySQL の「プリファレンス」ペインの左下にある強調表示された「MySQL」アイコンを示します。"></div></div></div><br class="figure-break"><p>
          <span class="guilabel">「インスタンス」</span>ページには、MySQL を起動または停止するオプションが含まれており、<span class="guibutton">データベースの初期化</span>によって <code class="filename">data/</code>ディレクトリが再作成されます。 <span class="guibutton">アンインストール</span>は、MySQL Server をアンインストールし、オプションで MySQL 設定パネルおよび起動された情報をアンインストールします。 
        </p><div class="figure"><a name="mac-installer-preference-pane-instances-launchd"></a><p class="title"><b>図 2.19 MySQL プリファレンスペイン: インスタンス</b></p><div class="figure-contents"><div class="mediaobject"><img src="images/mac-installer-preference-pane-instances.png" width="668" height="548" alt="左側には、「アクティブインスタンス」、「インストールされたインスタンス」および「データディレクトリ」セクションで区切られた MySQL インスタンスのリストが表示されます。 右側には、「MySQL Server の停止」ボタン、「コンピュータの起動時に MySQL を起動」というタイトルのチェックボックス、「データベースの初期化」および「アンインストール」ボタンがあります。 いくつかのフィールドは、現在インストールされている MySQL バージョンとして 8.0.11 を参照します。"></div></div></div><br class="figure-break"></li><li class="listitem"><p>
          または、起動されたファイルを手動でロードします。
        </p><pre class="programlisting">shell&gt; cd /Library/LaunchDaemons
shell&gt; sudo launchctl load -F com.oracle.oss.mysql.mysqld.plist
        </pre></li><li class="listitem"><p>
          ブート時に自動的に起動するように MySQL を構成するには、次の手順を実行します:
        </p><pre class="programlisting">shell&gt; sudo launchctl load -w com.oracle.oss.mysql.mysqld.plist
</pre></li></ul></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
        MySQL サーバーをアップグレードする場合、起動されたインストールプロセスによって、MySQL サーバー 5.7.7 以下とともにインストールされた古い起動アイテムが削除されます。
      </p><p>
        アップグレードすると、<code class="filename">com.oracle.oss.mysql.mysqld.plist</code> という名前の既存の起動ファイルも置換されます。
      </p></div><p>
      その他の起動関連情報:
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          plist エントリはコマンドライン引数として渡されるため、<code class="filename">my.cnf</code> エントリをオーバーライドします。 プログラムオプションを渡す方法の詳細は、<a class="xref" href="programs.html#program-options" title="4.2.2 プログラムオプションの指定">セクション4.2.2「プログラムオプションの指定」</a> を参照してください。 
        </p></li><li class="listitem"><p>
          <span class="bold"><strong>ProgramArguments</strong></span> セクションでは、プログラムに渡されるコマンド行オプション (この場合は <code class="filename">mysqld</code> バイナリ) を定義します。
        </p></li><li class="listitem"><p>
          デフォルトの plist 定義は、より洗練されたユースケースを念頭に置いて記述されます。 より複雑な設定の場合は、一部の引数を削除し、かわりに <code class="filename">my.cnf</code> などの MySQL 構成ファイルに依存できます。 
        </p></li><li class="listitem"><p>
          plist ファイルを編集する場合は、MySQL の再インストールまたはアップグレード時にインストーラオプションの選択を解除します。 そうしないと、編集した plist ファイルが上書きされ、すべての編集内容が失われます。 
        </p></li></ul></div><p>
      デフォルトの plist 定義では複数の <span class="bold"><strong>ProgramArguments</strong></span> が定義されているため、これらの引数のほとんどを削除し、かわりに <code class="filename">my.cnf</code> MySQL 構成ファイルを使用してそれらを定義できます。 例: 
    </p><pre class="programlisting">
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;!DOCTYPE plist PUBLIC "-//Apple Computer//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd"&gt;
&lt;plist version="1.0"&gt;
&lt;dict&gt;
    &lt;key&gt;Label&lt;/key&gt;             &lt;string&gt;com.oracle.oss.mysql.mysqld&lt;/string&gt;
    &lt;key&gt;ProcessType&lt;/key&gt;       &lt;string&gt;Interactive&lt;/string&gt;
    &lt;key&gt;Disabled&lt;/key&gt;          &lt;false/&gt;
    &lt;key&gt;RunAtLoad&lt;/key&gt;         &lt;true/&gt;
    &lt;key&gt;KeepAlive&lt;/key&gt;         &lt;true/&gt;
    &lt;key&gt;SessionCreate&lt;/key&gt;     &lt;true/&gt;
    &lt;key&gt;LaunchOnlyOnce&lt;/key&gt;    &lt;false/&gt;
    &lt;key&gt;UserName&lt;/key&gt;          &lt;string&gt;_mysql&lt;/string&gt;
    &lt;key&gt;GroupName&lt;/key&gt;         &lt;string&gt;_mysql&lt;/string&gt;
    &lt;key&gt;ExitTimeOut&lt;/key&gt;       &lt;integer&gt;600&lt;/integer&gt;
    &lt;key&gt;Program&lt;/key&gt;           &lt;string&gt;/usr/local/mysql/bin/mysqld&lt;/string&gt;
    &lt;key&gt;ProgramArguments&lt;/key&gt;
        &lt;array&gt;
            &lt;string&gt;/usr/local/mysql/bin/mysqld&lt;/string&gt;
            &lt;string&gt;--user=_mysql&lt;/string&gt;
            &lt;string&gt;--basedir=/usr/local/mysql&lt;/string&gt;
            &lt;string&gt;--datadir=/usr/local/mysql/data&lt;/string&gt;
            &lt;string&gt;--plugin-dir=/usr/local/mysql/lib/plugin&lt;/string&gt;
            &lt;string&gt;--log-error=/usr/local/mysql/data/mysqld.local.err&lt;/string&gt;
            &lt;string&gt;--pid-file=/usr/local/mysql/data/mysqld.local.pid&lt;/string&gt;
            &lt;string&gt;--keyring-file-data=/usr/local/mysql/keyring/keyring&lt;/string&gt;
            &lt;string&gt;--early-plugin-load=keyring_file=keyring_file.so&lt;/string&gt;
        &lt;/array&gt;
    &lt;key&gt;WorkingDirectory&lt;/key&gt;  &lt;string&gt;/usr/local/mysql&lt;/string&gt;
&lt;/dict&gt;
&lt;/plist&gt;

   </pre><p>
      この場合、<code class="filename">my.cnf</code> で定義されている可能性があるデフォルトの plist <span class="emphasis"><em>ProgramArguments</em></span> 定義から、<code class="literal">basedir</code>, <code class="literal">datadir</code>, <code class="literal">plugin_dir</code>, <code class="literal">log_error</code>, <code class="literal">pid_file</code>, <code class="literal">keyring_file_data</code>、および <code class="option">--early-plugin-load</code> オプションが削除されました。
    </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="macos-installation-prefpane"></a>2.4.4 MySQL Preference Pane のインストールと使用</h3></div></div></div><p>
      MySQL インストールパッケージには、MySQL インストールのブート中に自動起動を起動、停止、および制御できる MySQL 設定ペインが含まれています。
    </p><p>
      このプリファレンスペインはデフォルトでインストールされ、システムの<span class="emphasis"><em>システムプリファレンス</em></span>ウィンドウの下にリストされます。
    </p><div class="figure"><a name="mac-installer-preference-pane-location-initial"></a><p class="title"><b>図 2.20 MySQL Preference Pane: 場所</b></p><div class="figure-contents"><div class="mediaobject"><img src="images/mac-installer-preference-pane-location.png" width="668" height="598" alt="macOS システムプリファレンス検索ボックスに入力された「MySQL」と、左下に強調表示された「MySQL」アイコンを示しています。"></div></div></div><br class="figure-break"><p>
      MySQL プリファレンスペインは、MySQL Server をインストールする DMG ファイルと同じ DMG ファイルとともにインストールされます。 通常は MySQL Server とともにインストールされますが、単独でもインストールできます。 
    </p><p>
      MySQL プリファレンスペインをインストールするには:
    </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
          MySQL Server のインストールプロセスを、<a class="xref" href="installing.html#macos-installation-pkg" title="2.4.2 ネイティブパッケージを使用した macOS への MySQL のインストール">セクション2.4.2「ネイティブパッケージを使用した macOS への MySQL のインストール」</a>のドキュメントの記述に従って実行します。
        </p></li><li class="listitem"><p>
          <span class="guilabel">「Installation Type」</span>の手順で、<span class="guibutton">「Customize」</span>をクリックします。 「プリファレンスペイン」オプションがここにリストされ、デフォルトで有効になっています。選択が解除されていないことを確認してください。 MySQL Server などのその他のオプションは選択または選択解除できます。 
        </p><div class="figure"><a name="mac-installer-installation-customize-pane"></a><p class="title"><b>図 2.21 MySQL パッケージインストーラウィザード: カスタマイズ</b></p><div class="figure-contents"><div class="mediaobject"><img src="images/mac-installer-installation-type-customize.png" width="622" height="439" alt="カスタマイズは 3 つのパッケージ名オプションを表示します: MySQL Server、MySQL テスト、プリファレンスペインおよび起動されたサポート。 3 つのオプションがすべてチェックされます。"></div></div></div><br class="figure-break"></li><li class="listitem"><p>
          インストールプロセスを完了します。
        </p></li></ol></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
        MySQL 設定ペインは、デフォルトの場所にインストールされている MySQL パッケージのインストールからインストールされた MySQL のインストールのみを開始および停止します。
      </p></div><p>
      MySQL プリファレンスペインがインストールされると、このプリファレンスペインを使用して MySQL サーバーインスタンスを制御できます。
    </p><p>
      <span class="guilabel">「インスタンス」</span>ページには、MySQL を起動および停止するオプションが含まれており、<span class="guibutton">データベースの初期化</span>によって <code class="filename">data/</code>ディレクトリが再作成されます。 <span class="guibutton">アンインストール</span>により、MySQL Server がアンインストールされ、オプションで問題および起動情報がアンインストールされます。 
    </p><p>
      <span class="guilabel">「インスタンス」</span>ページには、MySQL を起動または停止するオプションが含まれており、<span class="guibutton">データベースの初期化</span>によって <code class="filename">data/</code>ディレクトリが再作成されます。 <span class="guibutton">アンインストール</span>は、MySQL Server をアンインストールし、オプションで MySQL 設定パネルおよび起動された情報をアンインストールします。 
    </p><div class="figure"><a name="mac-installer-preference-pane-instances-instances"></a><p class="title"><b>図 2.22 MySQL プリファレンスペイン: インスタンス</b></p><div class="figure-contents"><div class="mediaobject"><img src="images/mac-installer-preference-pane-instances.png" width="668" height="548" alt="左側には、「アクティブインスタンス」、「インストールされたインスタンス」および「データディレクトリ」セクションで区切られた MySQL インスタンスのリストが表示されます。 右側には、「MySQL Server の停止」ボタン、「コンピュータの起動時に MySQL を起動」というタイトルのチェックボックス、「データベースの初期化」および「アンインストール」ボタンがあります。 いくつかのフィールドは、現在インストールされている MySQL バージョンとして 8.0.11 を参照します。"></div></div></div><br class="figure-break"><p>
      <span class="guilabel">「構成」</span>ページには、MySQL 構成ファイルへのパスを含む MySQL Server オプションが表示されます。
    </p><div class="figure"><a name="mac-installer-preference-pane-configuration"></a><p class="title"><b>図 2.23 MySQL プリファレンスペイン: 構成</b></p><div class="figure-contents"><div class="mediaobject"><img src="images/mac-installer-preference-pane-configuration.png" width="668" height="548" alt="内容は周囲のテキストで説明されています。"></div></div></div><br class="figure-break"><p>
      MySQL Preference Pane は、MySQL Server の現在のステータスを表示します。サーバーが実行していない場合は (赤で) <span class="guilabel">「stopped」</span> 、サーバーがすでに起動している場合は (緑で) <span class="guilabel">「running」</span> と表示します。 Preference Pane は、MySQL Server が自動的に起動するように設定されているかどうかに関する現在の設定も表示します。 
    </p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="linux-installation"></a>2.5 Linux に MySQL をインストールする</h2></div></div></div><div class="toc"><dl class="toc"><dt><span class="section"><a href="installing.html#linux-installation-yum-repo">2.5.1 MySQL Yum リポジトリを使用して MySQL を Linux にインストールする</a></span></dt><dt><span class="section"><a href="installing.html#linux-installation-apt-repo">2.5.2 MySQL APT リポジトリを使用して MySQL を Linux にインストールする</a></span></dt><dt><span class="section"><a href="installing.html#linux-installation-sles-repo">2.5.3 MySQL SLES リポジトリを使用して MySQL を Linux にインストールする</a></span></dt><dt><span class="section"><a href="installing.html#linux-installation-rpm">2.5.4 Oracle の RPM パッケージを使用した Linux への MySQL のインストール</a></span></dt><dt><span class="section"><a href="installing.html#linux-installation-debian">2.5.5 オラクルからの Debian パッケージを使用して MySQL を Linux にインストールする</a></span></dt><dt><span class="section"><a href="installing.html#linux-installation-docker">2.5.6 Docker での Linux への MySQL のデプロイ</a></span></dt><dt><span class="section"><a href="installing.html#linux-installation-native">2.5.7 ネイティブソフトウェアリポジトリから MySQL を Linux にインストールする</a></span></dt><dt><span class="section"><a href="installing.html#linux-installation-juju">2.5.8 Juju を使用した Linux への MySQL のインストール</a></span></dt><dt><span class="section"><a href="installing.html#using-systemd">2.5.9 systemd を使用した MySQL Server の管理</a></span></dt></dl></div><p>
    Linux は、MySQL をインストールするための何種類かのソリューションをサポートします。 オラクルからの配布のいずれかを使用することを推奨します。いくつかのインストール方法が使用可能です。 
  </p><div class="table"><a name="linux-installation-methods"></a><p class="title"><b>表 2.8 Linux のインストール方法と情報</b></p><div class="table-contents"><table><col style="width: 30%"><col style="width: 30%"><col style="width: 40%"><thead><tr>
        <th scope="col">型</th>
        <th scope="col">設定方法</th>
        <th scope="col">追加情報</th>
      </tr></thead><tbody><tr>
        <th scope="row">Apt</th>
        <td><a class="ulink" href="https://dev.mysql.com/downloads/repo/apt/" target="_top">「MySQL Apt リポジトリ」</a>の有効化</td>
        <td><a class="link" href="installing.html#linux-installation-apt-repo" title="2.5.2 MySQL APT リポジトリを使用して MySQL を Linux にインストールする">Documentation</a></td>
      </tr><tr>
        <th scope="row">Yum</th>
        <td><a class="ulink" href="https://dev.mysql.com/downloads/repo/yum/" target="_top">「MySQL Yum リポジトリ」</a>の有効化</td>
        <td><a class="link" href="installing.html#linux-installation-yum-repo" title="2.5.1 MySQL Yum リポジトリを使用して MySQL を Linux にインストールする">Documentation</a></td>
      </tr><tr>
        <th scope="row">Zypper</th>
        <td><a class="ulink" href="https://dev.mysql.com/downloads/repo/suse/" target="_top">「MySQL SLES リポジトリ」</a>の有効化</td>
        <td><a class="link" href="installing.html#linux-installation-sles-repo" title="2.5.3 MySQL SLES リポジトリを使用して MySQL を Linux にインストールする">Documentation</a></td>
      </tr><tr>
        <th scope="row">RPM</th>
        <td>特定のパッケージの<a class="ulink" href="https://dev.mysql.com/downloads/mysql/" target="_top">「ダウンロード」</a></td>
        <td><a class="link" href="installing.html#linux-installation-rpm" title="2.5.4 Oracle の RPM パッケージを使用した Linux への MySQL のインストール">Documentation</a></td>
      </tr><tr>
        <th scope="row">DEB</th>
        <td>特定のパッケージの<a class="ulink" href="https://dev.mysql.com/downloads/mysql/" target="_top">「ダウンロード」</a></td>
        <td><a class="link" href="installing.html#linux-installation-debian" title="2.5.5 オラクルからの Debian パッケージを使用して MySQL を Linux にインストールする">Documentation</a></td>
      </tr><tr>
        <th scope="row">Generic</th>
        <td>汎用パッケージの<a class="ulink" href="https://dev.mysql.com/downloads/mysql/" target="_top">「ダウンロード」</a></td>
        <td><a class="link" href="installing.html#binary-installation" title="2.2 一般的なバイナリを使用した MySQL の Unix/Linux へのインストール">Documentation</a></td>
      </tr><tr>
        <th scope="row">ソース</th>
        <td><a class="ulink" href="https://dev.mysql.com/downloads/mysql/" target="_top">source</a> からコンパイル</td>
        <td><a class="link" href="installing.html#source-installation" title="2.9 ソースから MySQL をインストールする">Documentation</a></td>
      </tr><tr>
        <th scope="row">Docker</th>
        <td>Docker Hub for MySQL Community Edition の使用; <a class="ulink" href="https://support.oracle.com/" target="_top">My Oracle Support</a> から MySQL Enterprise Edition の Docker イメージをダウンロード</td>
        <td><a class="link" href="installing.html#linux-installation-docker" title="2.5.6 Docker での Linux への MySQL のデプロイ">Documentation</a></td>
      </tr><tr>
        <th scope="row">Oracle Unbreakable Linux Network</th>
        <td>ULN チャネルの使用</td>
        <td><a class="link" href="installing.html#uln-installation" title="2.6 Unbreakable Linux Network (ULN) を使用した MySQL のインストール">Documentation</a></td>
      </tr></tbody></table></div></div><br class="table-break"><p>
    代わりにシステムのパッケージマネージャーを使用して、Linux 配布のネイティブソフトウェアリポジトリからのパッケージで、MySQL を自動的にダウンロードしてインストールできます。 これらのネイティブパッケージは多くの場合、使用可能な最新のリリースから数バージョン遅れています。 通常、開発マイルストンリリース (DMR) はネイティブリポジトリで使用可能になっていないため、インストールできません。 ネイティブパッケージインストーラの使用の詳細は、<a class="xref" href="installing.html#linux-installation-native" title="2.5.7 ネイティブソフトウェアリポジトリから MySQL を Linux にインストールする">セクション2.5.7「ネイティブソフトウェアリポジトリから MySQL を Linux にインストールする」</a>を参照してください。 
  </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
      多くの Linux インストールでは、マシンの起動時に MySQL が自動的に起動するように設定する必要があります。 多くのネイティブパッケージインストールではこの操作は自動的に行われますが、ソース、バイナリ、および RPM ソリューションでは個別の設定が必要になる場合があります。 必要なスクリプト <span class="command"><strong>mysql.server</strong></span> は、MySQL インストールディレクトリの下の <code class="filename">support-files</code> ディレクトリ、または MySQL ソースツリーにあります。 自動的に起動およびシャットダウンするには、それを <code class="filename">/etc/init.d/mysql</code> としてインストールします。 <a class="xref" href="programs.html#mysql-server" title="4.3.3 mysql.server — MySQL サーバー起動スクリプト">セクション4.3.3「mysql.server — MySQL サーバー起動スクリプト」</a>を参照してください。 
    </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="linux-installation-yum-repo"></a>2.5.1 MySQL Yum リポジトリを使用して MySQL を Linux にインストールする</h3></div></div></div><a class="indexterm" name="idm45548121855504"></a><a class="indexterm" name="idm45548121854064"></a><p>
      Oracle Linux、Red Hat Enterprise Linux、CentOS および Fedora の<a class="ulink" href="https://dev.mysql.com/downloads/repo/yum/" target="_top">「MySQL Yum リポジトリ」</a>には、MySQL サーバー、クライアント、MySQL ワークベンチ、MySQL ユーティリティ、MySQL Router、MySQL Shell、Connector/ODBC、Connector/Python などをインストールするための RPM パッケージが用意されています (すべてのディストリビューションで使用できるわけではありません。<a class="xref" href="installing.html#yum-install-components" title="追加の MySQL 製品およびコンポーネントの Yum でのインストール">追加の MySQL 製品およびコンポーネントの Yum でのインストール</a> の詳細を参照してください)。
    </p><h4><a name="idm45548121849744"></a>開始する前に</h4><p>
      MySQL は、広く使用されるオープンソースのソフトウェアとして、オリジナルの形式または再パッケージされた形式で、さまざまなダウンロードサイトやソフトウェアリポジトリなどのさまざまなソースから、多くのシステムに広くインストールされています。 次の手順では、サードパーティ配布 RPM パッケージを使用しているシステムに MySQL がまだインストールされていないことを前提としています。インストールされていない場合は、<a class="xref" href="installing.html#updating-yum-repo" title="2.11.7 MySQL Yum リポジトリを使用する MySQL のアップグレード">セクション2.11.7「MySQL Yum リポジトリを使用する MySQL のアップグレード」</a> または <a class="ulink" href="https://dev.mysql.com/doc/refman/5.7/en/replace-third-party-yum.html" target="_top">Replacing a Third-Party Distribution of MySQL Using the MySQL Yum Repository</a> に記載されている手順に従ってください。 
    </p><h4><a name="idm45548121846336"></a>MySQL のインストールを最初から実行する手順</h4><p>
      MySQL の最新の GA バージョンを MySQL Yum リポジトリでインストールするには、次の手順に従ってください。
    </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><h4><a name="yum-repo-setup"></a>MySQL Yum リポジトリの追加</h4><p>
          まず、MySQL Yum リポジトリをシステムのリポジトリリストに追加します。 この操作は一度だけ必要で、MySQL が提供する RPM をインストールすることで実行できます。 次の手順に従います。 

          </p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p>
                MySQL Developer Zone の「Download MySQL Yum Repository」ページ (<a class="ulink" href="https://dev.mysql.com/downloads/repo/yum/" target="_top">https://dev.mysql.com/downloads/repo/yum/</a>) に移動します。
              </p></li><li class="listitem"><p>
                使用しているプラットフォーム用のリリースパッケージを選択してダウンロードします。
              </p></li><li class="listitem"><p>
                ダウンロードしたリリースパッケージを次のコマンドでインストールし、<em class="replaceable"><code>platform-and-version-specific-package-name</code></em> をダウンロードした RPM パッケージの名前に置き換えます:

</p><pre class="programlisting">shell&gt; <strong class="userinput"><code>sudo yum install <em class="replaceable"><code>platform-and-version-specific-package-name</code></em>.rpm</code></strong>
</pre><p>
              </p><p>
                EL6 ベースのシステムでは、コマンドは次の形式です。

</p><pre class="programlisting">shell&gt; <strong class="userinput"><code>sudo yum install mysql80-community-release-el6-<em class="replaceable"><code>{version-number}</code></em>.noarch.rpm</code></strong>
</pre><p>
              </p><p>
                EL7 ベースのシステムの場合:

</p><pre class="programlisting">shell&gt; <strong class="userinput"><code>sudo yum install mysql80-community-release-el7-<em class="replaceable"><code>{version-number}</code></em>.noarch.rpm</code></strong>
</pre><p>
              </p><p>
                EL8-based システムの場合:

</p><pre class="programlisting">shell&gt; <strong class="userinput"><code>sudo yum install mysql80-community-release-el8-<em class="replaceable"><code>{version-number}</code></em>.noarch.rpm</code></strong>
</pre><p>
              </p><p>
                Fedora 33 の場合:

</p><pre class="programlisting">shell&gt; <strong class="userinput"><code>sudo dnf install mysql80-community-release-fc33-<em class="replaceable"><code>{version-number}</code></em>.noarch.rpm</code></strong>
</pre><p>
              </p><p>
                Fedora 32 の場合:

</p><pre class="programlisting">shell&gt; <strong class="userinput"><code>sudo dnf install mysql80-community-release-fc32-<em class="replaceable"><code>{version-number}</code></em>.noarch.rpm</code></strong>
</pre><p>
              </p><p>
                インストールコマンドにより、MySQL Yum リポジトリがシステムのリポジトリリストに追加され、ソフトウェアパッケージの完全性をチェックするために GnuPG 鍵がダウンロードされます。 GnuPG 鍵チェックの詳細は、<a class="xref" href="installing.html#checking-gpg-signature" title="2.1.4.2 GnuPG を使用した署名確認">セクション2.1.4.2「GnuPG を使用した署名確認」</a>を参照してください。 
              </p><p>
                次のコマンドを使用して、MySQL Yum リポジトリが正常に追加されたことを確認できます (dnf 対応システムの場合、コマンドの <span class="command"><strong>yum</strong></span> を <span class="command"><strong>dnf</strong></span> に置き換えます):

</p><pre class="programlisting">shell&gt; <strong class="userinput"><code>yum repolist enabled | grep "mysql.*-community.*"</code></strong>
</pre><p>
              </p></li></ol></div><p>
        </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
            MySQL Yum リポジトリがシステムで有効になると、<span class="command"><strong>yum update</strong></span> コマンド (dnf 対応システムの場合は <span class="command"><strong>dnf upgrade</strong></span>) によるシステム全体の更新によって、システム上の MySQL パッケージがアップグレードされ、MySQL Yum リポジトリ内でネイティブサードパーティパッケージの置換が検出された場合は置換されます。システムで発生する可能性のある影響については、<a class="xref" href="installing.html#updating-yum-repo" title="2.11.7 MySQL Yum リポジトリを使用する MySQL のアップグレード">セクション2.11.7「MySQL Yum リポジトリを使用する MySQL のアップグレード」</a> を参照してください。<a class="xref" href="installing.html#updating-yum-repo-client-lib" title="共有クライアントライブラリのアップグレード">共有クライアントライブラリのアップグレード</a> を参照してください。
          </p></div></li><li class="listitem"><h4><a name="yum-repo-select-series"></a>リリースシリーズの選択</h4><p>
          MySQL Yum リポジトリを使用する場合、デフォルトで最新の GA シリーズ (現在の MySQL 8.0) がインストール用に選択されます。 それでよい場合は、次の手順の<a class="xref" href="installing.html#yum-repo-installing-mysql" title="MySQL のインストール">MySQL のインストール</a>に進んでください。 
        </p><p>
          MySQL Yum リポジトリ内では、MySQL Community Server の異なるリリースシリーズが、異なるサブリポジトリにホストされています。 最新の GA シリーズ (現在の MySQL 8.0) のサブリポジトリはデフォルトで有効になっており、他のすべてのシリーズ (MySQL 8.0 シリーズなど) のサブリポジトリはデフォルトで無効になっています。 このコマンドを使用して、MySQL Yum リポジトリ内のすべてのサブリポジトリを表示し、どのサブリポジトリが有効化または無効化されているかを確認します (dnf 対応システムの場合は、コマンド内の <span class="command"><strong>yum</strong></span> を <span class="command"><strong>dnf</strong></span> に置き換えます): 

</p><pre class="programlisting">shell&gt; <strong class="userinput"><code>yum repolist all | grep mysql</code></strong>
</pre><p>
        </p><p>
          最新の GA シリーズの最新のリリースをインストールする場合は、構成は不要です。 最新の GA シリーズ以外の特定のシリーズの最新リリースをインストールするには、インストールコマンドを実行する前に、最新の GA シリーズのサブリポジトリを無効にし、その特定のシリーズのサブリポジトリを有効にします。 プラットフォームで <span class="command"><strong>yum-config-manager</strong></span> がサポートされている場合は、次のコマンドを発行して、5.7 シリーズのサブリポジトリを無効にし、8.0 シリーズのサブリポジトリを有効にします: 

</p><pre class="programlisting">shell&gt; <strong class="userinput"><code>sudo yum-config-manager --disable mysql57-community</code></strong>
shell&gt; <strong class="userinput"><code>sudo yum-config-manager --enable mysql80-community</code></strong>
</pre><p>

          dnf 対応プラットフォームの場合:

</p><pre class="programlisting">shell&gt; <strong class="userinput"><code>sudo dnf config-manager --disable mysql57-community</code></strong>
shell&gt; <strong class="userinput"><code>sudo dnf config-manager --enable mysql80-community</code></strong>
</pre><p>
        </p><p>
          <span class="command"><strong>yum-config-manager</strong></span> または <span class="command"><strong>dnf config-manager</strong></span> コマンドの他に、<code class="filename">/etc/yum.repos.d/mysql-community.repo</code> ファイルを手動で編集してリリースシリーズを選択することもできます。 ファイル内の、リリースシリーズのサブリポジトリの典型的なエントリを次に示します。 

</p><pre class="programlisting">[mysql57-community]
name=MySQL 5.7 Community Server
baseurl=http://repo.mysql.com/yum/mysql-5.7-community/el/6/$basearch/
enabled=1
gpgcheck=1
gpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-mysql
</pre><p>

          構成したいサブリポジトリのエントリを探し、<code class="option">enabled</code> オプションを編集します。 <code class="option">enabled=0</code> を指定してサブリポジトリを無効にするか、<code class="option">enabled=1</code> を指定してサブリポジトリを有効にします。 たとえば、MySQL 8.0 をインストールするには、前述の MySQL 5.7 のサブリポジトリエントリに <code class="option">enabled=0</code> があり、8.0 シリーズのエントリに <code class="option">enabled=1</code> があることを確認します: 
        </p><pre class="programlisting"># Enable to use MySQL 8.0
[mysql80-community]
name=MySQL 8.0 Community Server
baseurl=http://repo.mysql.com/yum/mysql-8.0-community/el/6/$basearch/
enabled=1
gpgcheck=1
gpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-mysql
</pre><p>
          一度に有効にするサブリポジトリは、 1 つのリリースシリーズのもののみにしてください。 複数のリリースシリーズのサブリポジトリが有効になっている場合、Yum は最新のシリーズを使用します。 
        </p><p>
          次のコマンドを実行し、その出力を確認して、正しいサブリポジトリが有効化および無効化されていることを確認します (dnf 対応システムの場合、コマンドの <span class="command"><strong>yum</strong></span> を <span class="command"><strong>dnf</strong></span> に置き換えます):
        </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>yum repolist enabled | grep mysql</code></strong>
</pre></li><li class="listitem"><h4><a name="yum-repo-disabling-mysql"></a>デフォルトの MySQL モジュールの無効化</h4><p>
          (EL8 システムのみ) RHEL8 や Oracle Linux 8 などの EL8-based システムには、デフォルトで有効になっている MySQL モジュールが含まれています。 このモジュールを無効にしないかぎり、MySQL リポジトリによって提供されるパッケージがマスクされます。 含まれているモジュールを無効にして MySQL リポジトリパッケージを表示するには、次のコマンドを使用します (dnf 対応システムの場合は、コマンドの <span class="command"><strong>yum</strong></span> を <span class="command"><strong>dnf</strong></span> に置き換えます): 
        </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>sudo yum module disable mysql</code></strong>
</pre></li><li class="listitem"><h4><a name="yum-repo-installing-mysql"></a>MySQL のインストール</h4><p>
          次のコマンドを使用して MySQL をインストールします (dnf 対応システムの場合は、コマンドの <span class="command"><strong>yum</strong></span> を <span class="command"><strong>dnf</strong></span> に置き換えます):
        </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>sudo yum install mysql-community-server</code></strong>
</pre><p>
          これにより、MySQL Server (<code class="filename">mysql-community-server</code>)、クライアントのパッケージ (<code class="filename">mysql-community-client</code>)、クライアントとサーバー用の一般的なエラーメッセージと文字セット (<code class="filename">mysql-community-common</code>)、および共有クライアントライブラリ (<code class="filename">mysql-community-libs</code>) など、サーバーを実行するために必要なコンポーネントのパッケージがインストールされます。
        </p></li><li class="listitem"><h4><a name="yum-repo-starting-and-stopping-server"></a>MySQL Server の起動</h4><p>
          次のコマンドで MySQL Server を起動します。
        </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>systemctl start mysqld</code></strong>
</pre><p>
          次のコマンドで MySQL Server のステータスをチェックできます。
        </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>systemctl status mysqld</code></strong>
</pre></li></ol></div><p>
      オペレーティングシステムが systemd に対応している場合は、<span class="command"><strong>stop</strong></span>, <span class="command"><strong>start</strong></span>, <span class="command"><strong>status</strong></span> などの標準 <span class="command"><strong>systemctl</strong></span> (または引数を逆にした <span class="command"><strong>service</strong></span>) コマンドと <span class="command"><strong>restart</strong></span> を使用して MySQL サーバーサービスを管理する必要があります。 <code class="literal">mysqld</code> サービスはデフォルトで有効になっており、システムの再起動時に開始されます。 詳細は、<a class="xref" href="installing.html#using-systemd" title="2.5.9 systemd を使用した MySQL Server の管理">セクション2.5.9「systemd を使用した MySQL Server の管理」</a>を参照してください。 
    </p><p>
      サーバーの最初の起動時に、サーバーのデータディレクトリが空の場合、次のようになります:
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          サーバーが初期化されます。
        </p></li><li class="listitem"><p>
          SSL 証明書およびキーファイルがデータディレクトリに生成されます。
        </p></li><li class="listitem"><p>
          <a class="link" href="security.html#validate-password" title="6.4.3 パスワード検証コンポーネント"><code class="literal">validate_password</code></a> がインストールされ、有効になっています。
        </p></li><li class="listitem"><p>
          スーパーユーザーアカウント<code class="literal">'root'@'localhost</code> が作成されます。 スーパーユーザーのパスワードが設定され、エラーログファイルに格納されます。 表示するには、次のコマンドを使用します: 
        </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>sudo grep 'temporary password' /var/log/mysqld.log</code></strong>
</pre><p>
          生成された一時パスワードを使用してログインし、スーパーユーザーアカウントのカスタムパスワードを設定することで、root パスワードをできるだけ早く変更します:
        </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>mysql -uroot -p </code></strong>
</pre><pre class="programlisting">mysql&gt; <strong class="userinput"><code>ALTER USER 'root'@'localhost' IDENTIFIED BY 'MyNewPass4!';</code></strong>
</pre><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
            <a class="link" href="security.html#validate-password" title="6.4.3 パスワード検証コンポーネント"><code class="literal">validate_password</code></a> はデフォルトでインストールされます。 <code class="literal">validate_password</code> で実装されているデフォルトのパスワードポリシーでは、パスワードに大文字、小文字、数字および特殊文字を 1 文字以上含める必要があり、パスワードの合計長は 8 文字以上である必要があります。 
          </p></div></li></ul></div><p>
      インストール後の手順については、<a class="xref" href="installing.html#postinstallation" title="2.10 インストール後のセットアップとテスト">セクション2.10「インストール後のセットアップとテスト」</a>を参照してください。
    </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p><a name="yum-install-compatibility-el7"></a>
        <span class="emphasis"><em>EL7 ベースのプラットフォームの互換性情報:</em></span> プラットフォームのネイティブソフトウェアリポジトリからの次の RPM パッケージは、MySQL Server をインストールする MySQL Yum リポジトリからのパッケージとは互換性がありません。 MySQL Yum リポジトリを使用して MySQL をインストールした後は、これらのパッケージをインストールできません (その逆も同様です)。 
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            akonadi-mysql
          </p></li></ul></div></div><h4><a name="yum-install-components"></a>追加の MySQL 製品およびコンポーネントの Yum でのインストール</h4><p>
      Yum を使用して、MySQL の個々のコンポーネントのインストールおよび管理を実行できます。 これらのコンポーネントの一部は、MySQL Yum リポジトリのサブリポジトリにホストされています。たとえば、MySQL Connectors は MySQL Connectors Community サブリポジトリ、MySQL Workbench は MySQL Tools Community にあります。 次のコマンドを使用して、プラットフォームで使用可能なすべての MySQL コンポーネントのパッケージを MySQL Yum リポジトリからリストできます (dnf 対応システムの場合は、コマンド内の <span class="command"><strong>yum</strong></span> を <span class="command"><strong>dnf</strong></span> に置き換えます): 
    </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>sudo yum --disablerepo=\* --enablerepo='mysql*-community*' list available</code></strong>
</pre><p>
      任意のパッケージを次のコマンドでインストールし、<em class="replaceable"><code>package-name</code></em> をパッケージの名前に置き換えます (dnf 対応システムの場合は、コマンド内の <span class="command"><strong>yum</strong></span> を <span class="command"><strong>dnf</strong></span> に置き換えます):
    </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>sudo yum install <em class="replaceable"><code>package-name</code></em></code></strong>
</pre><p>
      たとえば、Fedora に MySQL Workbench をインストールするには、次のようにします:
    </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>sudo dnf install mysql-workbench-community</code></strong>
</pre><p>
      共有クライアントライブラリをインストールするには (dnf 対応システムの場合は、コマンドの <span class="command"><strong>yum</strong></span> を <span class="command"><strong>dnf</strong></span> に置き換えます):
    </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>sudo yum install mysql-community-libs</code></strong>
</pre><h4><a name="yum-install-platform-specifics"></a>プラットフォーム固有のノート</h4><p>
      ARM のサポート
    </p><p>
      ARM 64-bit (aarch64) は Oracle Linux 7 でサポートされており、Oracle Linux 7 ソフトウェアコレクションリポジトリ (ol7_software_collections) が必要です。 たとえば、サーバーを設置するには、次のようにします: 
    </p><pre class="programlisting">shell&gt; yum-config-manager --enable ol7_software_collections
shell&gt; yum install mysql-community-server
</pre><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
        ARM 64-bit (aarch64) は、MySQL 8.0.12 の Oracle Linux 7 でサポートされています。
      </p></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">既知の制限事項</div><p>
        8.0.12 リリースでは、<code class="literal">yum install</code> ステップの実行後に <code class="literal">ln -s /opt/oracle/oracle-armtoolset-1/root/usr/lib64 /usr/lib64/gcc7</code> を実行して、<span class="emphasis"><em>libstdc++7</em></span> パスを調整する必要があります。
      </p></div><h4><a name="idm45548121706896"></a>Yum での MySQL の更新</h4><p>
      インストールのほかに、MySQL 製品およびコンポーネントの更新も、MySQL Yum リポジトリを使用して実行できます。 詳細は、<a class="xref" href="installing.html#updating-yum-repo" title="2.11.7 MySQL Yum リポジトリを使用する MySQL のアップグレード">セクション2.11.7「MySQL Yum リポジトリを使用する MySQL のアップグレード」</a>を参照してください。 
    </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="linux-installation-apt-repo"></a>2.5.2 MySQL APT リポジトリを使用して MySQL を Linux にインストールする</h3></div></div></div><a class="indexterm" name="idm45548121703392"></a><a class="indexterm" name="idm45548121701264"></a><p>
      MySQL APT リポジトリには、現在の Debian および Ubuntu リリースで MySQL サーバー、クライアントおよびその他のコンポーネントをインストールおよび管理するための <code class="filename">deb</code> パッケージが用意されています。
    </p><p>
      MySQL APT リポジトリの使用に関する説明は、<a class="ulink" href="https://dev.mysql.com/doc/mysql-apt-repo-quick-guide/en/" target="_top">A Quick Guide to Using the MySQL APT Repository</a>にあります。
    </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="linux-installation-sles-repo"></a>2.5.3 MySQL SLES リポジトリを使用して MySQL を Linux にインストールする</h3></div></div></div><a class="indexterm" name="idm45548121695584"></a><a class="indexterm" name="idm45548121693424"></a><p>
      MySQL SLES リポジトリは、MySQL Server、クライアント、その他のコンポーネントを SUSE Enterprise Linux Server にインストールして管理するために、RPM パッケージを提供します。
    </p><p>
      MySQL SLES リポジトリを使用する手順は、<a class="ulink" href="https://dev.mysql.com/doc/mysql-sles-repo-quick-guide/en/" target="_top">「A MySQL SLES リポジトリの使用方法のクイックガイド」</a>で入手できます。
    </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="linux-installation-rpm"></a>2.5.4 Oracle の RPM パッケージを使用した Linux への MySQL のインストール</h3></div></div></div><a class="indexterm" name="idm45548121688528"></a><a class="indexterm" name="idm45548121687088"></a><a class="indexterm" name="idm45548121685664"></a><p>
      RPM ベースの Linux ディストリビューションに MySQL をインストールするには、Oracle が提供する RPM パッケージを使用することをお薦めします。 Community Edition of MySQL の場合、これらを取得するには次の 2 つのソースがあります: 
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          MySQL ソフトウェアリポジトリから:
        </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
              MySQL Yum リポジトリ (詳細は <a class="xref" href="installing.html#linux-installation-yum-repo" title="2.5.1 MySQL Yum リポジトリを使用して MySQL を Linux にインストールする">セクション2.5.1「MySQL Yum リポジトリを使用して MySQL を Linux にインストールする」</a> を参照)。
            </p></li><li class="listitem"><p>
              MySQL SLES リポジトリ (詳細は <a class="xref" href="installing.html#linux-installation-sles-repo" title="2.5.3 MySQL SLES リポジトリを使用して MySQL を Linux にインストールする">セクション2.5.3「MySQL SLES リポジトリを使用して MySQL を Linux にインストールする」</a> を参照)。
            </p></li></ul></div></li><li class="listitem"><p>
          <a class="ulink" href="https://dev.mysql.com/" target="_top">「MySQL 開発者ゾーン」</a>の<a class="ulink" href="https://dev.mysql.com/downloads/mysql/" target="_top">「MySQL コミュニティサーバーのダウンロード」</a>ページから。
        </p></li></ul></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
        MySQL の RPM 配布はほかのベンダーからも提供されています。 これらは、機能、機能および表記規則 (通信設定を含む) において Oracle によって構築されたものとは異なる場合があり、このマニュアルのインストール手順は必ずしも適用されないことに注意してください。 代わりに、ベンダーの説明書を参照してください。 
      </p></div><h4><a name="idm45548121673120"></a>MySQL RPM パッケージ</h4><div class="table"><a name="idm45548121672384"></a><p class="title"><b>表 2.9 MySQL Community Edition の RPM パッケージ</b></p><div class="table-contents"><table frame="all"><col style="width: 35%"><col style="width: 25%"><thead><tr>
          <th>パッケージ名</th>
          <th>サマリー</th>
        </tr></thead><tbody><tr>
          <td><code class="literal">mysql-community-client</code></td>
          <td>MySQL クライアントアプリケーションおよびツール</td>
        </tr><tr>
          <td><code class="literal">mysql-community-common</code></td>
          <td>サーバーおよびクライアントライブラリの共通ファイル</td>
        </tr><tr>
          <td><code class="literal">mysql-community-devel</code></td>
          <td>MySQL データベースクライアントアプリケーションの開発ヘッダーファイルおよびライブラリ</td>
        </tr><tr>
          <td><code class="literal">mysql-community-embedded-compat</code></td>
          <td>ライブラリのバージョン 18 を使用するアプリケーションの互換性を持つ埋込みライブラリとしての MySQL サーバー</td>
        </tr><tr>
          <td><code class="literal">mysql-community-libs</code></td>
          <td>MySQL データベースクライアントアプリケーションの共有ライブラリ</td>
        </tr><tr>
          <td><code class="literal">mysql-community-libs-compat</code></td>
          <td>以前の MySQL インストールの共有互換性ライブラリ</td>
        </tr><tr>
          <td><code class="literal">mysql-community-server</code></td>
          <td>データベースサーバーおよび関連ツール</td>
        </tr><tr>
          <td><code class="literal">mysql-community-server-debug</code></td>
          <td>サーバーおよびプラグインバイナリをデバッグ</td>
        </tr><tr>
          <td><code class="literal">mysql-community-test</code></td>
          <td>MySQL サーバーのテストスイート</td>
        </tr><tr>
          <td><code class="literal">mysql-community</code></td>
          <td>ソースコード RPM は、選択した OS に応じて mysql-community-8.0.25-1.el7.src.rpm のようになります</td>
        </tr><tr>
          <td>追加の *debuginfo* RPM</td>
          <td>複数の <code class="literal">debuginfo</code> パッケージがあります: mysql-community-client-debuginfo、mysql-community-libs-debuginfo mysql-community-server-debug-debuginfo mysql-community-server-debuginfo、および mysql-community-test-debuginfo。</td>
        </tr></tbody></table></div></div><br class="table-break"><div class="table"><a name="idm45548121636768"></a><p class="title"><b>表 2.10 MySQL Enterprise Edition の RPM パッケージ</b></p><div class="table-contents"><table frame="all"><col style="width: 35%"><col style="width: 25%"><thead><tr>
          <th>パッケージ名</th>
          <th>サマリー</th>
        </tr></thead><tbody><tr>
          <td><code class="literal">mysql-commercial-backup</code></td>
          <td>MySQL Enterprise Backup (8.0.11 で追加)</td>
        </tr><tr>
          <td><code class="literal">mysql-commercial-client</code></td>
          <td>MySQL クライアントアプリケーションおよびツール</td>
        </tr><tr>
          <td><code class="literal">mysql-commercial-common</code></td>
          <td>サーバーおよびクライアントライブラリの共通ファイル</td>
        </tr><tr>
          <td><code class="literal">mysql-commercial-devel</code></td>
          <td>MySQL データベースクライアントアプリケーションの開発ヘッダーファイルおよびライブラリ</td>
        </tr><tr>
          <td><code class="literal">mysql-commercial-embedded-compat</code></td>
          <td>ライブラリのバージョン 18 を使用するアプリケーションの互換性を持つ埋込みライブラリとしての MySQL サーバー</td>
        </tr><tr>
          <td><code class="literal">mysql-commercial-libs</code></td>
          <td>MySQL データベースクライアントアプリケーションの共有ライブラリ</td>
        </tr><tr>
          <td><code class="literal">mysql-commercial-libs-compat</code></td>
          <td>以前の MySQL インストールの共有互換性ライブラリ。ライブラリのバージョンは、使用しているディストリビューションによってデフォルトでインストールされるライブラリのバージョンと一致</td>
        </tr><tr>
          <td><code class="literal">mysql-commercial-server</code></td>
          <td>データベースサーバーおよび関連ツール</td>
        </tr><tr>
          <td><code class="literal">mysql-commercial-test</code></td>
          <td>MySQL サーバーのテストスイート</td>
        </tr><tr>
          <td>追加の *debuginfo* RPM</td>
          <td>複数の <code class="literal">debuginfo</code> パッケージがあります: mysql-commercial-client-debuginfo, mysql-commercial-libs-debuginfo mysql-commercial-server-debug-debuginfo mysql-commercial-server-debuginfo, and mysql-commercial-test-debuginfo。</td>
        </tr></tbody></table></div></div><br class="table-break"><p>
      RPM のフルネームの構文は次のとおりです:
    </p><pre class="programlisting"><em class="replaceable"><code>packagename</code></em>-<em class="replaceable"><code>version</code></em>-<em class="replaceable"><code>distribution</code></em>-<em class="replaceable"><code>arch</code></em>.rpm
</pre><p>
      <em class="replaceable"><code>distribution</code></em> および <em class="replaceable"><code>arch</code></em> の値は、パッケージが構築された Linux ディストリビューションおよびプロセッサタイプを示します。 配布識別子のリストは、次のテーブルを参照してください: 
    </p><div class="table"><a name="idm45548121598768"></a><p class="title"><b>表 2.11 MySQL Linux RPM パッケージ配布識別子</b></p><div class="table-contents"><table><col style="width: 25%"><col style="width: 75%"><thead><tr>
          <th>配分値</th>
          <th>使用目的</th>
        </tr></thead><tbody><tr>
          <td>el <em class="replaceable"><code>{version}</code></em> (<em class="replaceable"><code>{version}</code></em> は <code class="literal">el8</code> などの Enterprise Linux のメジャーバージョン)</td>
          <td>EL6、EL7 および EL8-based プラットフォーム (たとえば、Oracle Linux、Red Hat Enterprise Linux および CentOS の対応するバージョン)</td>
        </tr><tr>
          <td>fc <em class="replaceable"><code>{version}</code></em>。ここで、<em class="replaceable"><code>{version}</code></em> はメジャー Fedora バージョン (<code class="literal">fc33</code> など) です</td>
          <td>Fedora 32 および 33</td>
        </tr><tr>
          <td><code class="literal">sles12</code></td>
          <td>SUSE Linux Enterprise Server 12</td>
        </tr></tbody></table></div></div><br class="table-break"><p>
      RPM パッケージ内のすべてのファイル (<code class="literal">mysql-community-server</code> など) を表示するには、次のコマンドを使用します:
    </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>rpm -qpl mysql-community-server-<em class="replaceable"><code>version</code></em>-<em class="replaceable"><code>distribution</code></em>-<em class="replaceable"><code>arch</code></em>.rpm</code></strong>
</pre><p>
      <span class="emphasis"><em>このセクションの残りの部分の説明は、MySQL リポジトリを介してではなく、Oracle から直接ダウンロードした RPM パッケージを使用するインストールプロセスにのみ適用されます。</em></span>
    </p><p>
      一部のパッケージには依存関係が存在します。 多くのパッケージをインストールする場合は、RPM バンドル <span class="command"><strong>tar</strong></span> ファイルをダウンロードして、前述のすべての RPM パッケージを個別にダウンロードする必要がないようにします。 
    </p><p>
      ほとんどの場合、機能する標準 MySQL インストールを取得するには、<code class="literal">mysql-community-server</code>, <code class="literal">mysql-community-client</code>, <code class="literal">mysql-community-libs</code>, <code class="literal">mysql-community-common</code> および <code class="literal">mysql-community-libs-compat</code> パッケージをインストールする必要があります。 このような標準の基本インストールを実行するには、これらのすべてのパッケージが含まれるフォルダに移動し (可能であれば、類似した名前の RPM パッケージはない)、次のコマンドを発行します: 
    </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>sudo yum install mysql-community-{server,client,common,libs}-*</code></strong>
</pre><p>
      <span class="command"><strong>yum</strong></span> を SLES 用の <span class="command"><strong>zypper</strong></span> および Fedora 用の <span class="command"><strong>dnf</strong></span> に置き換えます。
    </p><p>
      <span class="command"><strong>yum</strong></span> などの高レベルのパッケージ管理ツールを使用してパッケージをインストールすることをお薦めしますが、直接 <span class="command"><strong>rpm</strong></span> コマンドを優先するユーザーは <span class="command"><strong>yum install</strong></span> コマンドを <span class="command"><strong>rpm -Uvh</strong></span> コマンドに置き換えることができます。ただし、<span class="command"><strong>rpm -Uvh</strong></span> を使用すると、インストールプロセスが実行される可能性のある依存関係の問題のため、インストールプロセスが失敗しやすくなります。
    </p><p>
      クライアントプログラムのみをインストールするには、インストールするパッケージのリストで <code class="literal">mysql-community-server</code> をスキップし、次のコマンドを発行します:
    </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>sudo yum install mysql-community-{client,common,libs}-* </code></strong>
</pre><p>
      <span class="command"><strong>yum</strong></span> を SLES 用の <span class="command"><strong>zypper</strong></span> および Fedora 用の <span class="command"><strong>dnf</strong></span> に置き換えます。
    </p><p>
      RPM パッケージを使用して MySQL を標準インストールすると、次のテーブルに示すように、ファイルおよびリソースがシステムディレクトリの下に作成されます。
    </p><div class="table"><a name="mysql-installation-layout-linuxrpm"></a><p class="title"><b>表 2.12 MySQL Developer Zone からの Linux RPM パッケージの MySQL インストールレイアウト</b></p><div class="table-contents"><table><col style="width: 55%"><col style="width: 45%"><thead><tr>
          <th>ファイルまたはリソース</th>
          <th>事業所</th>
        </tr></thead><tbody><tr>
          <td>クライアントプログラムおよびスクリプト</td>
          <td><code class="filename">/usr/bin</code></td>
        </tr><tr>
          <td><span class="command"><strong>mysqld</strong></span> サーバー</td>
          <td><code class="filename">/usr/sbin</code></td>
        </tr><tr>
          <td>構成ファイル</td>
          <td><code class="filename">/etc/my.cnf</code></td>
        </tr><tr>
          <td>データディレクトリ</td>
          <td><code class="filename">/var/lib/mysql</code></td>
        </tr><tr>
          <td>エラーログファイル</td>
          <td><p>
              RHEL、Oracle Linux、CentOS または Fedora プラットフォームの場合: <code class="filename">/var/log/mysqld.log</code>
            </p><p>
              SLES 用: <code class="filename">/var/log/mysql/mysqld.log</code>
            </p></td>
        </tr><tr>
          <td><code class="literal">secure_file_priv</code> の値</td>
          <td><code class="filename">/var/lib/mysql-files</code></td>
        </tr><tr>
          <td>System V init スクリプト</td>
          <td><p>
              RHEL、Oracle Linux、CentOS または Fedora プラットフォームの場合: <code class="filename">/etc/init.d/mysqld</code>
            </p><p>
              SLES 用: <code class="filename">/etc/init.d/mysql</code>
            </p></td>
        </tr><tr>
          <td>Systemd サービス</td>
          <td><p>
              RHEL、Oracle Linux、CentOS または Fedora プラットフォームの場合: <code class="filename">mysqld</code>
            </p><p>
              SLES 用: <code class="filename">mysql</code>
            </p></td>
        </tr><tr>
          <td>PID ファイル</td>
          <td><code class="filename"> /var/run/mysql/mysqld.pid</code></td>
        </tr><tr>
          <td>Socket</td>
          <td><code class="filename">/var/lib/mysql/mysql.sock</code></td>
        </tr><tr>
          <td>キーリングディレクトリ</td>
          <td><code class="filename">/var/lib/mysql-keyring</code></td>
        </tr><tr>
          <td>Unix マニュアルページ</td>
          <td><code class="filename">/usr/share/man</code></td>
        </tr><tr>
          <td>インクルード (ヘッダー) ファイル</td>
          <td><code class="filename">/usr/include/mysql</code></td>
        </tr><tr>
          <td>ライブラリ</td>
          <td><code class="filename">/usr/lib/mysql</code></td>
        </tr><tr>
          <td>その他のサポートファイル (エラーメッセージ、文字セットファイルなど)</td>
          <td><code class="filename">/usr/share/mysql</code></td>
        </tr></tbody></table></div></div><br class="table-break"><p>
      インストールでは、<code class="literal">mysql</code> という名前のユーザーおよび <code class="literal">mysql</code> という名前のグループもシステムに作成されます。
    </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
        古いパッケージを使用して以前のバージョンの MySQL をインストールすると、<code class="filename">/usr/my.cnf</code> という名前の構成ファイルが作成される場合があります。 ファイルの内容を調べ、目的の設定をファイル<code class="filename">/etc/my.cnf</code> ファイル内に移行してから、<code class="filename">/usr/my.cnf</code> を削除することを強くお薦めします。 
      </p></div><p>
      MySQL は、インストールプロセスの最後に自動的には起動されません。 Red Hat Enterprise Linux、Oracle Linux、CentOS および Fedora システムの場合は、次のコマンドを使用して MySQL を起動します: 
    </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>systemctl start mysqld</code></strong>
</pre><p>
      SLES システムの場合、コマンドは同じですが、サービス名は異なります:
    </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>systemctl start mysql</code></strong>
</pre><p>
      オペレーティングシステムが systemd に対応している場合は、<span class="command"><strong>stop</strong></span>, <span class="command"><strong>start</strong></span>, <span class="command"><strong>status</strong></span> などの標準 <span class="command"><strong>systemctl</strong></span> (または引数を逆にした <span class="command"><strong>service</strong></span>) コマンドと <span class="command"><strong>restart</strong></span> を使用して MySQL サーバーサービスを管理する必要があります。 <code class="literal">mysqld</code> サービスはデフォルトで有効になっており、システムの再起動時に開始されます。 systemd プラットフォームで動作が異なる場合があることに注意してください: たとえば、データディレクトリの場所を変更すると、問題が発生する可能性があります。 詳細は、<a class="xref" href="installing.html#using-systemd" title="2.5.9 systemd を使用した MySQL Server の管理">セクション2.5.9「systemd を使用した MySQL Server の管理」</a>を参照してください。 
    </p><p>
      RPM および DEB パッケージを使用したアップグレードインストール中に、アップグレードの発生時に MySQL サーバーが実行されている場合は、MySQL サーバーが停止し、アップグレードが発生して MySQL サーバーが再起動されます。 1 つの例外: アップグレード中にエディションも変更された場合 (コミュニティから商用、またはその逆)、MySQL サーバーは再起動されません。 
    </p><p>
      サーバーの最初の起動時に、サーバーのデータディレクトリが空の場合、次のようになります:
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          サーバーが初期化されます。
        </p></li><li class="listitem"><p>
          SSL 証明書およびキーファイルがデータディレクトリに生成されます。
        </p></li><li class="listitem"><p>
          <a class="link" href="security.html#validate-password" title="6.4.3 パスワード検証コンポーネント"><code class="literal">validate_password</code></a> がインストールされ、有効になっています。
        </p></li><li class="listitem"><p>
          スーパーユーザーアカウント<code class="literal">'root'@'localhost'</code>が作成されます。 スーパーユーザーのパスワードが設定され、エラーログファイルに格納されます。 これを表示するには、RHEL、Oracle Linux、CentOS、および Fedora システムで次のコマンドを使用します: 
        </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>sudo grep 'temporary password' /var/log/mysqld.log</code></strong>
</pre><p>
          SLES システムでは、次のコマンドを使用します:
        </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>sudo grep 'temporary password' /var/log/mysql/mysqld.log</code></strong>
</pre><p>
          次のステップでは、生成された一時パスワードを使用してログインし、スーパーユーザーアカウントのカスタムパスワードを設定します:
        </p></li></ul></div><pre class="programlisting">shell&gt; <strong class="userinput"><code>mysql -uroot -p </code></strong>
</pre><pre class="programlisting">mysql&gt; <strong class="userinput"><code>ALTER USER 'root'@'localhost' IDENTIFIED BY 'MyNewPass4!';</code></strong>
</pre><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
        <a class="link" href="security.html#validate-password" title="6.4.3 パスワード検証コンポーネント"><code class="literal">validate_password</code></a> はデフォルトでインストールされます。 <code class="literal">validate_password</code> で実装されているデフォルトのパスワードポリシーでは、パスワードに大文字、小文字、数字および特殊文字を 1 文字以上含める必要があり、パスワードの合計長は 8 文字以上である必要があります。 
      </p></div><p>
      インストール中に問題が発生した場合は、エラーログファイル<code class="filename">/var/log/mysqld.log</code> にデバッグ情報が記録されている可能性があります。
    </p><p>
      一部の Linux ディストリビューションでは、<span class="command"><strong>mysqld</strong></span> で使用可能なファイルディスクリプタの数の制限を増やす必要がある場合があります。 <a class="xref" href="error-handling.html#not-enough-file-handles" title="B.3.2.16 ファイルが見つからず同様のエラーが発生しました">セクションB.3.2.16「ファイルが見つからず同様のエラーが発生しました」</a>を参照してください 
    </p><p><b>複数の MySQL バージョンからのクライアントライブラリのインストール. </b>
        以前のライブラリに対してリンクされた古いアプリケーションとの互換性を維持する場合などに、複数のクライアントライブラリバージョンをインストールできます。 古いクライアントライブラリをインストールするには、<span class="command"><strong>rpm</strong></span> で <code class="option">--oldpackage</code> オプションを使用します。 たとえば、MySQL 8.0 の <code class="literal">libmysqlclient.21</code> を含む EL6 システムに <code class="literal">mysql-community-libs-5.5</code> をインストールするには、次のようなコマンドを使用します: 
      </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>rpm --oldpackage -ivh mysql-community-libs-5.5.50-2.el6.x86_64.rpm</code></strong>
</pre><p><b>デバッグパッケージ. </b>
        <a class="link" href="server-administration.html#dbug-package" title="5.9.4 DBUG パッケージ">debug package</a> でコンパイルされた MySQL Server の特別なバリアントがサーバー RPM パッケージに含まれています。 デバッグおよびメモリー割当てチェックを実行し、サーバーの実行中にトレースファイルを生成します。 そのデバッグバージョンを使用するには、MySQL をサービスまたは<code class="filename">/usr/sbin/mysqld</code> で起動するかわりに、<code class="filename">/usr/sbin/mysqld-debug</code> で起動します。 使用できるデバッグオプションについては、<a class="xref" href="server-administration.html#dbug-package" title="5.9.4 DBUG パッケージ">セクション5.9.4「DBUG パッケージ」</a> を参照してください。 
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
        デバッグビルドのデフォルトプラグインディレクトリが、MySQL 8.0.4 で<code class="filename">/usr/lib64/mysql/plugin</code> から<code class="filename">/usr/lib64/mysql/plugin/debug</code> に変更されました。 以前は、デバッグビルドのために <code class="literal">plugin_dir</code> を<code class="filename">/usr/lib64/mysql/plugin/debug</code> に変更する必要がありました。 
      </p></div><p><b>ソース SRPM から RPM を再構築中. </b>
        MySQL のソースコード SRPM パッケージをダウンロードできます。 これらをそのまま使用して、標準の <span class="command"><strong>rpmbuild</strong></span> ツールチェーンで MySQL RPM を再構築できます。 
      </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="linux-installation-debian"></a>2.5.5 オラクルからの Debian パッケージを使用して MySQL を Linux にインストールする</h3></div></div></div><p>
      オラクルは、MySQL を Debian や Debian のと類似の Linux システムにインストールするための Debian パッケージを提供します。 このパッケージは 2 種類のチャネルから入手可能です。 
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          <a class="ulink" href="https://dev.mysql.com/downloads/repo/apt/" target="_top">「MySQL APT リポジトリ」</a>。 これは、MySQL 製品をインストールおよび更新するための簡単で便利な方法を提供するため、Debian に似たシステムに MySQL をインストールする場合に推奨される方法です。 詳細は、<a class="xref" href="installing.html#linux-installation-apt-repo" title="2.5.2 MySQL APT リポジトリを使用して MySQL を Linux にインストールする">セクション2.5.2「MySQL APT リポジトリを使用して MySQL を Linux にインストールする」</a>を参照してください。 
        </p></li><li class="listitem"><p>
          <a class="ulink" href="https://dev.mysql.com/downloads/" target="_top">MySQL Developer Zone のダウンロード領域</a>。 詳細は、<a class="xref" href="installing.html#getting-mysql" title="2.1.3 MySQL の取得方法">セクション2.1.3「MySQL の取得方法」</a>を参照してください。 そこで入手可能な Debian パッケージと、インストールの手順についての情報を次に示します。 
        </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
              MySQL Developer Zone には、MySQL の様々なコンポーネントを現在の Debian および Ubuntu プラットフォームにインストールするための様々な Debian パッケージが用意されています。 推奨される方法は tarball バンドルを使用するものです。これには MySQL の基本的なセットアップに必要なパッケージが含まれます。 tarball バンドルは、<code class="filename">mysql-server_<em class="replaceable"><code>MVER</code></em>-<em class="replaceable"><code>DVER</code></em>_<em class="replaceable"><code>CPU</code></em>.deb-bundle.tar</code> という形式の名前を持ちます。 <em class="replaceable"><code>MVER</code></em> は MySQL のバージョン、<em class="replaceable"><code>DVER</code></em> は Linux 配布のバージョンです。 次の表に示すように、<em class="replaceable"><code>CPU</code></em> 値は、パッケージのビルド対象になっているプロセッサのタイプまたはファミリを示します。 
            </p><div class="table"><a name="idm45548121431664"></a><p class="title"><b>表 2.13 MySQL Debian  および Ubuntu インストールパッケージの CPU 識別子</b></p><div class="table-contents"><table><col style="width: 25%"><col style="width: 75%"><thead><tr>
                  <th><em class="replaceable"><code>CPU</code></em> 値</th>
                  <th>対象のプロセッサタイプまたはファミリ</th>
                </tr></thead><tbody><tr>
                  <td><code class="literal">i386</code></td>
                  <td>Pentium プロセッサ以上、32 ビット</td>
                </tr><tr>
                  <td><code class="literal">amd64</code></td>
                  <td>64 ビットの x86 プロセッサ</td>
                </tr></tbody></table></div></div><br class="table-break"></li><li class="listitem"><p>
              tarball のダウンロード後、次のコマンドでアンパックします。
            </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>tar -xvf mysql-server_<em class="replaceable"><code>MVER</code></em>-<em class="replaceable"><code>DVER</code></em>_<em class="replaceable"><code>CPU</code></em>.deb-bundle.tar</code></strong>
</pre></li><li class="listitem"><p>
              <a class="indexterm" name="idm45548121416128"></a> システムに <code class="literal">libaio</code> ライブラリがまだ存在しない場合は、インストールが必要になることがあります:
            </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>sudo apt-get install libaio1</code></strong>
</pre></li><li class="listitem"><p>
              次のコマンドを使用して、MySQL サーバーパッケージを事前構成します:
            </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>sudo dpkg-preconfigure mysql-community-server_*.deb</code></strong>
</pre><p>
              MySQL インストールの root ユーザーのパスワードを入力するよう求められます。 インストールに関するその他の質問が表示される場合もあります。 
            </p><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">重要</div><p><a name="linux-installing-debian-password"></a>
                設定した root パスワードを必ず記憶してください。 後でパスワードを設定するユーザーは、ダイアログボックスの <span class="guilabel">password</span> フィールドを空白のままにして、単に<span class="guibutton"> OK </span>を押すことができます。その場合、サーバーへのルートアクセスは、Unix ソケットファイルを使用した接続用に <a class="link" href="security.html#socket-pluggable-authentication" title="6.4.1.9 ソケットピア資格証明プラガブル認証">MySQL Socket Peer-Credential Authentication Plugin</a> を使用して認証されます。 root パスワードは、後で <span class="command"><strong>mysql_secure_installation</strong></span> を使用して設定できます。 
              </p></div></li><li class="listitem"><p>
              MySQL サーバーの基本インストールの場合は、データベース共通ファイルパッケージ、クライアントパッケージ、クライアントメタパッケージ、サーバーパッケージおよびサーバーメタパッケージを (この順序で) インストールします。これは、単一のコマンドを使用して実行できます:
            </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>sudo dpkg -i mysql-{common,community-client,client,community-server,server}_*.deb</code></strong>
</pre><p>
              パッケージ名には、<code class="literal">server-core</code> および <code class="literal">client-core</code> を含むパッケージもあります。 これらにはバイナリのみが含まれ、標準パッケージによって自動的にインストールされます。 これらを単独でインストールしても、MySQL の設定は機能しません。 
            </p><p>
              <span class="command"><strong>dpkg</strong></span> によって満たされていない依存関係が警告された場合は、<span class="command"><strong>apt-get</strong></span> を使用して修正できます:
            </p><pre class="programlisting"><strong class="userinput"><code>sudo apt-get -f install</code></strong></pre><p>
              ファイルがシステムにインストールされる場所は次のとおりです。
            </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: square; "><li class="listitem"><p>
                  (<code class="filename">my.cnf</code> などの) すべての構成ファイルは<code class="filename">/etc/mysql</code> の下にあります
                </p></li><li class="listitem"><p>
                  すべてのバイナリ、ライブラリ、ヘッダーなどは、<code class="filename">/usr/bin</code> および<code class="filename">/usr/sbin</code> の下にあります
                </p></li><li class="listitem"><p>
                  データディレクトリは<code class="filename">/var/lib/mysql</code> の下にあります
                </p></li></ul></div></li></ul></div></li></ul></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
        MySQL の Debian 配布はほかのベンダーからも提供されています。 それらは、オラクルによってビルドされたものとは (通信セットアップなどの) 機能や規則が異なる場合があり、それらのインストールにはこのマニュアルの説明が必ずしも適用されないことに注意してください。 代わりに、ベンダーの説明書を参照してください。 
      </p></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="linux-installation-docker"></a>2.5.6 Docker での Linux への MySQL のデプロイ</h3></div></div></div><div class="toc"><dl class="toc"><dt><span class="section"><a href="installing.html#docker-mysql-getting-started">2.5.6.1 Docker を使用した MySQL Server デプロイメントの基本ステップ</a></span></dt><dt><span class="section"><a href="installing.html#docker-mysql-more-topics">2.5.6.2 Docker での MySQL Server のデプロイに関するその他のトピック</a></span></dt><dt><span class="section"><a href="installing.html#deploy-mysql-nonlinux-docker">2.5.6.3 Docker を使用した Windows およびその他の Linux 以外のプラットフォームへの MySQL のデプロイ</a></span></dt></dl></div><p>
      Docker デプロイメントフレームワークは、MySQL Server の簡単なインストールおよび構成をサポートしています。 このセクションでは、MySQL Server Docker イメージの使用方法について説明します。 
    </p><p>
      MySQL Server Docker イメージを使用する前に、システムに Docker がインストールされている必要があります。 手順については、<a class="ulink" href="https://docs.docker.com/engine/installation/" target="_top">「Docker のインストール」</a>を参照してください。 
    </p><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">重要</div><p>
        <code class="literal">sudo</code> で <code class="literal">docker</code> コマンドを実行するか、<code class="literal">docker</code> ユーザーグループを作成してから、<code class="literal">docker</code> コマンドを実行するユーザーを追加する必要があります。 詳細は、<a class="ulink" href="https://docs.docker.com/engine/installation/linux/linux-postinstall/" target="_top">「ここ」</a>を参照してください。 Docker コンテナは常に root 権限で実行されるため、<a class="ulink" href="https://docs.docker.com/engine/security/security/#docker-daemon-attack-surface" target="_top">「Docker デーモン攻撃対象領域」</a>を理解し、関連するリスクを適切に軽減する必要があります。 
      </p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="docker-mysql-getting-started"></a>2.5.6.1 Docker を使用した MySQL Server デプロイメントの基本ステップ</h4></div></div></div><div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">警告</div><p>
          MySQL チームによって管理される MySQL Docker イメージは、Linux プラットフォーム専用に構築されています。 他のプラットフォームはサポートされておらず、これらの MySQL Docker イメージを使用するユーザーは独自のリスクでこれを実行しています。 Linux 以外のオペレーティングシステムでこれらのコンテナを実行する際の既知の制限については、<a class="link" href="installing.html#deploy-mysql-nonlinux-docker" title="2.5.6.3 Docker を使用した Windows およびその他の Linux 以外のプラットフォームへの MySQL のデプロイ">the discussion here</a> を参照してください。 
        </p></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a class="xref" href="installing.html#docker-download-image" title="MySQL Server Docker イメージのダウンロード">MySQL Server Docker イメージのダウンロード</a></p></li><li class="listitem"><p><a class="xref" href="installing.html#docker-starting-mysql-server" title="MySQL Server インスタンスの起動">MySQL Server インスタンスの起動</a></p></li><li class="listitem"><p><a class="xref" href="installing.html#docker-connecting-within-container" title="コンテナ内から MySQL Server への接続">コンテナ内から MySQL Server への接続</a></p></li><li class="listitem"><p><a class="xref" href="installing.html#docker-shell-access" title="コンテナシェルアクセス">コンテナシェルアクセス</a></p></li><li class="listitem"><p><a class="xref" href="installing.html#docker-stopping-deleting" title="MySQL コンテナの停止および削除">MySQL コンテナの停止および削除</a></p></li><li class="listitem"><p><a class="xref" href="installing.html#docker-upgrading" title="MySQL Server コンテナのアップグレード">MySQL Server コンテナのアップグレード</a></p></li><li class="listitem"><p><a class="xref" href="installing.html#docker-more-topics" title="Docker での MySQL Server のデプロイに関するその他のトピック">Docker での MySQL Server のデプロイに関するその他のトピック</a></p></li></ul></div><h5><a name="docker-download-image"></a>MySQL Server Docker イメージのダウンロード</h5><p>
        別のステップでサーバーイメージをダウンロードする必要は厳密にはありませんが、Docker コンテナを作成する前にこのステップを実行すると、ローカルイメージが最新の状態になります。 MySQL Community Edition イメージをダウンロードするには、次のコマンドを実行します: 
      </p><pre class="programlisting"><strong class="userinput"><code>docker pull mysql/mysql-server:<em class="replaceable"><code>tag</code></em></code></strong></pre><p>
        <em class="replaceable"><code>tag</code></em> は、プルするイメージバージョン (<code class="literal">5.6</code>, <code class="literal">5.7</code>, <code class="literal">8.0</code> や <code class="literal">latest</code> など) のラベルです。 <strong class="userinput"><code>:<em class="replaceable"><code>tag</code></em></code></strong> を省略すると、<code class="literal">latest</code> ラベルが使用され、MySQL Community Server の最新の GA バージョンのイメージがダウンロードされます。 <a class="ulink" href="https://hub.docker.com/r/mysql/mysql-server/tags/" target="_top">「Docker Hub の mysql/mysql-server ページ」</a>で使用可能なバージョンについては、タグのリストを参照してください。 
      </p><p>
        MySQL Enterprise Edition イメージをダウンロードするには、<a class="ulink" href="https://support.oracle.com/" target="_top">My Oracle Support</a> の web サイトにアクセスし、Oracle アカウントにサインインして、ランディングページで次のステップを実行します:
      </p><p>
        </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
              <span class="guimenu">「パッチと更新版」</span>タブを選択します。
            </p></li><li class="listitem"><p>
              <span class="guilabel">「パッチ検索」</span>リージョンに移動し、<span class="guilabel">「検索」</span>タブで<span class="guilabel">「製品またはファミリ (拡張)」</span>サブタブに切り替えます。
            </p></li><li class="listitem"><p>
              <span class="guimenuitem">Product</span> フィールドに <span class="quote">「<span class="quote">MySQL Server</span>」</span> と入力し、<span class="guimenuitem">「リリース」</span>フィールドに目的のバージョン番号を入力します。
            </p></li><li class="listitem"><p>
              追加フィルタのドロップダウンを使用して<span class="guimenuitem">「説明」</span>を選択 - <span class="guimenuitem">「次を含む」</span>で、テキストフィールドに <span class="quote">「<span class="quote">Docker</span>」</span> と入力します。
            </p><p>
              次の図に、MySQL Server 8.0 用の MySQL Enterprise Edition イメージの検索設定を示します:
            </p><div class="mediaobject"><img src="images/docker-search2.png" width="922" height="298" alt="MySQL Enterprise イメージの検索設定を示す図"></div></li><li class="listitem"><p>
              <span class="guibutton">検索</span>ボタンをクリックし、結果リストから目的のバージョンを選択して<span class="guibutton">ダウンロード</span>ボタンをクリックします。
            </p></li><li class="listitem"><p>
              表示される<span class="guilabel">「ファイルのダウンロード」</span>ダイアログボックスで、Docker イメージの <code class="filename">.zip</code> ファイルをクリックしてダウンロードします。
            </p></li></ul></div><p>

        ダウンロードした <code class="filename">.zip</code> アーカイブを解凍して (<code class="filename">mysql-enterprise-server-<em class="replaceable"><code>version</code></em>.tar</code>) 内の tarball を取得し、次のコマンドを実行してイメージをロードします:
      </p><pre class="programlisting"><strong class="userinput"><code>docker load -i mysql-enterprise-server-<em class="replaceable"><code>version</code></em>.tar</code></strong></pre><p>
        次のコマンドを使用して、ダウンロードした Docker イメージをリストできます:
      </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>docker images</code></strong>
REPOSITORY           TAG                 IMAGE ID            CREATED             SIZE
mysql/mysql-server   latest              3157d7f55f8d        4 weeks ago         241MB
</pre><h5><a name="docker-starting-mysql-server"></a>MySQL Server インスタンスの起動</h5><p>
        MySQL Server の新しい Docker コンテナを起動するには、次のコマンドを使用します:
      </p><pre class="programlisting"><strong class="userinput"><code>docker run --name=<em class="replaceable"><code>container_name</code></em>  --restart on-failure -d <em class="replaceable"><code>image_name</code></em>:<em class="replaceable"><code>tag</code></em></code></strong> </pre><p>
        <a class="xref" href="installing.html#docker-download-image" title="MySQL Server Docker イメージのダウンロード">MySQL Server Docker イメージのダウンロード</a> で説明されているように、イメージ名は <span class="command"><strong>docker images</strong></span> コマンドを使用して取得できます。
      </p><p>
        サーバーコンテナのカスタム名を指定するための <code class="option">--name</code> オプションはオプションです。コンテナ名が指定されていない場合はランダムに生成されます。
      </p><p>
        <code class="option">--restart</code> オプションは、コンテナの<a class="ulink" href="https://docs.docker.com/config/containers/start-containers-automatically/" target="_top">「再起動ポリシー」</a>を構成するためのものです。クライアントセッション内でのサーバーの再起動のサポートを有効にするには、値 <code class="literal">on-failure</code> に設定する必要があります (たとえば、<a class="link" href="sql-statements.html#restart" title="13.7.8.8 RESTART ステートメント">RESTART</a> ステートメントがクライアントによって実行された場合や <a class="ulink" href="https://dev.mysql.com/doc/mysql-shell/8.0/ja/mysql-innodb-cluster-working-with-instances.html#configuring-local-instances" target="_top">configuration of an InnoDB cluster instance</a> 中に実行された場合)。 再起動のサポートを有効にして、クライアントセッション内で再起動を発行すると、サーバーとコンテナが停止してから再起動します。 <span class="emphasis"><em>サーバーの再起動のサポートは、MySQL 8.0.21 以降で使用できます。</em></span> 
      </p><p>
        たとえば、MySQL Community Server の新しい Docker コンテナを起動するには、次のコマンドを使用します:
      </p><pre class="programlisting"><strong class="userinput"><code>docker run --name=mysql1 --restart on-failure -d mysql/mysql-server:8.0</code></strong> </pre><p>
        My Oracle Support からダウンロードした Docker イメージを使用して MySQL Enterprise Server の新しい Docker コンテナを起動するには、次のコマンドを使用します:
      </p><pre class="programlisting"><strong class="userinput"><code>docker run --name=mysql1 --restart on-failure -d mysql/enterprise-server:8.0</code></strong> </pre><p>
        指定した名前およびタグの Docker イメージが以前の <span class="command"><strong>docker pull</strong></span> または <span class="command"><strong>docker run</strong></span> コマンドによってダウンロードされていない場合、イメージはダウンロードされます。 コンテナの初期化が開始され、<span class="command"><strong>docker ps</strong></span> コマンドを実行すると、実行中のコンテナのリストにコンテナが表示されます。 例: 
      </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>docker ps</code></strong>
CONTAINER ID   IMAGE                COMMAND                  CREATED             STATUS                              PORTS                NAMES
a24888f0d6f4   mysql/mysql-server   "/entrypoint.sh my..."   14 seconds ago      Up 13 seconds (health: starting)    3306/tcp, 33060/tcp  mysql1
</pre><p>
        コンテナの初期化には時間がかかる場合があります。 サーバーを使用する準備が整うと、<span class="command"><strong>docker ps</strong></span> コマンドの出力のコンテナの <code class="literal">STATUS</code> が <code class="literal">(health: starting)</code> から <code class="literal">(healthy)</code> に変わります。 
      </p><p>
        前述の <span class="command"><strong>docker run</strong></span> コマンドで <code class="option">-d</code> オプションを使用すると、コンテナがバックグラウンドで実行されます。 次のコマンドを使用して、コンテナからの出力を監視します: 

</p><pre class="programlisting"><strong class="userinput"><code>docker logs mysql1</code></strong></pre><p>
      </p><p>
        初期化が終了すると、コマンド出力には root ユーザー用に生成されたランダムなパスワードが含まれます。たとえば、次のコマンドを使用してパスワードを確認します:

</p><pre class="programlisting">shell&gt; <strong class="userinput"><code>docker logs mysql1 2&gt;&amp;1 | grep GENERATED</code></strong>
GENERATED ROOT PASSWORD: Axegh3kAJyDLaRuBemecis&amp;EShOs</pre><p>
      </p><h5><a name="docker-connecting-within-container"></a>コンテナ内から MySQL Server への接続</h5><p>
        サーバーの準備ができたら、起動した MySQL Server コンテナ内で <span class="command"><strong>mysql</strong></span> クライアントを実行し、MySQL Server に接続できます。 次のように、<span class="command"><strong>docker exec -it</strong></span> コマンドを使用して、起動した Docker コンテナ内の <span class="command"><strong>mysql</strong></span> クライアントを起動します: 

</p><pre class="programlisting"><strong class="userinput"><code>docker exec -it mysql1 mysql -uroot -p</code></strong></pre><p>

        要求されたら、生成された root パスワードを入力します (パスワードの検索方法については、前述の <a class="xref" href="installing.html#docker-starting-mysql-server" title="MySQL Server インスタンスの起動">MySQL Server インスタンスの起動</a> の最後のステップを参照してください)。 <a class="link" href="installing.html#docker_var_mysql_onetime_password"><code class="option">MYSQL_ONETIME_PASSWORD</code></a> オプションはデフォルトで true であるため、<span class="command"><strong>mysql</strong></span> クライアントをサーバーに接続したあと、次のステートメントを発行してサーバーの root パスワードをリセットする必要があります: 

</p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>ALTER USER 'root'@'localhost' IDENTIFIED BY '<em class="replaceable"><code>password</code></em>';</code></strong></pre><p>

        <em class="replaceable"><code>password</code></em> を任意のパスワードに置き換えます。 パスワードがリセットされると、サーバーは使用可能になります。 
      </p><h5><a name="docker-shell-access"></a>コンテナシェルアクセス</h5><p>
        MySQL Server コンテナにシェルアクセスできるようにするには、<span class="command"><strong>docker exec -it</strong></span> コマンドを使用してコンテナ内で bash シェルを起動します:
      </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>docker exec -it mysql1 bash</code></strong>
bash-4.2#</pre><p>
        その後、コンテナ内で Linux コマンドを実行できます。 たとえば、コンテナ内のサーバーデータディレクトリのコンテンツを表示するには、次のコマンドを使用します: 
      </p><pre class="programlisting">bash-4.2# <strong class="userinput"><code>ls /var/lib/mysql</code></strong>
auto.cnf    ca.pem	     client-key.pem  ib_logfile0  ibdata1  mysql       mysql.sock.lock	   private_key.pem  server-cert.pem  sys
ca-key.pem  client-cert.pem  ib_buffer_pool  ib_logfile1  ibtmp1   mysql.sock  performance_schema  public_key.pem   server-key.pem
</pre><h5><a name="docker-stopping-deleting"></a>MySQL コンテナの停止および削除</h5><p>
        作成した MySQL Server コンテナを停止するには、次のコマンドを使用します:
      </p><pre class="programlisting"><strong class="userinput"><code>docker stop mysql1</code></strong></pre><p>
        <span class="command"><strong>docker stop</strong></span> は SIGTERM シグナルを <span class="command"><strong>mysqld</strong></span> プロセスに送信するため、サーバーは正常にシャットダウンされます。
      </p><p>
        また、コンテナ (MySQL Server コンテナの場合は <span class="command"><strong>mysqld</strong></span>) のメインプロセスが停止すると、Docker コンテナは自動的に停止します。
      </p><p>
        MySQL Server コンテナを再起動するには:
      </p><pre class="programlisting"><strong class="userinput"><code>docker start mysql1</code></strong></pre><p>
        単一のコマンドを使用して MySQL Server コンテナを停止して再起動するには:
      </p><pre class="programlisting"><strong class="userinput"><code>docker restart mysql1</code></strong></pre><p>
        MySQL コンテナを削除するには、まず停止してから、<span class="command"><strong>docker rm</strong></span> コマンドを使用します:
      </p><pre class="programlisting"><strong class="userinput"><code>docker stop mysql1</code></strong></pre><pre class="programlisting"><strong class="userinput"><code>docker rm mysql1</code></strong> </pre><p>
        <a class="link" href="installing.html#docker-persisting-data-configuration" title="データおよび構成の変更の永続化">Docker volume for the server data directory</a> を同時に削除する場合は、<span class="command"><strong>docker rm</strong></span> コマンドに <code class="literal">-v</code> オプションを追加します。
      </p><h5><a name="docker-upgrading"></a>MySQL Server コンテナのアップグレード</h5><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">重要</div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
              MySQL へのアップグレードを実行する前に、<a class="xref" href="installing.html#upgrading" title="2.11 MySQL のアップグレード">セクション2.11「MySQL のアップグレード」</a> の手順に注意してください。 ここで説明されているその他の手順の中では、アップグレードの前にデータベースをバックアップすることが特に重要です。 
            </p></li><li class="listitem"><p>
              このセクションの手順では、サーバーのデータと構成がホストに保持されている必要があります。 詳細は、<a class="xref" href="installing.html#docker-persisting-data-configuration" title="データおよび構成の変更の永続化">データおよび構成の変更の永続化</a> を参照してください。 
            </p></li></ul></div></div><p>
        MySQL 5.7 の Docker インストールを 8.0 にアップグレードするには、次のステップに従います: 
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            MySQL 5.7 サーバーを停止します (この例では、コンテナ名は <code class="literal">mysql57</code>):
          </p><pre class="programlisting"><strong class="userinput"><code>docker stop mysql57</code></strong>
</pre></li><li class="listitem"><p>
            MySQL 8.0 Server Docker イメージをダウンロードします。 <a class="xref" href="installing.html#docker-download-image" title="MySQL Server Docker イメージのダウンロード">MySQL Server Docker イメージのダウンロード</a> の手順を参照してください。MySQL 8.0 には正しいタグを使用してください。 
          </p></li><li class="listitem"><p>
            (この例では <a class="ulink" href="https://docs.docker.com/engine/reference/commandline/service_create/#add-bind-mounts-or-volumes" target="_top">bind-mounting</a> によって) ホストに永続化されている古いサーバーデータおよび構成 (必要に応じて <a class="xref" href="installing.html#upgrading" title="2.11 MySQL のアップグレード">セクション2.11「MySQL のアップグレード」</a> を参照) を使用して、新しい MySQL 8.0 Docker コンテナ (この例では <code class="literal">mysql80</code>) を起動します。 MySQL Community Server の場合は、次のコマンドを実行します: 
          </p><pre class="programlisting"><strong class="userinput"><code>docker run --name=mysql80 \
   --mount type=bind,src=/path-on-host-machine/my.cnf,dst=/etc/my.cnf \
   --mount type=bind,src=/path-on-host-machine/datadir,dst=/var/lib/mysql \
   -d mysql/mysql-server:8.0</code></strong></pre><p>
            必要に応じて、<code class="literal">mysql/mysql-server</code> を正しいリポジトリ名に調整し、次のように置き換えます


            <a class="ulink" href="https://support.oracle.com/" target="_top">My Oracle Support</a> からダウンロードされた <code class="literal">mysql/enterprise-server</code> for MySQL Enterprise Edition イメージ。
          </p></li><li class="listitem"><p>
            サーバーの起動が終了するまで待機します。 サーバーのステータスは、<span class="command"><strong>docker ps</strong></span> コマンドを使用して確認できます (その方法は、<a class="xref" href="installing.html#docker-starting-mysql-server" title="MySQL Server インスタンスの起動">MySQL Server インスタンスの起動</a> を参照してください)。 
          </p></li><li class="listitem"><p>
            <span class="emphasis"><em>MySQL 8.0.15 以前の場合:</em></span> MySQL 8.0 Server コンテナで <a class="link" href="programs.html#mysql-upgrade" title="4.4.5 mysql_upgrade — MySQL テーブルのチェックとアップグレード">mysql_upgrade</a> ユーティリティを実行します (MySQL 8.0.16 以降では不要):
          </p><pre class="programlisting"><strong class="userinput"><code>docker exec -it mysql80 mysql_upgrade -uroot -p</code></strong>
</pre><p>
            プロンプトが表示されたら、古い MySQL 5.7 Server の root パスワードを入力します。
          </p></li><li class="listitem"><p>
            MySQL 8.0 Server コンテナを再起動して、アップグレードを終了します:
          </p><pre class="programlisting"><strong class="userinput"><code>docker restart mysql80</code></strong>
</pre></li></ul></div><h5><a name="docker-more-topics"></a>Docker での MySQL Server のデプロイに関するその他のトピック</h5><p>
        サーバー構成、データと構成の永続化、サーバーエラーログおよびコンテナ環境変数など、Docker を使用した MySQL Server のデプロイの詳細は、<a class="xref" href="installing.html#docker-mysql-more-topics" title="2.5.6.2 Docker での MySQL Server のデプロイに関するその他のトピック">セクション2.5.6.2「Docker での MySQL Server のデプロイに関するその他のトピック」</a> を参照してください。
      </p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="docker-mysql-more-topics"></a>2.5.6.2 Docker での MySQL Server のデプロイに関するその他のトピック</h4></div></div></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
          次のほとんどのサンプルコマンドでは、(<span class="command"><strong>docker pull</strong></span> コマンドや <span class="command"><strong>docker run</strong></span> コマンドなどを使用して) 指定する必要がある場合、<code class="literal">mysql/mysql-server</code> が Docker イメージリポジトリとして使用されます。イメージが別のリポジトリからのものである場合は、次のように変更


          <a class="ulink" href="https://support.oracle.com/" target="_top">My Oracle Support</a> からダウンロードされた <code class="literal">mysql/enterprise-server</code> for MySQL Enterprise Edition イメージ。
        </p></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a class="xref" href="installing.html#docker-optimized-installation" title="Docker 用に最適化された MySQL インストール">Docker 用に最適化された MySQL インストール</a></p></li><li class="listitem"><p><a class="xref" href="installing.html#docker-configuring-server" title="MySQL Server の構成">MySQL Server の構成</a></p></li><li class="listitem"><p><a class="xref" href="installing.html#docker-persisting-data-configuration" title="データおよび構成の変更の永続化">データおよび構成の変更の永続化</a></p></li><li class="listitem"><p><a class="xref" href="installing.html#docker-additional-init" title="追加の初期化スクリプトの実行">追加の初期化スクリプトの実行</a></p></li><li class="listitem"><p><a class="xref" href="installing.html#docker-app-in-another-container" title="別の Docker コンテナ内のアプリケーションから MySQL への接続">別の Docker コンテナ内のアプリケーションから MySQL への接続</a></p></li><li class="listitem"><p><a class="xref" href="installing.html#docker-server-error-log" title="サーバーエラーログ">サーバーエラーログ</a></p></li><li class="listitem"><p><a class="xref" href="installing.html#docker-meb" title="Docker での MySQL Enterprise Backup の使用">Docker での MySQL Enterprise Backup の使用</a></p></li><li class="listitem"><p><a class="xref" href="installing.html#docker-known-issues" title="既知の問題">既知の問題</a></p></li><li class="listitem"><p><a class="xref" href="installing.html#docker-environment-variables" title="Docker の環境変数">Docker の環境変数</a></p></li></ul></div><h5><a name="docker-optimized-installation"></a>Docker 用に最適化された MySQL インストール</h5><p>
        MySQL 用の Docker イメージはコードサイズ用に最適化されています。つまり、Docker コンテナで MySQL インスタンスを実行する大部分のユーザーに関連することが予想される重要なコンポーネントのみが含まれています。 MySQL Docker のインストールは、次の点で共通の non-Docker のインストールとは異なります: 

        </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
              含まれるバイナリは、次のものに制限されます:

              </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                    <code class="filename"> /usr/bin/my_print_defaults</code>
                  </p></li><li class="listitem"><p>
                    <code class="filename">/usr/bin/mysql</code>
                  </p></li><li class="listitem"><p>
                    <code class="filename">/usr/bin/mysql_config</code>
                  </p></li><li class="listitem"><p>
                    <code class="filename">/usr/bin/mysql_install_db</code>
                  </p></li><li class="listitem"><p>
                    <code class="filename">/usr/bin/mysql_tzinfo_to_sql</code>
                  </p></li><li class="listitem"><p>
                    <code class="filename">/usr/bin/mysql_upgrade</code>
                  </p></li><li class="listitem"><p>
                    <code class="filename"> /usr/bin/mysqladmin</code>
                  </p></li><li class="listitem"><p>
                    <code class="filename"> /usr/bin/mysqlcheck</code>
                  </p></li><li class="listitem"><p>
                    <code class="filename">/usr/bin/mysqldump</code>
                  </p></li><li class="listitem"><p>
                    <code class="filename">/usr/bin/mysqlpump</code>
                  </p></li><li class="listitem"><p>
                    <code class="filename">/usr/bin/mysqlbackup</code> ( MySQL Enterprise Edition 8.0 の場合のみ)
                  </p></li><li class="listitem"><p>
                    <code class="filename">/usr/sbin/mysqld</code>
                  </p></li></ul></div><p>
            </p></li><li class="listitem"><p>
              すべてのバイナリが削除され、デバッグ情報は含まれません。
            </p></li></ul></div><p>
      </p><h5><a name="docker-configuring-server"></a>MySQL Server の構成</h5><p>
        MySQL Docker コンテナを起動するときに、<span class="command"><strong>docker run</strong></span> コマンドを使用して構成オプションをサーバーに渡すことができます。 例: 
      </p><pre class="programlisting"><strong class="userinput"><code>docker run --name mysql1 -d mysql/mysql-server:<em class="replaceable"><code>tag</code></em> --character-set-server=utf8mb4 --collation-server=utf8mb4_col</code></strong></pre><p>
        このコマンドは、<code class="literal">utf8mb4</code> をデフォルトの文字セットとして、<code class="literal">utf8mb4_col</code> をデータベースのデフォルトの照合順序として使用して、MySQL Server を起動します。
      </p><p>
        MySQL Server を構成する別の方法は、構成ファイルを準備し、コンテナ内のサーバー構成ファイルの場所にマウントすることです。 詳細は、<a class="xref" href="installing.html#docker-persisting-data-configuration" title="データおよび構成の変更の永続化">データおよび構成の変更の永続化</a> を参照してください。 
      </p><h5><a name="docker-persisting-data-configuration"></a>データおよび構成の変更の永続化</h5><p>
        Docker コンテナは原則的に一時的なものであり、コンテナが削除または破損した場合、データまたは構成は失われることが予想されます (ディスカッション<a class="ulink" href="https://docs.docker.com/engine/userguide/eng-image/dockerfile_best-practices/" target="_top">「ここ」</a>を参照)。 ただし、<a class="ulink" href="https://docs.docker.com/engine/admin/volumes/volumes/" target="_top">「Docker ボリューム」</a>には、Docker コンテナ内で作成されたデータを永続化するメカニズムが用意されています。 初期化時に、MySQL Server コンテナはサーバーデータディレクトリの Docker ボリュームを作成します。 コンテナで <span class="command"><strong>docker inspect</strong></span> コマンドを実行するための JSON 出力には <code class="literal">Mount</code> キーがあり、その値によってデータディレクトリボリュームに関する情報が提供されます: 
      </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>docker inspect mysql1</code></strong>
...
 "Mounts": [
            {
                "Type": "volume",
                "Name": "4f2d463cfc4bdd4baebcb098c97d7da3337195ed2c6572bc0b89f7e845d27652",
                "Source": "/var/lib/docker/volumes/4f2d463cfc4bdd4baebcb098c97d7da3337195ed2c6572bc0b89f7e845d27652/_data",
                "Destination": "/var/lib/mysql",
                "Driver": "local",
                "Mode": "",
                "RW": true,
                "Propagation": ""
            }
        ],
...
</pre><p>
        出力には、データがホストに永続化されるソースフォルダ<code class="filename">/var/lib/docker/volumes/4f2d463cfc4bdd4baebcb098c97d7da3337195ed2c6572bc0b89f7e845d27652/_data</code> が、コンテナ内のサーバーデータディレクトリである<code class="filename">/var/lib/mysql</code> にマウントされていることが示されています。
      </p><p>
        データを保持する別の方法は、コンテナの作成時に <code class="option">--mount</code> オプションを使用してホストディレクトリを <a class="ulink" href="https://docs.docker.com/engine/reference/commandline/service_create/#add-bind-mounts-volumes-or-memory-filesystems" target="_top">bind-mount</a> に保存することです。 同じ方法を使用して、サーバーの構成を永続化できます。 次のコマンドは、MySQL Server コンテナを作成し、データディレクトリとサーバー構成ファイルの両方をバインドマウントします: 
      </p><pre class="programlisting"><strong class="userinput"><code>docker run --name=mysql1 \
--mount type=bind,src=<em class="replaceable"><code>/path-on-host-machine/my.cnf</code></em>,dst=/etc/my.cnf \
--mount type=bind,src=<em class="replaceable"><code>/path-on-host-machine/datadir</code></em>,dst=/var/lib/mysql \
-d mysql/mysql-server:<em class="replaceable"><code>tag</code></em> </code></strong></pre><p>
        このコマンドは、<code class="filename"><em class="replaceable"><code>path-on-host-machine/my.cnf</code></em></code> を<code class="filename"><code class="filename">/etc/my.cnf</code> </code> (コンテナ内のサーバー構成ファイル) にマウントし、<code class="filename"><em class="replaceable"><code>path-on-host-machine/datadir</code></em></code> を<code class="filename"><code class="filename">/var/lib/mysql</code> </code> (コンテナ内のデータディレクトリ) にマウントします。 バインドマウントが機能するには、次の条件を満たす必要があります: 

        </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
              構成ファイル <code class="filename"><em class="replaceable"><code>path-on-host-machine/my.cnf</code></em></code> がすでに存在し、ユーザー <code class="literal">mysql</code> を使用してサーバーを起動するための仕様が含まれている必要があります:
            </p><pre class="programlisting">[mysqld]
user=mysql</pre><p>
              ファイルに他のサーバー構成オプションを含めることもできます。
            </p></li><li class="listitem"><p>
              データディレクトリ <code class="filename"><em class="replaceable"><code>path-on-host-machine/datadir</code></em></code> がすでに存在している必要があります。 サーバーの初期化を実行するには、ディレクトリが空である必要があります。 データが事前移入されたディレクトリをマウントしてサーバーを起動することもできますが、データを作成したサーバーと同じ構成で Docker コンテナを起動する必要があり、コンテナの起動時に必要なホストファイルまたはディレクトリがマウントされていることを確認する必要があります。 
            </p></li></ul></div><p>
      </p><h5><a name="docker-additional-init"></a>追加の初期化スクリプトの実行</h5><p>
        作成直後にデータベースで実行する <code class="filename">.sh</code> または <code class="filename">.sql</code> スクリプトがある場合は、それらをホストディレクトリに配置してから、そのディレクトリをコンテナ内の<code class="filename">/docker-entrypoint-initdb.d/</code>にマウントできます。 例: 
      </p><pre class="programlisting"><strong class="userinput"><code>docker run --name=mysql1 \
--mount type=bind,src=<em class="replaceable"><code>/path-on-host-machine/scripts/</code></em>,dst=/docker-entrypoint-initdb.d/ \
-d mysql/mysql-server:<em class="replaceable"><code>tag</code></em></code></strong></pre><h5><a name="docker-app-in-another-container"></a>別の Docker コンテナ内のアプリケーションから MySQL への接続</h5><p>
        Docker ネットワークを設定すると、別の Docker コンテナ内のクライアントアプリケーションがサーバーコンテナ内の MySQL Server にアクセスできるように、複数の Docker コンテナが相互に通信できるようになります。 まず、Docker ネットワークを作成します: 
      </p><pre class="programlisting"><strong class="userinput"><code>docker network create <em class="replaceable"><code>my-custom-net</code></em></code></strong></pre><p>
        次に、サーバーおよびクライアントコンテナを作成して起動するときに、<code class="option">--network</code> オプションを使用して、作成したネットワークに配置します。 例: 
      </p><pre class="programlisting"><strong class="userinput"><code>docker run --name=mysql1 --network=<em class="replaceable"><code>my-custom-net</code></em> -d mysql/mysql-server</code></strong></pre><pre class="programlisting"><strong class="userinput"><code>docker run --name=myapp1 --network=<em class="replaceable"><code>my-custom-net</code></em> -d myapp</code></strong></pre><p>
        その後、Docker は指定されたコンテナ名に対して DNS を自動的に設定するため、<code class="literal">myapp1</code> コンテナは <code class="literal">mysql1</code> ホスト名を使用して <code class="literal">mysql1</code> コンテナに接続できます (逆も同様です)。 次の例では、<code class="literal">myapp1</code> コンテナ内から <span class="command"><strong><code class="literal">mysq</code>l</strong></span> クライアントを実行して、独自のコンテナ内のホスト <code class="literal">mysql1</code> に接続します: 
      </p><pre class="programlisting"><strong class="userinput"><code>docker exec -it myapp1 mysql --host=mysql1 --user=myuser --password</code></strong></pre><p>
        コンテナのその他のネットワーク技術については、Docker ドキュメントの<a class="ulink" href="https://docs.docker.com/engine/userguide/networking/" target="_top">「Docker コンテナネットワーキング」</a>のセクションを参照してください。
      </p><h5><a name="docker-server-error-log"></a>サーバーエラーログ</h5><p>
        サーバーコンテナを使用して MySQL Server を初めて起動したときに、次のいずれかの条件に該当する場合、<a class="link" href="server-administration.html#error-log" title="5.4.2 エラーログ">server error log</a> は生成されません:
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            ホストからのサーバー構成ファイルがマウントされていますが、ファイルにシステム変数 <code class="literal">log_error</code> が含まれていません (サーバー構成ファイルのバインドおよびマウントに関する <a class="xref" href="installing.html#docker-persisting-data-configuration" title="データおよび構成の変更の永続化">データおよび構成の変更の永続化</a> を参照)。
          </p></li><li class="listitem"><p>
            ホストからのサーバー構成ファイルはマウントされていませんが、Docker 環境変数 <a class="link" href="installing.html#docker_var_mysql-log-console"><code class="option">MYSQL_LOG_CONSOLE</code></a> は <code class="literal">true</code> (MySQL 8.0 サーバーコンテナの変数のデフォルト状態) です。 その後、MySQL Server エラーログは <code class="literal">stderr</code> にリダイレクトされるため、エラーログは Docker コンテナログに記録され、<span class="command"><strong>docker logs <em class="replaceable"><code>mysqld-container</code></em></strong></span> コマンドを使用して表示できます。 
          </p></li></ul></div><p>
        いずれかの条件に該当する場合に MySQL Server でエラーログを生成するには、<a class="link" href="installing.html#docker-configuring-server" title="MySQL Server の構成">configure the server</a> の <code class="option">--log-error</code> オプションを使用して、コンテナ内の特定の場所にエラーログを生成します。 エラーログを永続化するには、<a class="xref" href="installing.html#docker-persisting-data-configuration" title="データおよび構成の変更の永続化">データおよび構成の変更の永続化</a> の説明に従って、コンテナ内のエラーログの場所にホストファイルをマウントします。 ただし、コンテナ内の MySQL Server に、マウントされたホストファイルへの書込みアクセス権があることを確認する必要があります。 
      </p><h5><a name="docker-meb"></a>Docker での MySQL Enterprise Backup の使用</h5><p>
        <a class="ulink" href="https://dev.mysql.com/doc/mysql-enterprise-backup/8.0/en/" target="_top">MySQL Enterprise Backup</a> は、<a class="ulink" href="https://www.mysql.com/products/enterprise/" target="_top">MySQL Enterprise Edition</a> で使用可能な MySQL Server の商用ライセンスバックアップユーティリティです。MySQL Enterprise Backup は MySQL Enterprise Edition の Docker インストールに含まれています。
      </p><p>
        次の例では、Docker コンテナで MySQL Server がすでに実行されていることを前提としています (Docker で MySQL Server インスタンスを起動する方法については、<a class="xref" href="installing.html#docker-mysql-getting-started" title="2.5.6.1 Docker を使用した MySQL Server デプロイメントの基本ステップ">セクション2.5.6.1「Docker を使用した MySQL Server デプロイメントの基本ステップ」</a> を参照してください)。 MySQL Enterprise Backup で MySQL Server をバックアップするには、サーバーデータディレクトリにアクセスできる必要があります。 これは、たとえば、サーバーの起動時に <a class="link" href="installing.html#docker-persisting-data-configuration" title="データおよび構成の変更の永続化">bind-mounting a host directory on the data directory of the MySQL Server</a> によって実現できます: 

</p><pre class="programlisting"><strong class="userinput"><code>docker run --name=mysqlserver \
--mount type=bind,src=<em class="replaceable"><code>/path-on-host-machine/datadir/</code></em>,dst=/var/lib/mysql \
-d mysql/enterprise-server:8.0</code></strong></pre><p>
      </p><p>
        このコマンドを使用すると、MySQL Server は MySQL Enterprise Edition の Docker イメージで起動され、ホストディレクトリ<em class="replaceable"><code>/path-on-host-machine/datadir/</code></em>はサーバーコンテナ内のサーバーデータディレクトリ (<code class="filename">/var/lib/mysql</code>) にマウントされます。 また、サーバーの起動後、MySQL Enterprise Backup がサーバーにアクセスするために必要な権限も設定されていることを前提としています (詳細は、<a class="ulink" href="https://dev.mysql.com/doc/mysql-enterprise-backup/8.0/en/mysqlbackup.privileges.html" target="_top">Grant MySQL Privileges to Backup Administrator</a> を参照)。 次のステップを使用して、MySQL Server インスタンスをバックアップおよびリストアします。 
      </p><p>
        <span class="emphasis"><em>Docker とともに MySQL Enterprise Backup を使用して、Docker コンテナで実行されている MySQL Server インスタンスをバックアップするには</em></span>:
      </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
            MySQL Server コンテナが実行されているのと同じホストで、MySQL Enterprise Edition のイメージを使用して別のコンテナを起動し、MySQL Enterprise Backup コマンド <code class="option">backup-to-image</code> を使用してバックアップを実行します。 最後のステップで作成したバインドマウントを使用して、サーバーデータディレクトリへのアクセスを提供します。 また、ホストディレクトリ (この例では<em class="replaceable"><code>/path-on-host-machine/backups/</code></em>) をコンテナ内のバックアップの記憶域フォルダ (この例では<code class="filename">/data/backups</code>) にマウントして、作成中のバックアップを永続化します。 次に、<a class="ulink" href="https://support.oracle.com/" target="_top">My Oracle Support</a> からダウンロードした Docker イメージを使用して MySQL Enterprise Backup を起動する、このステップのサンプルコマンドを示します: 
          </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>docker run \
--mount type=bind,src=<em class="replaceable"><code>/path-on-host-machine/datadir/</code></em>,dst=/var/lib/mysql \
--mount type=bind,src=<em class="replaceable"><code>/path-on-host-machine/backups/</code></em>,dst=/data/backups \
--rm mysql/enterprise-server:8.0 \
mysqlbackup -u<em class="replaceable"><code>mysqlbackup</code></em> -p<em class="replaceable"><code>password</code></em> --backup-dir=/tmp/backup-tmp --with-timestamp \
--backup-image=/data/backups/db.mbi backup-to-image</code></strong>

[Entrypoint] MySQL Docker Image 8.0.11-1.1.5
MySQL Enterprise Backup version 8.0.11 Linux-4.1.12-61.1.16.el7uek.x86_64-x86_64 [2018-04-08  07:06:45]
Copyright (c) 2003, 2018, Oracle and/or its affiliates. All Rights Reserved.

180921 17:27:25 MAIN    INFO: A thread created with Id '140594390935680'
180921 17:27:25 MAIN    INFO: Starting with following command line ...
...

-------------------------------------------------------------
   Parameters Summary
-------------------------------------------------------------
   Start LSN                  : 29615616
   End LSN                    : 29651854
-------------------------------------------------------------

mysqlbackup completed OK!
</pre><p>
            <span class="command"><strong>mysqlbackup</strong></span> による出力の終わりをチェックして、バックアップが正常に完了していることを確認することが重要です。
          </p></li><li class="listitem"><p>
            バックアップジョブが終了するとコンテナは終了し、開始に使用した <code class="literal">--rm</code> オプションを使用すると、コンテナは終了後に削除されます。 イメージバックアップが作成され、バックアップを格納する最後のステップでマウントされたホストディレクトリにあります: 

</p><pre class="programlisting">shell&gt; ls /tmp/backups
db.mbi
</pre><p>
          </p></li></ol></div><p>
        <span class="emphasis"><em> MySQL Enterprise Backup と Docker を使用して Docker コンテナ内の MySQL Server インスタンスをリストアするには</em></span>:
      </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
            MySQL Server コンテナを停止します。これにより、内部で実行されている MySQL Server も停止されます:
          </p><pre class="programlisting">docker stop mysqlserver</pre></li><li class="listitem"><p>
            ホストで、MySQL Server データディレクトリの bind マウント内のすべての内容を削除します:
          </p><pre class="programlisting">rm -rf <em class="replaceable"><code>/path-on-host-machine/datadir</code></em>/*
</pre></li><li class="listitem"><p>
            MySQL Enterprise Edition のイメージを使用してコンテナを起動し、MySQL Enterprise Backup コマンド <code class="option">copy-back-and-apply-log</code> を使用してリストアを実行します。 サーバーをバックアップしたときと同様に、バックアップのサーバーデータディレクトリとストレージフォルダをバインド/マウントします: 
          </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>docker run \
--mount type=bind,src=<em class="replaceable"><code>/path-on-host-machine/datadir/</code></em>,dst=/var/lib/mysql \
--mount type=bind,src=<em class="replaceable"><code>/path-on-host-machine/backups/</code></em>,dst=/data/backups \
--rm mysql/enterprise-server:8.0 \
mysqlbackup --backup-dir=/tmp/backup-tmp --with-timestamp \
--datadir=/var/lib/mysql --backup-image=/data/backups/db.mbi copy-back-and-apply-log</code></strong>

[Entrypoint] MySQL Docker Image 8.0.11-1.1.5
MySQL Enterprise Backup version 8.0.11 Linux-4.1.12-61.1.16.el7uek.x86_64-x86_64 [2018-04-08  07:06:45]
Copyright (c) 2003, 2018, Oracle and/or its affiliates. All Rights Reserved.

180921 22:06:52 MAIN    INFO: A thread created with Id '139768047519872'
180921 22:06:52 MAIN    INFO: Starting with following command line ...
...
180921 22:06:52 PCR1    INFO: We were able to parse ibbackup_logfile up to
          lsn 29680612.
180921 22:06:52 PCR1    INFO: Last MySQL binlog file position 0 155, file name binlog.000003
180921 22:06:52 PCR1    INFO: The first data file is '/var/lib/mysql/ibdata1'
                              and the new created log files are at '/var/lib/mysql'
180921 22:06:52 MAIN    INFO: No Keyring file to process.
180921 22:06:52 MAIN    INFO: Apply-log operation completed successfully.
180921 22:06:52 MAIN    INFO: Full Backup has been restored successfully.

mysqlbackup completed OK! with 3 warnings
</pre><p>
            バックアップジョブが終了するとコンテナは終了し、開始時に <code class="literal">--rm</code> オプションを使用すると、コンテナは終了後に削除されます。
          </p></li><li class="listitem"><p>
            サーバーコンテナを再起動します。これにより、リストアされたサーバーも再起動されます:
          </p><pre class="programlisting"><strong class="userinput"><code>docker restart mysqlserver</code></strong></pre><p>
            または、リストアされたデータディレクトリで新しい MySQL Server を起動します:
          </p><pre class="programlisting"><strong class="userinput"><code>docker run --name=mysqlserver2 \
--mount type=bind,src=<em class="replaceable"><code>/path-on-host-machine/datadir/</code></em>,dst=/var/lib/mysql \
-d mysql/enterprise-server:8.0</code></strong></pre><p>
            サーバーにログオンして、リストアされたデータでサーバーが実行されていることを確認します。
          </p></li></ol></div><h5><a name="docker-known-issues"></a>既知の問題</h5><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            サーバーシステム変数 <code class="literal">audit_log_file</code> を使用して監査ログファイル名を構成する場合、それとともに <code class="literal">loose</code> <a class="link" href="programs.html#option-modifiers" title="4.2.2.4 プログラムオプション修飾子">option modifier</a> を使用すると、Docker はサーバーを起動できません。
          </p></li></ul></div><h5><a name="docker-environment-variables"></a>Docker の環境変数</h5><p>
        MySQL Server コンテナを作成する場合、<code class="option">--env</code> オプション (<code class="option">-e</code>) を使用して、次の環境変数のいずれかまたは複数を指定することで、MySQL インスタンスを構成できます。

        </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">メモ</div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                サーバーの初期化が試行されないため、マウントするデータディレクトリが空でない場合、次の変数は何の効果もありません (詳細は <a class="xref" href="installing.html#docker-persisting-data-configuration" title="データおよび構成の変更の永続化">データおよび構成の変更の永続化</a> を参照)。 フォルダ内の既存のコンテンツ (古いサーバー設定を含む) は、コンテナの起動時に変更されません。 
              </p></li><li class="listitem"><p>
                <a class="link" href="installing.html#docker_var_mysql_random_root_password"><code class="option">MYSQL_RANDOM_ROOT_PASSWORD</code></a>、<a class="link" href="installing.html#docker_var_mysql_onetime_password"><code class="option">MYSQL_ONETIME_PASSWORD</code></a>、<a class="link" href="installing.html#docker_var_mysql-allow-empty-password"><code class="option">MYSQL_ALLOW_EMPTY_PASSWORD</code></a>、<a class="link" href="installing.html#docker_var_mysql-log-console"><code class="option">MYSQL_LOG_CONSOLE</code></a> などのブール変数は、長さがゼロ以外の文字列で設定することによって true になります。



                したがって、<span class="quote">「<span class="quote">0</span>」</span>、<span class="quote">「<span class="quote">false</span>」</span> または no などに設定しても、false にはなりませんが、実際には true になります。 これは、MySQL Server コンテナの既知の問題です。 
              </p></li></ul></div></div><p>
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="docker_var_mysql_random_root_password"></a>
            <a class="link" href="installing.html#docker_var_mysql_random_root_password"><code class="option">MYSQL_RANDOM_ROOT_PASSWORD</code></a>: この変数が true (<a class="link" href="installing.html#docker_var_mysql-root-password"><code class="option">MYSQL_ROOT_PASSWORD</code></a> が設定されているか、<a class="link" href="installing.html#docker_var_mysql-allow-empty-password"><code class="option">MYSQL_ALLOW_EMPTY_PASSWORD</code></a> が true に設定されていないかぎり、デフォルトの状態) の場合、Docker コンテナの起動時にサーバールートユーザーのランダムパスワードが生成されます。 パスワードはコンテナの <code class="literal">stdout</code> に出力され、コンテナのログを参照して確認できます (<a class="xref" href="installing.html#docker-starting-mysql-server" title="MySQL Server インスタンスの起動">MySQL Server インスタンスの起動</a> を参照)。 
          </p></li><li class="listitem"><p><a name="docker_var_mysql_onetime_password"></a>
            <a class="link" href="installing.html#docker_var_mysql_onetime_password"><code class="option">MYSQL_ONETIME_PASSWORD</code></a>: 変数が true (<a class="link" href="installing.html#docker_var_mysql-root-password"><code class="option">MYSQL_ROOT_PASSWORD</code></a> が設定されているか、<a class="link" href="installing.html#docker_var_mysql-allow-empty-password"><code class="option">MYSQL_ALLOW_EMPTY_PASSWORD</code></a> が true に設定されていないかぎり、デフォルトの状態) の場合、root ユーザーのパスワードは期限切れとして設定され、MySQL を通常どおり使用する前に変更する必要があります。
          </p></li><li class="listitem"><p><a name="docker_var_mysql_database"></a>
            <a class="link" href="installing.html#docker_var_mysql_database"><code class="option">MYSQL_DATABASE</code></a>: この変数を使用すると、イメージの起動時に作成するデータベースの名前を指定できます。 <a class="link" href="installing.html#docker_var_mysql_user_password"><code class="option">MYSQL_USER</code></a> および <a class="link" href="installing.html#docker_var_mysql_user_password"><code class="option">MYSQL_PASSWORD</code></a> でユーザー名とパスワードが指定されている場合、ユーザーが作成され、このデータベース (<code class="literal">GRANT ALL</code> に対応) へのスーパーユーザーアクセス権が付与されます。 指定されたデータベースは <a class="link" href="sql-statements.html#create-database" title="13.1.12 CREATE DATABASE ステートメント">CREATE DATABASE IF NOT EXIST</a> ステートメントによって作成されるため、データベースがすでに存在する場合、変数は無効です。 
          </p></li><li class="listitem"><p><a name="docker_var_mysql_user_password"></a>
            <a class="link" href="installing.html#docker_var_mysql_user_password"><code class="option">MYSQL_USER</code></a>, <a class="link" href="installing.html#docker_var_mysql_user_password"><code class="option">MYSQL_PASSWORD</code></a>: これらの変数は、ユーザーを作成してそのユーザーパスワードを設定するために組み合せて使用され、ユーザーには <a class="link" href="installing.html#docker_var_mysql_database"><code class="option">MYSQL_DATABASE</code></a> 変数で指定されたデータベースに対するスーパーユーザー権限が付与されます。 ユーザーを作成するには、<a class="link" href="installing.html#docker_var_mysql_user_password"><code class="option">MYSQL_USER</code></a> と <a class="link" href="installing.html#docker_var_mysql_user_password"><code class="option">MYSQL_PASSWORD</code></a> の両方が必要です。2 つの変数のいずれかが設定されていない場合、もう一方は無視されます。 両方の変数が設定されているが、<a class="link" href="installing.html#docker_var_mysql_database"><code class="option">MYSQL_DATABASE</code></a> が設定されていない場合、ユーザーは権限なしで作成されます。 

            </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
                このメカニズムを使用してルートスーパーユーザーを作成する必要はありません。このスーパーユーザーは、<a class="link" href="installing.html#docker_var_mysql-allow-empty-password"><code class="option">MYSQL_ALLOW_EMPTY_PASSWORD</code></a> が true でないかぎり、<a class="link" href="installing.html#docker_var_mysql-root-password"><code class="option">MYSQL_ROOT_PASSWORD</code></a> および <a class="link" href="installing.html#docker_var_mysql_random_root_password"><code class="option">MYSQL_RANDOM_ROOT_PASSWORD</code></a> の説明で説明されているメカニズムのいずれかによってデフォルトでパスワードが設定されて作成されます。
              </p></div><p>
          </p></li><li class="listitem"><p><a name="docker_var_mysql-root-host"></a>
            <a class="link" href="installing.html#docker_var_mysql-root-host"><code class="option">MYSQL_ROOT_HOST</code></a>: デフォルトでは、MySQL によって<code class="literal">'root'@'localhost'</code>アカウントが作成されます。 このアカウントは、<a class="xref" href="installing.html#docker-connecting-within-container" title="コンテナ内から MySQL Server への接続">コンテナ内から MySQL Server への接続</a> で説明されているように、コンテナ内からのみ接続できます。 他のホストからのルート接続を許可するには、この環境変数を設定します。 たとえば、デフォルトの Docker ゲートウェイ IP である値 <code class="literal">172.17.0.1</code> では、コンテナを実行するホストマシンからの接続が許可されます。 このオプションで使用できるエントリは 1 つのみですが、ワイルドカード (<code class="option">MYSQL_ROOT_HOST=172.*.*.*</code> や <code class="option">MYSQL_ROOT_HOST=%</code> など) を使用できます。 
          </p></li><li class="listitem"><p><a name="docker_var_mysql-log-console"></a>
            <a class="link" href="installing.html#docker_var_mysql-log-console"><code class="option">MYSQL_LOG_CONSOLE</code></a>: 変数が true (MySQL 8.0 サーバーコンテナのデフォルト状態) の場合、MySQL Server エラーログは <code class="literal">stderr</code> にリダイレクトされるため、エラーログは Docker コンテナログに記録され、<span class="command"><strong>docker logs <em class="replaceable"><code>mysqld-container</code></em></strong></span> コマンドを使用して表示できます。
          </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
              ホストのサーバー構成ファイルがマウントされている場合、変数は無効です (構成ファイルのバインド時の <a class="xref" href="installing.html#docker-persisting-data-configuration" title="データおよび構成の変更の永続化">データおよび構成の変更の永続化</a> を参照)。
            </p></div></li><li class="listitem"><p><a name="docker_var_mysql-root-password"></a>
            <a class="link" href="installing.html#docker_var_mysql-root-password"><code class="option">MYSQL_ROOT_PASSWORD</code></a>: この変数は、MySQL root アカウントに設定されるパスワードを指定します。

            </p><div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">警告</div><p>
                コマンドラインでの MySQL root ユーザーパスワードの設定はセキュアではありません。 パスワードを明示的に指定するかわりに、パスワードファイルのコンテナファイルパスを使用して変数を設定し、コンテナファイルパスにパスワードを含むホストからファイルをマウントすることもできます。 パスワードファイルの場所がまだ公開されているため、これはそれでも安全ではありません。 <a class="link" href="installing.html#docker_var_mysql_random_root_password"><code class="option">MYSQL_RANDOM_ROOT_PASSWORD</code></a> と <a class="link" href="installing.html#docker_var_mysql_onetime_password"><code class="option">MYSQL_ONETIME_PASSWORD</code></a> の両方のデフォルト設定を true にすることをお薦めします。 
              </p></div><p>
          </p></li><li class="listitem"><p><a name="docker_var_mysql-allow-empty-password"></a>
            <a class="link" href="installing.html#docker_var_mysql-allow-empty-password"><code class="option">MYSQL_ALLOW_EMPTY_PASSWORD</code></a>。 root ユーザーのパスワードを空白にしてコンテナを起動できるようにするには、true に設定します。 

            </p><div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">警告</div><p>
                この変数を true に設定すると、MySQL インスタンスを完全に保護せずに完全なスーパーユーザーアクセスを取得できるため、セキュアではありません。 <a class="link" href="installing.html#docker_var_mysql_random_root_password"><code class="option">MYSQL_RANDOM_ROOT_PASSWORD</code></a> と <a class="link" href="installing.html#docker_var_mysql_onetime_password"><code class="option">MYSQL_ONETIME_PASSWORD</code></a> の両方のデフォルト設定を true にすることをお薦めします。 
              </p></div><p>
          </p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="deploy-mysql-nonlinux-docker"></a>2.5.6.3 Docker を使用した Windows およびその他の Linux 以外のプラットフォームへの MySQL のデプロイ</h4></div></div></div><a class="indexterm" name="idm45548120980624"></a><div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">警告</div><p>
          Oracle によって提供される MySQL Docker イメージは、Linux プラットフォーム専用に構築されています。 他のプラットフォームはサポートされておらず、Oracle から MySQL Docker イメージを実行しているユーザーは独自のリスクでこれを実行しています。 このセクションでは、Linux 以外のプラットフォームでイメージを使用する場合の既知の問題について説明します。 
        </p></div><p>
        Windows 上の Oracle から MySQL Server Docker イメージを使用する際の既知の問題は次のとおりです:
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            コンテナの MySQL データディレクトリにバインドする場合 (詳細は <a class="xref" href="installing.html#docker-persisting-data-configuration" title="データおよび構成の変更の永続化">データおよび構成の変更の永続化</a> を参照)、<code class="option">--socket</code> オプションを使用してサーバーソケットファイルの場所を MySQL データディレクトリ外の場所に設定する必要があります。そうしないと、サーバーの起動に失敗します。 これは、Docker for Windows でファイルマウントを処理する方法では、ホストファイルをソケットファイルにバインドできないためです。 
          </p></li></ul></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="linux-installation-native"></a>2.5.7 ネイティブソフトウェアリポジトリから MySQL を Linux にインストールする</h3></div></div></div><p>
      多くの Linux 配布は、ネイティブソフトウェアリポジトリの中に 1 つのバージョンの MySQL Server、クライアントツール、および開発コンポーネントを含み、プラットフォームの標準パッケージ管理システムでインストールできます。 このセクションでは、これらのパッケージ管理システムを使用して MySQL をインストールするための基本的な手順を説明します。 
    </p><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">重要</div><p>
        ネイティブパッケージは多くの場合、使用可能な最新のリリースから数バージョン遅れています。 通常、開発マイルストンリリース (DMR) はネイティブリポジトリで使用可能になっていないため、インストールできません。 次に進む前に、<a class="xref" href="installing.html#linux-installation" title="2.5 Linux に MySQL をインストールする">セクション2.5「Linux に MySQL をインストールする」</a>に記述されているその他のインストールオプションを確認することが推奨されます。 
      </p></div><p>
      配布固有の手順を次に示します。
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          <span class="bold"><strong>Red Hat Linux、Fedora、CentOS</strong></span>
        </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
            多くの Linux ディストリビューションでは、プラットフォーム固有のソフトウェアリポジトリではなく、MySQL Yum リポジトリを使用して MySQL をインストールできます。 詳細は、<a class="xref" href="installing.html#linux-installation-yum-repo" title="2.5.1 MySQL Yum リポジトリを使用して MySQL を Linux にインストールする">セクション2.5.1「MySQL Yum リポジトリを使用して MySQL を Linux にインストールする」</a> を参照してください。 
          </p></div><p>
          Red Hat および同様の配布では、MySQL 配布はいくつかの個別のパッケージ (クライアントツール用の <code class="literal">mysql</code>、サーバーおよび関連ツール用の <code class="literal">mysql-server</code>、およびライブラリ用の <code class="literal">mysql-libs</code>) にわかれています。 Perl や Python など、異なる言語および環境からの接続性を提供する場合は、ライブラリは必須です。 
        </p><p>
          インストールするには、<span class="command"><strong>yum</strong></span> コマンドを使用してインストールするパッケージを指定します。 例: 
        </p><pre class="programlisting">root-shell&gt; yum install mysql mysql-server mysql-libs mysql-server
Loaded plugins: presto, refresh-packagekit
Setting up Install Process
Resolving Dependencies
--&gt; Running transaction check
---&gt; Package mysql.x86_64 0:5.1.48-2.fc13 set to be updated
---&gt; Package mysql-libs.x86_64 0:5.1.48-2.fc13 set to be updated
---&gt; Package mysql-server.x86_64 0:5.1.48-2.fc13 set to be updated
--&gt; Processing Dependency: perl-DBD-MySQL for package: mysql-server-5.1.48-2.fc13.x86_64
--&gt; Running transaction check
---&gt; Package perl-DBD-MySQL.x86_64 0:4.017-1.fc13 set to be updated
--&gt; Finished Dependency Resolution

Dependencies Resolved

================================================================================
 Package               Arch          Version               Repository      Size
================================================================================
Installing:
 mysql                 x86_64        5.1.48-2.fc13         updates        889 k
 mysql-libs            x86_64        5.1.48-2.fc13         updates        1.2 M
 mysql-server          x86_64        5.1.48-2.fc13         updates        8.1 M
Installing for dependencies:
 perl-DBD-MySQL        x86_64        4.017-1.fc13          updates        136 k

Transaction Summary
================================================================================
Install       4 Package(s)
Upgrade       0 Package(s)

Total download size: 10 M
Installed size: 30 M
Is this ok [y/N]: y
Downloading Packages:
Setting up and reading Presto delta metadata
Processing delta metadata
Package(s) data still to download: 10 M
(1/4): mysql-5.1.48-2.fc13.x86_64.rpm                    | 889 kB     00:04
(2/4): mysql-libs-5.1.48-2.fc13.x86_64.rpm               | 1.2 MB     00:06
(3/4): mysql-server-5.1.48-2.fc13.x86_64.rpm             | 8.1 MB     00:40
(4/4): perl-DBD-MySQL-4.017-1.fc13.x86_64.rpm            | 136 kB     00:00
--------------------------------------------------------------------------------
Total                                           201 kB/s |  10 MB     00:52
Running rpm_check_debug
Running Transaction Test
Transaction Test Succeeded
Running Transaction
  Installing     : mysql-libs-5.1.48-2.fc13.x86_64                          1/4
  Installing     : mysql-5.1.48-2.fc13.x86_64                               2/4
  Installing     : perl-DBD-MySQL-4.017-1.fc13.x86_64                       3/4
  Installing     : mysql-server-5.1.48-2.fc13.x86_64                        4/4

Installed:
  mysql.x86_64 0:5.1.48-2.fc13            mysql-libs.x86_64 0:5.1.48-2.fc13
  mysql-server.x86_64 0:5.1.48-2.fc13

Dependency Installed:
  perl-DBD-MySQL.x86_64 0:4.017-1.fc13

Complete!
</pre><p>
          MySQL および MySQL Server はすでにインストールされています。 サンプル構成ファイルは <code class="filename">/etc/my.cnf</code> にインストールされます。 MySQL サーバーを起動するには、<span class="command"><strong>systemctl</strong></span> を使用します: 
        </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>systemctl start mysqld</code></strong>
</pre><p>
          データベーステーブルがまだ存在しない場合は、自動的に作成されます。 ただし、サーバーで <span class="command"><strong>mysql_secure_installation</strong></span> を実行して root のパスワードを設定してください。 
        </p></li><li class="listitem"><p>
          <span class="bold"><strong>Debian、Ubuntu、Kubuntu</strong></span>
        </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
            サポートされている Debian および Ubuntu バージョンの場合、MySQL はプラットフォーム固有のソフトウェアリポジトリではなく<a class="ulink" href="https://dev.mysql.com/downloads/repo/apt/" target="_top">「MySQL APT リポジトリ」</a>を使用してインストールできます。 詳細は、<a class="xref" href="installing.html#linux-installation-apt-repo" title="2.5.2 MySQL APT リポジトリを使用して MySQL を Linux にインストールする">セクション2.5.2「MySQL APT リポジトリを使用して MySQL を Linux にインストールする」</a> を参照してください。 
          </p></div><p>
          Debian および関連する配布では、ソフトウェアリポジトリに MySQL のパッケージが <code class="literal">mysql-client</code> と <code class="literal">mysql-server</code> の 2 つあります。それぞれクライアントコンポーネントとサーバーコンポーネントです。 希望するバージョンの MySQL を確実にインストールするため、<code class="literal">mysql-client-5.1</code> のように明示的にバージョンを指定するとよいでしょう。 
        </p><p>
          依存関係を含めてダウンロードしてインストールするには、インストールするパッケージを指定して <span class="command"><strong>apt-get</strong></span> コマンドを使用します。
        </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
            入手可能な最新バージョンを確実にダウンロードするために、インストールの前に <code class="literal">apt-get</code> インデックスファイルを更新してください。
          </p></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
            <span class="command"><strong>apt-get</strong></span> コマンドは、一般的なツールおよびアプリケーション環境を提供するために、MySQL サーバーを含む多数のパッケージをインストールします。 これは、メインの MySQL パッケージに加えて多数のパッケージをインストールするということを意味します。 
          </p></div><p>
          インストール中に初期データベースが作成され、MySQL ルートパスワード (および確認) の入力を求められます。 構成ファイルが<code class="filename">/etc/mysql/my.cnf</code> に作成されます。 init スクリプトが<code class="filename">/etc/init.d/mysql</code> に作成されます。 
        </p><p>
          サーバーはすでに起動しているはずです。 次を使用してサーバーを自動的に起動および停止できます。 
        </p><pre class="programlisting">root-shell&gt; service mysql [start|stop]
</pre><p>
          サービスは 2、3 および 4 の実行レベルに自動的に追加され、停止スクリプトは単一、停止および再起動レベルで実行されます。
        </p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="linux-installation-juju"></a>2.5.8 Juju を使用した Linux への MySQL のインストール</h3></div></div></div><p>
      Juju デプロイメントフレームワークは、MySQL サーバーの簡単なインストールおよび構成をサポートします。 その手順は、<a class="ulink" href="https://jujucharms.com/mysql/" target="_top">https://jujucharms.com/mysql/</a>を参照してください。 
    </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="using-systemd"></a>2.5.9 systemd を使用した MySQL Server の管理</h3></div></div></div><a class="indexterm" name="idm45548120924416"></a><p>
      RPM または Debian パッケージを使用して MySQL を次の Linux プラットフォームにインストールする場合、サーバーの起動と停止は systemd によって管理されます:
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          RPM パッケージプラットフォーム:
        </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
              Enterprise Linux バリアントのバージョン 7 以上
            </p></li><li class="listitem"><p>
              SUSE Linux Enterprise Server 12 以上
            </p></li><li class="listitem"><p>
              Fedora 29 以上
            </p></li></ul></div></li><li class="listitem"><p>
          Debian ファミリプラットフォーム:
        </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
              Debian プラットフォーム
            </p></li><li class="listitem"><p>
              Ubuntu プラットフォーム
            </p></li></ul></div></li></ul></div><p>
      systemd を使用するプラットフォームに汎用バイナリディストリビューションから MySQL をインストールする場合は、<a class="ulink" href="https://dev.mysql.com/doc/mysql-secure-deployment-guide/en/" target="_top">「MySQL 8.0 セキュアデプロイメントガイド」</a>のインストール後の設定に関するセクションに記載されている手順に従って、MySQL の systemd サポートを手動で構成できます。
    </p><p>
      systemd を使用するプラットフォーム上のソース配布から MySQL をインストールする場合は、<code class="option">-DWITH_SYSTEMD=1</code> <span class="command"><strong>CMake</strong></span> オプションを使用して配布を構成することで、MySQL の systemd サポートを取得します。 <a class="xref" href="installing.html#source-configuration-options" title="2.9.7 MySQL ソース構成オプション">セクション2.9.7「MySQL ソース構成オプション」</a>を参照してください。 
    </p><p>
      次のセクションでは、これらのトピックについて説明します:
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a class="xref" href="installing.html#systemd-overview" title="systemd の概要">systemd の概要</a></p></li><li class="listitem"><p><a class="xref" href="installing.html#systemd-mysql-configuration" title="MySQL の systemd の構成">MySQL の systemd の構成</a></p></li><li class="listitem"><p><a class="xref" href="installing.html#systemd-multiple-mysql-instances" title="systemd を使用した複数の MySQL インスタンスの構成">systemd を使用した複数の MySQL インスタンスの構成</a></p></li><li class="listitem"><p><a class="xref" href="installing.html#mysqld-safe-to-systemd-migration" title="mysqld_safe から systemd への移行">mysqld_safe から systemd への移行</a></p></li></ul></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
        systemd support for MySQL がインストールされているプラットフォームでは、<span class="command"><strong>mysqld_safe</strong></span> や System V 初期化スクリプトなどのスクリプトは不要であり、インストールされません。 たとえば、<span class="command"><strong>mysqld_safe</strong></span> はサーバーの再起動を処理できますが、systemd は同じ機能を提供し、アプリケーション固有のプログラムを使用するのではなく、他のサービスの管理と一貫した方法で処理します。 
      </p><p>
        systemd には、systemd support for MySQL がインストールされているプラットフォームで複数の MySQL インスタンスを管理する機能があるため、<span class="command"><strong>mysqld_multi</strong></span> および <span class="command"><strong>mysqld_multi.server</strong></span> は不要であり、インストールされません。
      </p></div><div class="simplesect"><div class="titlepage"><div><div><h4 class="title"><a name="systemd-overview"></a>systemd の概要</h4></div></div></div><p>
        systemd は、MySQL サーバーの自動起動および停止を提供します。 また、<span class="command"><strong>systemctl</strong></span> コマンドを使用した手動サーバー管理も有効になります。 例: 
      </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>systemctl <em class="replaceable"><code>{start|stop|restart|status}</code></em> mysqld</code></strong>
</pre><p>
        または、System V システムと互換性のある <span class="command"><strong>service</strong></span> コマンドを (引数を逆にして) 使用します:
      </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>service mysqld <em class="replaceable"><code>{start|stop|restart|status}</code></em></code></strong>
</pre><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
          <span class="command"><strong>systemctl</strong></span> コマンド (および代替の <span class="command"><strong>service</strong></span> コマンド) では、MySQL サービス名が <code class="literal">mysqld</code> でない場合、適切な名前を使用します。 たとえば、Debian ベースおよび SLES システムでは、<code class="literal">mysqld</code> ではなく <code class="literal">mysql</code> を使用します。 
        </p></div><p>
        systemd のサポートには、次のファイルが含まれます:
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <code class="filename">mysqld.service</code> (RPM プラットフォーム)、<code class="filename">mysql.service</code> (Debian プラットフォーム): systemd サービスユニット構成ファイル (MySQL サービスの詳細を含む)。
          </p></li><li class="listitem"><p>
            <code class="filename">mysqld@.service</code> (RPM プラットフォーム)、<code class="filename">mysql@.service</code> (Debian プラットフォーム): <code class="filename">mysqld.service</code> または <code class="filename">mysql.service</code> と似ていますが、複数の MySQL インスタンスの管理に使用されます。
          </p></li><li class="listitem"><p>
            <code class="filename">mysqld.tmpfiles.d</code>: <code class="literal">tmpfiles</code> 機能をサポートするための情報を含むファイル。 このファイルは、<code class="filename">mysql.conf</code> という名前でインストールされます。 
          </p></li><li class="listitem"><p>
            <code class="filename">mysqld_pre_systemd</code> (RPM プラットフォーム)、<code class="filename">mysql-system-start</code> (Debian プラットフォーム): ユニットファイルのサポートスクリプト。 このスクリプトは、ログの場所がパターン (RPM プラットフォームの場合は<code class="literal">/var/log/mysql*.log</code>、Debian プラットフォームの場合は<code class="literal">/var/log/mysql/*.log</code>) と一致する場合にのみ、エラーログファイルの作成に役立ちます。 それ以外の場合は、<span class="command"><strong>mysqld</strong></span> プロセスを実行しているユーザーのエラーログディレクトリが書込み可能であるか、エラーログが存在し、書込み可能である必要があります。 
          </p></li></ul></div></div><div class="simplesect"><div class="titlepage"><div><div><h4 class="title"><a name="systemd-mysql-configuration"></a>MySQL の systemd の構成</h4></div></div></div><p>
        MySQL の systemd オプションを追加または変更するには、次の方法を使用できます:
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            ローカライズされた systemd 構成ファイルを使用します。
          </p></li><li class="listitem"><p>
            systemd を配置して、MySQL サーバープロセスの環境変数を設定します。
          </p></li><li class="listitem"><p>
            <code class="literal">MYSQLD_OPTS</code> systemd 変数を設定します。
          </p></li></ul></div><p>
        ローカライズされた systemd 構成ファイルを使用するには、<code class="filename">/etc/systemd/system/mysqld.service.d</code> ディレクトリを作成します (存在しない場合)。 そのディレクトリに、目的の設定をリストする<code class="literal">[Service]</code>セクションを含むファイルを作成します。 例: 
      </p><pre class="programlisting">[Service]
LimitNOFILE=<em class="replaceable"><code>max_open_files</code></em>
Nice=<em class="replaceable"><code>nice_level</code></em>
LimitCore=<em class="replaceable"><code>core_file_limit</code></em>
Environment="LD_PRELOAD=<em class="replaceable"><code>/path/to/malloc/library</code></em>"
Environment="TZ=<em class="replaceable"><code>time_zone_setting</code></em>"
</pre><p>
        ここでは、このファイルの名前として <code class="filename">override.conf</code> を使用します。 systemd の新しいバージョンでは、次のコマンドがサポートされており、エディタが開き、ファイルを編集できます: 
      </p><pre class="programlisting">systemctl edit mysqld  # RPM platforms
systemctl edit mysql   # Debian platforms
</pre><p>
        <code class="filename">override.conf</code> を作成または変更するたびに、systemd 構成をリロードしてから、MySQL サービスを再起動するように systemd に指示します:
      </p><pre class="programlisting">systemctl daemon-reload
systemctl restart mysqld  # RPM platforms
systemctl restart mysql   # Debian platforms
</pre><p>
        systemd では、MySQL オプションファイルの<code class="literal">[mysqld]</code>、<code class="literal">[mysqld_safe]</code>または<code class="literal">[safe_mysqld]</code>グループの設定ではなく、特定のパラメータに <code class="filename">override.conf</code> 構成方法を使用する必要があります:
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            一部のパラメータでは、systemd 自体がその値を知っている必要があり、MySQL オプションファイルを読み取って取得できないため、<code class="filename">override.conf</code> を使用する必要があります。
          </p></li><li class="listitem"><p>
            それ以外の場合は、systemd を使用して <span class="command"><strong>mysqld_safe</strong></span> が認識するオプションのみを使用して設定可能な値を指定するパラメータを指定する必要があります。これは、対応する <span class="command"><strong>mysqld</strong></span> パラメータがないためです。
          </p></li></ul></div><p>
        <span class="command"><strong>mysqld_safe</strong></span> ではなく systemd を使用する方法の詳細は、<a class="xref" href="installing.html#mysqld-safe-to-systemd-migration" title="mysqld_safe から systemd への移行">mysqld_safe から systemd への移行</a> を参照してください。
      </p><p>
        <code class="filename">override.conf</code> では次のパラメータを設定できます:
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            MySQL サーバーで使用可能なファイル記述子の数を設定するには、<span class="command"><strong>mysqld</strong></span> の <code class="literal">open_files_limit</code> システム変数または <span class="command"><strong>mysqld_safe</strong></span> の <code class="option">--open-files-limit</code> オプションではなく、<code class="filename">override.conf</code> で <code class="literal">LimitNOFILE</code> を使用します。
          </p></li><li class="listitem"><p>
            コアファイルの最大サイズを設定するには、<span class="command"><strong>mysqld_safe</strong></span> の <code class="option">--core-file-size</code> オプションではなく、<code class="filename">override.conf</code> で <code class="literal">LimitCore</code> を使用します。
          </p></li><li class="listitem"><p>
            MySQL サーバーのスケジューリング優先度を設定するには、<span class="command"><strong>mysqld_safe</strong></span> の <code class="option">--nice</code> オプションではなく、<code class="filename">override.conf</code> の <code class="literal">Nice</code> を使用します。
          </p></li></ul></div><p>
        一部の MySQL パラメータは、環境変数を使用して構成されます:
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <code class="literal">LD_PRELOAD</code>: MySQL サーバーが特定のメモリー割り当てライブラリを使用する必要がある場合は、この変数を設定します。
          </p><a class="indexterm" name="idm45548120824464"></a><a class="indexterm" name="idm45548120823024"></a><a class="indexterm" name="idm45548120821632"></a></li><li class="listitem"><p>
            <code class="literal">NOTIFY_SOCKET</code>: この環境変数は、<span class="command"><strong>mysqld</strong></span> が起動完了およびサービスステータス変更の通知を systemd と通信するために使用するソケットを指定します。 これは、<span class="command"><strong>mysqld</strong></span> サービスの起動時に systemd によって設定されます。 <span class="command"><strong>mysqld</strong></span> サービスは、変数設定を読み取り、定義された場所に書き込みます。 
          </p><p>
            MySQL 8.0 では、<span class="command"><strong>mysqld</strong></span> は <code class="literal">Type=notify</code> プロセス起動タイプを使用します。 (<code class="literal">Type=forking</code> は MySQL 5.7 で使用されていました。) <code class="literal">Type=notify</code> では、systemd によってソケットファイルが自動的に構成され、パスが <code class="literal">NOTIFY_SOCKET</code> 環境変数にエクスポートされます。 
          </p><a class="indexterm" name="idm45548120810880"></a><a class="indexterm" name="idm45548120809360"></a></li><li class="listitem"><p>
            <code class="literal">TZ</code>: この変数を設定して、サーバーのデフォルトのタイムゾーンを指定します。
          </p><a class="indexterm" name="idm45548120805712"></a><a class="indexterm" name="idm45548120804224"></a></li></ul></div><p>
        systemd によって管理される MySQL サーバープロセスで使用する環境変数値を指定するには、複数の方法があります:
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <code class="filename">override.conf</code> ファイルで <code class="literal">Environment</code> 行を使用します。 構文については、このファイルの使用方法を説明している前述の例を参照してください。 
          </p></li><li class="listitem"><p>
            <code class="filename">/etc/sysconfig/mysql</code> ファイルに値を指定します (ファイルが存在しない場合は作成します)。 次の構文を使用して値を割り当てます: 
          </p><pre class="programlisting">LD_PRELOAD=<em class="replaceable"><code>/path/to/malloc/library</code></em>
TZ=<em class="replaceable"><code>time_zone_setting</code></em>
</pre><p>
            <code class="filename">/etc/sysconfig/mysql</code> を変更した後、サーバーを再起動して変更を有効にします:
          </p><pre class="programlisting">systemctl restart mysqld  # RPM platforms
systemctl restart mysql   # Debian platforms
</pre></li></ul></div><a class="indexterm" name="idm45548120792576"></a><a class="indexterm" name="idm45548120791072"></a><p>
        systemd 構成ファイルを直接変更せずに <span class="command"><strong>mysqld</strong></span> のオプションを指定するには、<code class="literal">MYSQLD_OPTS</code> systemd 変数を設定または設定解除します。 例: 
      </p><pre class="programlisting">systemctl set-environment MYSQLD_OPTS="--general_log=1"
systemctl unset-environment MYSQLD_OPTS
</pre><p>
        <code class="literal">MYSQLD_OPTS</code> は、<code class="filename">/etc/sysconfig/mysql</code> ファイルでも設定できます。
      </p><p>
        systemd 環境を変更した後、サーバーを再起動して変更を有効にします:
      </p><pre class="programlisting">systemctl restart mysqld  # RPM platforms
systemctl restart mysql   # Debian platforms
</pre><p>
        systemd を使用するプラットフォームでは、サーバーの起動時に空の場合、データディレクトリが初期化されます。 これは、データディレクトリが一時的に消えたリモートマウントである場合に問題になる可能性があります: マウントポイントは空のデータディレクトリのように見え、新しいデータディレクトリとして初期化されます。 この自動初期化動作を抑制するには、<code class="filename">/etc/sysconfig/mysql</code> ファイルで次の行を指定します (ファイルが存在しない場合は作成します): 
      </p><pre class="programlisting">NO_INIT=true
</pre></div><div class="simplesect"><div class="titlepage"><div><div><h4 class="title"><a name="systemd-multiple-mysql-instances"></a>systemd を使用した複数の MySQL インスタンスの構成</h4></div></div></div><p>
        このセクションでは、MySQL の複数のインスタンスに対して systemd を構成する方法について説明します。
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
          systemd には systemd サポートがインストールされているプラットフォームで複数の MySQL インスタンスを管理する機能があるため、<span class="command"><strong>mysqld_multi</strong></span> および <span class="command"><strong>mysqld_multi.server</strong></span> は不要であり、インストールされません。
        </p></div><p>
        複数インスタンス機能を使用するには、<code class="filename">my.cnf</code> オプションファイルを変更して、各インスタンスのキーオプションの構成を含めます。 これらのファイルの場所は一般的です: 
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <code class="filename">/etc/my.cnf</code> または<code class="filename">/etc/mysql/my.cnf</code> (RPM プラットフォーム)
          </p></li><li class="listitem"><p>
            <code class="filename">/etc/mysql/mysql.conf.d/mysqld.cnf</code> (Debian プラットフォーム)
          </p></li></ul></div><p>
        たとえば、<code class="literal">replica01</code> および <code class="literal">replica02</code> という名前の 2 つのインスタンスを管理するには、次のようなものをオプションファイルに追加します:
      </p><p>
        RPM プラットフォーム:
      </p><pre class="programlisting">[mysqld@replica01]
datadir=/var/lib/mysql-replica01
socket=/var/lib/mysql-replica01/mysql.sock
port=3307
log-error=/var/log/mysqld-replica01.log

[mysqld@replica02]
datadir=/var/lib/mysql-replica02
socket=/var/lib/mysql-replica02/mysql.sock
port=3308
log-error=/var/log/mysqld-replica02.log
</pre><p>
        Debian プラットフォーム:
      </p><pre class="programlisting">[mysqld@replica01]
datadir=/var/lib/mysql-replica01
socket=/var/lib/mysql-replica01/mysql.sock
port=3307
log-error=/var/log/mysql/replica01.log

[mysqld@replica02]
datadir=/var/lib/mysql-replica02
socket=/var/lib/mysql-replica02/mysql.sock
port=3308
log-error=/var/log/mysql/replica02.log
</pre><p>
        systemd でサポートされているデリミタは<code class="literal">@</code>のみであるため、ここに示されているレプリカ名はデリミタとして<code class="literal">@</code>を使用します。
      </p><p>
        その後、インスタンスは次のような通常の systemd コマンドによって管理されます:
      </p><pre class="programlisting">systemctl start mysqld@replica01
systemctl start mysqld@replica02
</pre><p>
        ブート時にインスタンスを実行できるようにするには、次の手順を実行します:
      </p><pre class="programlisting">systemctl enable mysqld@replica01
systemctl enable mysqld@replica02
</pre><p>
        ワイルドカードの使用もサポートされます。 たとえば、次のコマンドはすべてのレプリカインスタンスのステータスを表示します: 
      </p><pre class="programlisting">systemctl status 'mysqld@replica*'
</pre><p>
        同じマシン上の複数の MySQL インスタンスを管理するために、systemd は自動的に異なる単位ファイルを使用します:
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <code class="filename">mysqld.service</code> (RPM プラットフォーム) ではなく <code class="filename">mysqld@.service</code>
          </p></li><li class="listitem"><p>
            <code class="filename">mysql.service</code> (Debian プラットフォーム) ではなく <code class="filename">mysql@.service</code>
          </p></li></ul></div><p>
        ユニットファイルでは、<code class="literal">%I</code> および <code class="literal">%i</code> は<code class="literal">@</code>マーカーの後に渡されたパラメータを参照し、特定のインスタンスの管理に使用されます。 次のようなコマンドの場合: 
      </p><pre class="programlisting">systemctl start mysqld@replica01
</pre><p>
        systemd は、次のようなコマンドを使用してサーバーを起動します:
      </p><pre class="programlisting">mysqld --defaults-group-suffix=@%I ...
</pre><p>
        その結果、<code class="literal">[server]</code>、<code class="literal">[mysqld]</code>および<code class="literal">[mysqld@replica01]</code>オプショングループが読み取られ、サービスのそのインスタンスに使用されます。
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
          Debian プラットフォームでは、AppArmor は、サーバーが<code class="filename">/var/lib/mysql-replica*</code> またはデフォルト以外の場所を読み書きできないようにします。 これに対処するには、<code class="filename">/etc/apparmor.d/usr.sbin.mysqld</code> でプロファイルをカスタマイズまたは無効化する必要があります。 
        </p></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
          Debian プラットフォームでは、MySQL のアンインストール用のパッケージ化スクリプトは、現在 <code class="literal">mysqld@</code>インスタンスを処理できません。 パッケージを削除またはアップグレードする前に、追加のインスタンスを手動で停止する必要があります。 
        </p></div></div><div class="simplesect"><div class="titlepage"><div><div><h4 class="title"><a name="mysqld-safe-to-systemd-migration"></a>mysqld_safe から systemd への移行</h4></div></div></div><p>
        systemd を使用して MySQL を管理するプラットフォームには <span class="command"><strong>mysqld_safe</strong></span> がインストールされていないため、そのプログラムに対して (<code class="literal">[mysqld_safe]</code>または<code class="literal">[safe_mysqld]</code>オプショングループなどで) 以前に指定したオプションは、別の方法で指定する必要があります:
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            一部の <span class="command"><strong>mysqld_safe</strong></span> オプションは <span class="command"><strong>mysqld</strong></span> でも認識され、<code class="literal">[mysqld_safe]</code>または<code class="literal">[safe_mysqld]</code>オプショングループから<code class="literal">[mysqld]</code>グループに移動できます。 これには、<code class="option">--pid-file</code>、<code class="option">--open-files-limit</code> または <code class="option">--nice</code> は含まれません。 これらのオプションを指定するには、前述の <code class="filename">override.conf</code> systemd ファイルを使用します。 
          </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
              systemd プラットフォームでは、<code class="literal">[mysqld_safe]</code>および<code class="literal">[safe_mysqld]</code>オプショングループの使用はサポートされておらず、予期しない動作を引き起こす可能性があります。
            </p></div></li><li class="listitem"><p>
            一部の <span class="command"><strong>mysqld_safe</strong></span> オプションには、代替の <span class="command"><strong>mysqld</strong></span> プロシージャがあります。 たとえば、<code class="literal">syslog</code> ロギングを有効にするための <span class="command"><strong>mysqld_safe</strong></span> オプションは <code class="option">--syslog</code> で、これは非推奨です。 エラーログ出力をシステムログに書き込むには、<a class="xref" href="server-administration.html#error-log-syslog" title="5.4.2.8 システムログへのエラーロギング">セクション5.4.2.8「システムログへのエラーロギング」</a> の手順を使用します。 
          </p></li><li class="listitem"><p>
            <span class="command"><strong>mysqld</strong></span> で認識されない <span class="command"><strong>mysqld_safe</strong></span> オプションは、<code class="filename">override.conf</code> または環境変数で指定できます。 たとえば、<span class="command"><strong>mysqld_safe</strong></span> では、サーバーが特定のメモリー割当てライブラリを使用する必要がある場合、これは <code class="option">--malloc-lib</code> オプションを使用して指定します。 systemd を使用してサーバーを管理するインストールの場合は、前述のように、かわりに <code class="literal">LD_PRELOAD</code> 環境変数を設定します。 
          </p></li></ul></div></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="uln-installation"></a>2.6 Unbreakable Linux Network (ULN) を使用した MySQL のインストール</h2></div></div></div><p>
    <a class="xref" href="installing.html#linux-installation" title="2.5 Linux に MySQL をインストールする">セクション2.5「Linux に MySQL をインストールする」</a>で説明するように、Linux は、MySQL をインストールするための何種類かのソリューションをサポートします。 このセクションで説明する方法の 1 つは、Oracle Unbreakable Linux Network (ULN) からのインストールです。 Oracle Linux および ULN の詳細は、<a class="ulink" href="http://linux.oracle.com/" target="_top">http://linux.oracle.com/</a>にあります。 
  </p><p>
    ULN を使用するには、ULN ログインを取得し、ULN でのインストールに使用するマシンを登録する必要があります。 これは、<a class="ulink" href="https://linux.oracle.com/uln_faq.html" target="_top">ULN FAQ</a> で詳細に説明しています。 このページでは、パッケージをインストールおよび更新する方法についても説明します。 
  </p><p>
    Community パッケージと Commercial パッケージの両方がサポートされています:
  </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
        コミュニティバージョンには、MySQL 8.0 など、MySQL Server のバージョンごとに 1 つのチャネルがあります。 これらは、すべての ULN ユーザーが使用できます。 
      </p></li><li class="listitem"><p>
        商用バージョンでは、3 つのチャネルを利用できます:「MySQL 8.0 Commercial Server」、「MySQL 8.0 Connectors Commercial」および「MySQL 8.0 Tools Commercial」。
      </p><p>
        oracle.linux.com で商用 MySQL ULN パッケージにアクセスするには、CSI に MySQL (Enterprise または Standard) の有効な商用ライセンスを提供する必要があります。 この文書では、有効な購入は 60944、60945、64911 および 64912 です。 適切な CSI により、ULN GUI インタフェースで商用 MySQL サブスクリプションチャネルを使用できるようになります。 
      </p></li></ul></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
      Oracle Linux 8 は、MySQL 8.0.17 でサポートされています。
    </p></div><p>
    ULN を使用して MySQL をインストールしたあと、<a class="link" href="installing.html#linux-installation-native" title="2.5.7 ネイティブソフトウェアリポジトリから MySQL を Linux にインストールする">このセクション</a>、特に<a class="xref" href="installing.html#linux-installation-rpm" title="2.5.4 Oracle の RPM パッケージを使用した Linux への MySQL のインストール">セクション2.5.4「Oracle の RPM パッケージを使用した Linux への MySQL のインストール」</a>に、サーバーの起動および停止に関する情報があります。
  </p><p>
    ULN を使用するようにパッケージソースを変更し、使用している MySQL のビルドを変更しない場合は、データをバックアップし、既存のバイナリを削除して ULN のものに置き換えます。 ビルドの変更が必要な場合は、新しいバイナリの配置後にデータを再構築する必要がある場合に備えて、バックアップをダンプ (<span class="command"><strong>mysqldump</strong></span> または <span class="command"><strong>mysqlpump</strong></span>、あるいは <a class="ulink" href="https://dev.mysql.com/doc/mysql-shell/8.0/ja/mysql-shell-utilities-dump-instance-schema.html" target="_top">MySQL Shell backup utility</a> から) にすることをお薦めします。 ULN へのこのシフトがバージョン境界を超えている場合は、先に進む前にこのセクションを参照してください: <a class="xref" href="installing.html#upgrading" title="2.11 MySQL のアップグレード">セクション2.11「MySQL のアップグレード」</a>。 
  </p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="solaris-installation"></a>2.7 Solaris への MySQL のインストール</h2></div></div></div><div class="toc"><dl class="toc"><dt><span class="section"><a href="installing.html#solaris-installation-pkg">2.7.1 Solaris PKG を使用して Solaris に MySQL をインストールする</a></span></dt></dl></div><a class="indexterm" name="idm45548120692480"></a><a class="indexterm" name="idm45548120690368"></a><a class="indexterm" name="idm45548120688384"></a><a class="indexterm" name="idm45548120686304"></a><a class="indexterm" name="idm45548120684864"></a><a class="indexterm" name="idm45548120682768"></a><a class="indexterm" name="idm45548120680784"></a><a class="indexterm" name="idm45548120678720"></a><a class="indexterm" name="idm45548120677344"></a><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
      MySQL 8.0 では、Solaris 11.4 以上がサポートされます
    </p></div><p>
    Solaris 上の MySQL は、様々な形式で使用できます。
  </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
        ネイティブの Solaris PKG 形式を使用するインストールの詳細は、<a class="xref" href="installing.html#solaris-installation-pkg" title="2.7.1 Solaris PKG を使用して Solaris に MySQL をインストールする">セクション2.7.1「Solaris PKG を使用して Solaris に MySQL をインストールする」</a>を参照してください。
      </p></li><li class="listitem"><p>
        標準の <code class="literal">tar</code> バイナリインストールを使用するには、<a class="xref" href="installing.html#binary-installation" title="2.2 一般的なバイナリを使用した MySQL の Unix/Linux へのインストール">セクション2.2「一般的なバイナリを使用した MySQL の Unix/Linux へのインストール」</a>の注記を参照してください。 インストール前後に必要となる可能性のある、Solaris 固有の注記については、このセクションの最後の注記およびヒントをチェックしてください。 
      </p></li></ul></div><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">重要</div><p>
      インストールパッケージは Oracle Developer Studio 12.6 ランタイムライブラリに依存しており、MySQL インストールパッケージを実行する前にインストールする必要があります。 Oracle Developer Studio <a class="ulink" href="http://www.oracle.com/technetwork/server-storage/developerstudio/downloads/index.html" target="_top">「ここ」</a>のダウンロードオプションを参照してください。 インストールパッケージでは、完全な Oracle Developer Studio ではなくランタイムライブラリのみをインストールできます。<a class="ulink" href="https://docs.oracle.com/cd/E77782_01/html/E77785/gozsu.html" target="_top">「Oracle Solaris 11 へのランタイムライブラリのみのインストール」</a>の手順を参照してください。 
    </p></div><p>
    tarball または PKG 形式の Solaris 用のバイナリ MySQL 配布を取得するには、<a class="ulink" href="https://dev.mysql.com/downloads/mysql/8.0.html" target="_top">https://dev.mysql.com/downloads/mysql/8.0.html</a> にアクセスしてください。
  </p><p>
    MySQL を Solaris にインストールして使用する上で知っておくべき追加の注記:
  </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
        MySQL を <code class="literal">mysql</code> ユーザーおよびグループで使用する場合は、<span class="command"><strong>groupadd</strong></span> コマンドおよび <span class="command"><strong>useradd</strong></span> コマンドを使用します。
      </p><pre class="programlisting">groupadd mysql
useradd -g mysql -s /bin/false mysql
</pre></li><li class="listitem"><p>
        Solaris <span class="command"><strong>tar</strong></span> は長いファイル名を処理できないため、バイナリ tarball 配布を使用して MySQL を Solaris にインストールする場合は、GNU <span class="command"><strong>tar</strong></span> (<span class="command"><strong>gtar</strong></span>) を使用して配布を解凍します。 システムに GNU <span class="command"><strong>tar</strong></span> がない場合は、次のコマンドを使用してインストールします: 
      </p><pre class="programlisting">pkg install archiver/gnu-tar
</pre></li><li class="listitem"><p>
        <code class="literal">forcedirectio</code> オプションを使用して、<code class="literal">InnoDB</code> ファイルを格納するすべてのファイルシステムをマウントする必要があります。 (デフォルトではこのオプションなしでマウントされます。) そうしないと、このプラットフォームで <code class="literal">InnoDB</code> ストレージエンジンを使用するときにパフォーマンスが大幅に低下します。 
      </p></li><li class="listitem"><p>
        MySQL を自動的に起動する場合は、<code class="filename">support-files/mysql.server</code> を <code class="filename">/etc/init.d</code> にコピーして、それに <code class="filename">/etc/rc3.d/S99mysql.server</code> という名前のシンボリックリンクを作成します。
      </p></li><li class="listitem"><p>
        あまりにも多くのプロセスが急激に <span class="command"><strong>mysqld</strong></span> に接続を試みた場合、MySQL ログに次のエラーが記録されます。
      </p><pre class="programlisting">Error in accept: Protocol error
</pre><p>
        この問題の回避策としてサーバーを <code class="option">--back_log=50</code> オプションで起動するとよいでしょう。
      </p></li><li class="listitem"><p>
        Solaris でコアファイルの生成を構成するには、<span class="command"><strong>coreadm</strong></span> コマンドを使用します。 <code class="literal">setuid()</code> アプリケーションでコアを生成するとセキュリティー上の問題があるため、デフォルトでは Solaris は <code class="literal">setuid()</code> プログラムではコアファイルをサポートしません。 ただし、この動作は <span class="command"><strong>coreadm</strong></span> を使用して変更できます。 現在のユーザーに対して <code class="literal">setuid()</code> コアファイルを有効にすると、それらはモード 600 を使用して生成され、スーパーユーザーによって所有されます。 
      </p></li></ul></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="solaris-installation-pkg"></a>2.7.1 Solaris PKG を使用して Solaris に MySQL をインストールする</h3></div></div></div><p>
      バイナリ tarball 配布ではなく、ネイティブ「Solaris PKG」形式のバイナリパッケージを使用して、Solaris に MySQL をインストールできます。
    </p><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">重要</div><p>
        インストールパッケージは Oracle Developer Studio 12.6 ランタイムライブラリに依存しており、MySQL インストールパッケージを実行する前にインストールする必要があります。 Oracle Developer Studio <a class="ulink" href="http://www.oracle.com/technetwork/server-storage/developerstudio/downloads/index.html" target="_top">「ここ」</a>のダウンロードオプションを参照してください。 インストールパッケージでは、完全な Oracle Developer Studio ではなくランタイムライブラリのみをインストールできます。<a class="ulink" href="https://docs.oracle.com/cd/E77782_01/html/E77785/gozsu.html" target="_top">「Oracle Solaris 11 へのランタイムライブラリのみのインストール」</a>の手順を参照してください。 
      </p></div><p>
      このパッケージを使用するには、対応する <code class="filename">mysql-VERSION-solaris11-PLATFORM.pkg.gz</code> ファイルをダウンロードして解凍します。 例: 
    </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>gunzip mysql-<em class="replaceable"><code>8.0.25</code></em>-solaris11-x86_64.pkg.gz</code></strong>
</pre><p>
      新しいパッケージをインストールするには、<span class="command"><strong>pkgadd</strong></span> を使用して画面の指示に従います。 この操作を実行するにはルート権限が必要です。 
    </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>pkgadd -d mysql-<em class="replaceable"><code>8.0.25</code></em>-solaris11-x86_64.pkg</code></strong>

The following packages are available:
  1  mysql     MySQL Community Server (GPL)
               (i86pc) 8.0.25

Select package(s) you wish to process (or 'all' to process
all packages). (default: all) [?,??,q]:
</pre><p>
      PKG インストーラは、必要なすべてのファイルおよびツールをインストールし、そのあとデータベースが存在しない場合はデータベースを初期化します。 インストールを完了するには、インストールの最後の指示に示されるように、MySQL のルートパスワードを設定してください。 あるいは、インストールに同梱されている <span class="command"><strong>mysql_secure_installation</strong></span> スクリプトを実行することもできます。 
    </p><p>
      デフォルトでは、PKG パッケージは MySQL をルートパス <code class="filename">/opt/mysql</code> にインストールします。 インストールのルートパスを変更できるのは <span class="command"><strong>pkgadd</strong></span> を使用している場合のみで、これを使用すると MySQL を異なる Solaris ゾーンにインストールできます。 特定のディレクトリにインストールする必要がある場合は、バイナリの <span class="command"><strong>tar</strong></span> ファイルの配布を使用してください。 
    </p><p>
      <code class="literal">pkg</code> インストーラは、適切な MySQL スタートアップスクリプトを <code class="literal">/etc/init.d/mysql</code> にコピーします。 MySQL を自動的にスタートアップおよびシャットダウンできるようにするためには、このファイルと init スクリプトディレクトリとの間にリンクを作成してください。 たとえば、MySQL の安全なスタートアップおよびシャットダウンを確実にするには、次のコマンドを使用して適切なリンクを追加します。 
    </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>ln /etc/init.d/mysql /etc/rc3.d/S91mysql</code></strong>
shell&gt; <strong class="userinput"><code>ln /etc/init.d/mysql /etc/rc0.d/K02mysql</code></strong>
</pre><p>
      MySQL を削除する場合、インストールされるパッケージ名は <code class="literal">mysql</code> です。 これを <span class="command"><strong>pkgrm</strong></span> コマンドと合わせて使用してインストールを削除できます。 
    </p><p>
      Solaris パッケージファイル形式を使用している場合にアップグレードするには、更新パッケージをインストールする前に既存のインストールを削除する必要があります。 パッケージを削除しても既存のデータベース情報は削除されません。サーバー、バイナリ、およびサポートファイルのみが削除されます。 したがって、通常のアップグレード手順は次のようになります。 
    </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>mysqladmin shutdown</code></strong>
shell&gt; <strong class="userinput"><code>pkgrm mysql</code></strong>
shell&gt; <strong class="userinput"><code>pkgadd -d mysql-<em class="replaceable"><code>8.0.25</code></em>-solaris11-x86_64.pkg</code></strong>
shell&gt; <strong class="userinput"><code>mysqld_safe &amp;</code></strong>
shell&gt; <strong class="userinput"><code>mysql_upgrade</code></strong>   # prior to MySQL 8.0.16 only
</pre><p>
      アップグレードを実行する前に、<a class="xref" href="installing.html#upgrading" title="2.11 MySQL のアップグレード">セクション2.11「MySQL のアップグレード」</a>の注記を確認してください。
    </p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="freebsd-installation"></a>2.8 FreeBSD に MySQL をインストールする</h2></div></div></div><p>
    このセクションでは、FreeBSD Unix のバリアントへの MySQL のインストールに関する情報を提供します。
  </p><p>
    オラクルが提供するバイナリ配布を使用して、MySQL を FreeBSD にインストールできます。 詳細については、<a class="xref" href="installing.html#binary-installation" title="2.2 一般的なバイナリを使用した MySQL の Unix/Linux へのインストール">セクション2.2「一般的なバイナリを使用した MySQL の Unix/Linux へのインストール」</a>を参照してください。 
  </p><p>
    MySQL のインストールでもっとも容易な (かつ推奨される) 方法は <span class="command"><strong>mysql-server</strong></span> ポートおよび <code class="literal">mysql-client</code> ポートを使用することです。それらは <a class="ulink" href="http://www.freebsd.org/" target="_top">http://www.freebsd.org/</a> で入手できます。 これらのポートを使用することで次のメリットがあります。 
  </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
        使用している FreeBSD バージョンで動作することが知られている、すべての最適化を行なった実働可能な MySQL。
      </p></li><li class="listitem"><p>
        自動構成およびビルド。
      </p></li><li class="listitem"><p>
        <code class="filename">/usr/local/etc/rc.d</code> にインストールされたスタートアップスクリプト。
      </p></li><li class="listitem"><p>
        どのファイルがインストールされているかを確認するための <code class="literal">pkg_info -L</code> の使用。
      </p></li><li class="listitem"><p>
        使用しているマシンで MySQL が必要でなくなった場合にそれを削除できる <code class="literal">pkg_delete</code> の使用。
      </p></li></ul></div><p>
    MySQL ビルドプロセスが機能するには GNU make (<span class="command"><strong>gmake</strong></span>) が必要です。 GNU <span class="command"><strong>make</strong></span> が利用できない場合、MySQL をコンパイルする前にインストールする必要があります。 
  </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
      <span class="command"><strong>ldd mysqld</strong></span> に従った前提条件ライブラリ: libthr、libcrypt、libkrb5、libm、librt、libexecinfo、libunwind、および libssl。
    </p></div><p>
    ポートシステムを使用してインストールするには:
  </p><pre class="programlisting"># cd /usr/ports/databases/mysql80-server
# make
...
# cd /usr/ports/databases/mysql80-client
# make
...
</pre><p>
    標準ポートインストールでは、サーバーは <code class="filename">/usr/local/libexec/mysqld</code> に置かれ、MySQL Server のスタートアップスクリプトは <code class="filename">/usr/local/etc/rc.d/mysql-server</code> に置かれます。
  </p><p>
    BSD 実装に関する追加の注記:
  </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
        ポートシステムを使用して MySQL をインストールしたあとに削除するには:
      </p><pre class="programlisting"># cd /usr/ports/databases/mysql80-server
# make deinstall
...
# cd /usr/ports/databases/mysql80-client
# make deinstall
...
</pre></li><li class="listitem"><p>
        MySQL の現在の日付に問題がある場合には、<code class="literal">TZ</code> 変数の設定が役に立ちます。 <a class="xref" href="programs.html#environment-variables" title="4.9 環境変数">セクション4.9「環境変数」</a>を参照してください。 
      </p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="source-installation"></a>2.9 ソースから MySQL をインストールする</h2></div></div></div><div class="toc"><dl class="toc"><dt><span class="section"><a href="installing.html#source-installation-methods">2.9.1 ソースのインストール方法</a></span></dt><dt><span class="section"><a href="installing.html#source-installation-prerequisites">2.9.2 ソースインストールの前提条件</a></span></dt><dt><span class="section"><a href="installing.html#source-installation-layout">2.9.3 ソースインストールの MySQL のレイアウト</a></span></dt><dt><span class="section"><a href="installing.html#installing-source-distribution">2.9.4 標準ソース配布を使用して MySQL をインストールする</a></span></dt><dt><span class="section"><a href="installing.html#installing-development-tree">2.9.5 開発ソースツリーを使用して MySQL をインストールする</a></span></dt><dt><span class="section"><a href="installing.html#source-ssl-library-configuration">2.9.6 SSL ライブラリサポートの構成</a></span></dt><dt><span class="section"><a href="installing.html#source-configuration-options">2.9.7 MySQL ソース構成オプション</a></span></dt><dt><span class="section"><a href="installing.html#compilation-problems">2.9.8 MySQL のコンパイルに関する問題</a></span></dt><dt><span class="section"><a href="installing.html#source-configuration-third-party">2.9.9 MySQL の構成とサードパーティーツール</a></span></dt><dt><span class="section"><a href="installing.html#source-installation-doxygen">2.9.10 MySQL Doxygen ドキュメントコンテンツの生成</a></span></dt></dl></div><a class="indexterm" name="idm45548120577360"></a><a class="indexterm" name="idm45548120575248"></a><a class="indexterm" name="idm45548120573216"></a><p>
    MySQL をソースコードからビルドすると、ビルドパラメータ、コンパイラ最適化、およびインストールの場所をカスタマイズできます。 MySQL を実行できることがわかっているシステムのリストは、<a class="ulink" href="https://www.mysql.com/support/supportedplatforms/database.html" target="_top">https://www.mysql.com/support/supportedplatforms/database.html</a>を参照してください。 
  </p><p>
    ソースからのインストールに進む前に、使用しているプラットフォーム用に事前コンパイルされたバイナリ配布をオラクルが作成しているかどうか、およびそれがニーズに適合しているかどうかをチェックしてください。 弊社は、パフォーマンスを最適化するために、最善のオプションでバイナリをビルドすることを保証するべく多大な努力をしています。 バイナリ配布のインストール手順は、<a class="xref" href="installing.html#binary-installation" title="2.2 一般的なバイナリを使用した MySQL の Unix/Linux へのインストール">セクション2.2「一般的なバイナリを使用した MySQL の Unix/Linux へのインストール」</a>を参照してください。 
  </p><a class="indexterm" name="idm45548120568672"></a><p>
    ビルドオプションを使用して、プラットフォーム上でバイナリ配布を生成するために Oracle で使用するビルドオプションと同じか類似したビルドオプションを使用してソース配布から MySQL を構築する場合は、バイナリ配布を取得して解凍し、<code class="filename">docs/INFO_BIN</code> ファイルを参照します。このファイルには、MySQL 配布の構成およびコンパイル方法に関する情報が含まれています。
  </p><div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">警告</div><p>
      非標準オプションを使用して MySQL を構築すると、機能、パフォーマンスまたはセキュリティが低下する可能性があります。
    </p></div><p>
    MySQL ソースコードには、Doxygen を使用して記述された内部ドキュメントが含まれます。 生成された Doxygen コンテンツは、<a class="ulink" href="https://dev.mysql.com/doc/index-other.html" target="_top">https://dev.mysql.com/doc/index-other.html</a> で入手できます。 <a class="xref" href="installing.html#source-installation-doxygen" title="2.9.10 MySQL Doxygen ドキュメントコンテンツの生成">セクション2.9.10「MySQL Doxygen ドキュメントコンテンツの生成」</a> の手順を使用して、このコンテンツを MySQL ソース配布からローカルに生成することもできます。 
  </p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="source-installation-methods"></a>2.9.1 ソースのインストール方法</h3></div></div></div><p>
      MySQL をソースからインストールするには、2 つの方法があります。
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          標準の MySQL ソース配布を使用します。 標準の配布を取得するには、<a class="xref" href="installing.html#getting-mysql" title="2.1.3 MySQL の取得方法">セクション2.1.3「MySQL の取得方法」</a>を参照してください。 標準の配布からのビルドの詳細は、<a class="xref" href="installing.html#installing-source-distribution" title="2.9.4 標準ソース配布を使用して MySQL をインストールする">セクション2.9.4「標準ソース配布を使用して MySQL をインストールする」</a>を参照してください。 
        </p><p>
          標準の配布は、圧縮 <span class="command"><strong>tar</strong></span> ファイル、Zip アーカイブ、または RPM パッケージとして入手可能です。 配布ファイルは、<code class="filename">mysql-<em class="replaceable"><code>VERSION</code></em>.tar.gz</code>, <code class="filename">mysql-<em class="replaceable"><code>VERSION</code></em>.zip</code>、または <code class="filename">mysql-<em class="replaceable"><code>VERSION</code></em>.rpm</code> という形式の名前を持ちます。ここで、<em class="replaceable"><code>VERSION</code></em> は <code class="literal">8.0.25</code> などの番号です。 ソース配布のファイル名は汎用でプラットフォーム名を含まないのに対し、バイナリ配布名にはその配布が対象とするシステムのタイプを示すプラットフォーム名が含まれる (たとえば、<code class="literal">pc-linux-i686</code> または <code class="literal">winx64</code>) ことから、ソースファイルを事前コンパイル済みのバイナリ配布と区別できます。 
        </p></li><li class="listitem"><p>
          MySQL 開発ツリーを使用します。 開発ツリーからのビルドの詳細は、<a class="xref" href="installing.html#installing-development-tree" title="2.9.5 開発ソースツリーを使用して MySQL をインストールする">セクション2.9.5「開発ソースツリーを使用して MySQL をインストールする」</a>を参照してください。 
        </p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="source-installation-prerequisites"></a>2.9.2 ソースインストールの前提条件</h3></div></div></div><p>
      MySQL をソースからインストールするためには、いくつかの開発ツールが必要です。 これらのツールの一部は、標準ソース配布または開発ソースツリーのいずれを使用するかにかかわらず必要です。 その他のツールは、どちらのインストール方法を使用するかによって必要かどうかが決まります。 
    </p><p>
      ソースから MySQL をインストールするには、インストール方法に関係なく、次のシステム要件を満たす必要があります:
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          <span class="command"><strong>CMake</strong></span>。これはすべてのプラットフォームでビルドフレームワークとして使用されます。 <span class="command"><strong>CMake</strong></span> は <a class="ulink" href="http://www.cmake.org" target="_top">http://www.cmake.org</a> からダウンロードできます。 
        </p></li><li class="listitem"><p>
          優良な <span class="command"><strong>make</strong></span> プログラム。 一部のプラットフォームには独自の <span class="command"><strong>make</strong></span> 実装が付属していますが、GNU <span class="command"><strong>make</strong></span> 3.75 以上を使用することを強くお薦めします。 これは、使用しているシステムですでに <span class="command"><strong>gmake</strong></span> として使用可能になっている場合があります。 GNU <span class="command"><strong>make</strong></span> は、<a class="ulink" href="http://www.gnu.org/software/make/" target="_top">http://www.gnu.org/software/make/</a> から入手可能です。 
        </p></li><li class="listitem"><p>
          MySQL 8.0 ソースコードでは、C++14 機能を使用できます。 サポートされているすべてのプラットフォームで適切なレベルの C++14 サポートを有効にするには、次の最小コンパイラバージョンが適用されます: 
        </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
              GCC 5.3 (Linux)
            </p></li><li class="listitem"><p>
              Clang 4.0 (FreeBSD)
            </p></li><li class="listitem"><p>
              XCode 9 (macOS)
            </p></li><li class="listitem"><p>
              Developer Studio 12.6 (Solaris)
            </p></li><li class="listitem"><p>
              Visual Studio 2017 (Windows)
            </p></li></ul></div></li><li class="listitem"><p>
          MySQL C API をコンパイルするには、C++ または C99 コンパイラが必要です。
        </p></li><li class="listitem"><p>
          SSL ライブラリは、暗号化された接続、乱数生成のエントロピ、およびその他の暗号化関連の操作をサポートするために必要です。 デフォルトでは、ビルドはホストシステムにインストールされている OpenSSL ライブラリを使用します。 ライブラリを明示的に指定するには、<span class="command"><strong>CMake</strong></span> の起動時に <code class="option">WITH_SSL</code> オプションを使用します。 追加情報については <a class="xref" href="installing.html#source-ssl-library-configuration" title="2.9.6 SSL ライブラリサポートの構成">セクション2.9.6「SSL ライブラリサポートの構成」</a>を参照してください。 
        </p></li><li class="listitem"><p>
          Boost C++ ライブラリは、MySQL をビルドするために必要です (ただし、使用するためには必要ありません)。 MySQL コンパイルには、特定の Boost バージョンが必要です。 通常、これは現在の Boost バージョンですが、特定の MySQL ソース配布に異なるバージョンが必要な場合、構成プロセスは停止し、必要な Boost バージョンを示すメッセージが表示されます。 Boost とそのインストール手順については、<a class="ulink" href="http://www.boost.org" target="_top">「公式サイト」</a>を参照してください。 Boost のインストール後、<span class="command"><strong>CMake</strong></span> の起動時に <code class="option">WITH_BOOST</code> オプションを定義して、Boost ファイルが配置されている場所をビルドシステムに通知します。 例: 
        </p><pre class="programlisting">cmake . -DWITH_BOOST=/usr/local/boost_<em class="replaceable"><code>version_number</code></em>
</pre><p>
          必要に応じて、インストールに合わせてパスを調整します。
        </p></li><li class="listitem"><p>
          <a class="ulink" href="https://www.gnu.org/software/ncurses/ncurses.html" target="_top">ncurses</a> ライブラリ。
        </p></li><li class="listitem"><p>
          十分な空きメモリー。 大きなソースファイルのコンパイル時に<span class="quote">「<span class="quote">「内部コンパイラエラー」</span>」</span>などの問題が発生した場合は、メモリーが少なすぎる可能性があります。 仮想マシンでコンパイルする場合は、メモリー割当てを増やしてみてください。 
        </p></li><li class="listitem"><p>
          テストスクリプトを実行する場合は、Perl が必要です。 ほとんどの Unix 類似システムには Perl が含まれます。 Windows では、ActiveState Perl などのバージョンが使用できます。 
        </p></li></ul></div><p>
      MySQL を標準ソース配布からインストールするには、配布ファイルをアンパックするために次のツールのいずれかが必要です。
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          <code class="filename">.tar.gz</code> で圧縮された <span class="command"><strong>tar</strong></span> ファイルの場合: 配布を圧縮解除するための GNU <code class="literal">gunzip</code>、およびそれをアンパックするための妥当な <span class="command"><strong>tar</strong></span>。 使用している <span class="command"><strong>tar</strong></span> プログラムが <code class="literal">z</code> オプションをサポートする場合は、ファイルの展開とアンパックの両方を実行できます。 
        </p><p>
          GNU <span class="command"><strong>tar</strong></span> が機能することが知られています。 一部のオペレーティングシステムで提供される標準の <span class="command"><strong>tar</strong></span> は、MySQL 配布内の長いファイル名をアンパックできません。 GNU <span class="command"><strong>tar</strong></span> をダウンロードしてインストールするか、プリインストールバージョンの GNU tar が利用可能であればそれを使用します。 通常、これは <span class="command"><strong>gnutar</strong></span>、<span class="command"><strong>gtar</strong></span>、または <span class="command"><strong>tar</strong></span> という名前です (<code class="filename">/usr/sfw/bin</code> または <code class="filename">/usr/local/bin</code> などの GNU または Free Software ディレクトリ内)。 GNU <span class="command"><strong>tar</strong></span> は、<a class="ulink" href="http://www.gnu.org/software/tar/" target="_top">http://www.gnu.org/software/tar/</a> から入手可能です。 
        </p></li><li class="listitem"><p>
          <code class="filename">.zip</code> Zip アーカイブの場合: <span class="command"><strong>WinZip</strong></span> または <code class="filename">.zip</code> ファイルを読み取ることができるその他のツール。
        </p></li><li class="listitem"><p>
          <code class="filename">.rpm</code> RPM パッケージの場合: 配布のビルドに使用される <span class="command"><strong>rpmbuild</strong></span> プログラムでアンパックできます。
        </p></li></ul></div><p>
      MySQL を開発ソースツリーからインストールするには、次の追加ツールが必要です。
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          開発ソースコードを取得するには、Git リビジョン管理システムが必要です。 <a class="ulink" href="https://help.github.com/" target="_top">「GitHub ヘルプ」</a>では、様々なプラットフォームで Git をダウンロードしてインストールする手順を示します。 MySQL は、2014 年 9 月に正式に GitHub に参加しました。 MySQL の GitHub への移動の詳細は、MySQL Release Engineering ブログ <a class="ulink" href="http://mysqlrelease.com/2014/09/mysql-on-github/" target="_top">MySQL on GitHub</a> のお知らせを参照してください。 
        </p></li><li class="listitem"><p>
          <a class="ulink" href="http://www.gnu.org/software/bison/" target="_top">http://www.gnu.org/software/bison/</a> から入手可能な <span class="command"><strong>bison</strong></span> 2.1 以上。 (バージョン 1 はサポートされなくなりました。) 可能であれば <span class="command"><strong>bison</strong></span> の最新バージョンを使用します。問題が生じた場合は、以前のバージョンに戻るのではなく、より新しいバージョンにアップグレードします。 
        </p><p>
          <span class="command"><strong>bison</strong></span> は、<a class="ulink" href="http://www.gnu.org/software/bison/" target="_top">http://www.gnu.org/software/bison/</a> から入手可能です。<code class="literal">bison</code> for Windows は、<a class="ulink" href="http://gnuwin32.sourceforge.net/packages/bison.htm" target="_top">http://gnuwin32.sourceforge.net/packages/bison.htm</a> からダウンロードできます。 <span class="quote">「<span class="quote">Complete package, excluding sources</span>」</span> のラベルのパッケージをダウンロードします。 Windows では、<span class="command"><strong>bison</strong></span> のデフォルトの場所は <code class="filename">C:\Program Files\GnuWin32</code> ディレクトリです。 ディレクトリ名にスペースが含まれるため、一部のユーティリティーでは <span class="command"><strong>bison</strong></span> を検索できない場合があります。 また、パスにスペースがある場合 Visual Studio がフリーズすることがあります。 これらの問題は、空白を含まないディレクトリ (<code class="filename">C:\GnuWin32</code> など) にインストールすることで解決できます。 
        </p></li><li class="listitem"><p>
          Solaris Express では、<span class="command"><strong>bison</strong></span> に加えて <span class="command"><strong>m4</strong></span> をインストールする必要があります。<span class="command"><strong>m4</strong></span> は <a class="ulink" href="http://www.gnu.org/software/m4/" target="_top">http://www.gnu.org/software/m4/</a> から入手できます。
        </p></li></ul></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
        プログラムをインストールする必要がある場合は、<code class="literal">PATH</code> 環境変数を、プログラムが置かれるディレクトリを含むように変更します。 <a class="xref" href="programs.html#setting-environment-variables" title="4.2.9 環境変数の設定">セクション4.2.9「環境変数の設定」</a>を参照してください。 
      </p></div><p>
      問題が発生してバグをレポートする必要が生じた場合には、<a class="xref" href="introduction.html#bug-reports" title="1.6 質問またはバグをレポートする方法">セクション1.6「質問またはバグをレポートする方法」</a> の手順に従ってください。
    </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="source-installation-layout"></a>2.9.3 ソースインストールの MySQL のレイアウト</h3></div></div></div><p>
      デフォルトでは、MySQL をソースからコンパイルしたあとにインストールすると、インストール手順によりファイルが <code class="filename">/usr/local/mysql</code> にインストールされます。 インストールディレクトリの下のコンポーネントの場所は、バイナリ配布の場合と同じです。 <a class="xref" href="installing.html#binary-installation-layout" title="表 2.3 一般的な Unix/Linux バイナリパッケージの MySQL インストールのレイアウト">表2.3「一般的な Unix/Linux バイナリパッケージの MySQL インストールのレイアウト」</a>および<a class="xref" href="installing.html#windows-installation-layout" title="2.3.1 Microsoft Windows 上での MySQL のインストールレイアウト">セクション2.3.1「Microsoft Windows 上での MySQL のインストールレイアウト」</a>を参照してください。 デフォルトとは異なるインストールの場所を構成するには、<a class="xref" href="installing.html#source-configuration-options" title="2.9.7 MySQL ソース構成オプション">セクション2.9.7「MySQL ソース構成オプション」</a>で説明されるオプションを使用します。 
    </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="installing-source-distribution"></a>2.9.4 標準ソース配布を使用して MySQL をインストールする</h3></div></div></div><p>
      標準ソース配布を使用して MySQL をインストールするには:
    </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
          システムが、<a class="xref" href="installing.html#source-installation-prerequisites" title="2.9.2 ソースインストールの前提条件">セクション2.9.2「ソースインストールの前提条件」</a>にリストされるツール要件を満たすことを確認します。
        </p></li><li class="listitem"><p>
          配布ファイルを <a class="xref" href="installing.html#getting-mysql" title="2.1.3 MySQL の取得方法">セクション2.1.3「MySQL の取得方法」</a> の説明に従って取得します。
        </p></li><li class="listitem"><p>
          このセクションの説明に従って、配布の構成、ビルド、およびインストールを実行します。
        </p></li><li class="listitem"><p>
          <a class="xref" href="installing.html#postinstallation" title="2.10 インストール後のセットアップとテスト">セクション2.10「インストール後のセットアップとテスト」</a>の説明に従って、インストール後の手順を実行します。
        </p></li></ol></div><p>
      MySQL は、すべてのプラットフォームでビルドフレームワークとして <span class="command"><strong>CMake</strong></span> を使用します。 ここに記載する説明で、動作するインストールを作成できるでしょう。 <span class="command"><strong>CMake</strong></span> を使用して MySQL をビルドする方法の詳細は、<a class="ulink" href="https://dev.mysql.com/doc/internals/en/cmake.html" target="_top">CMake による MySQL Server のビルド方法</a>を参照してください。 
    </p><p>
      ソース RPM から開始する場合は、インストールするバイナリ RPM を、次のコマンドを使用して作成します。 <span class="command"><strong>rpmbuild</strong></span> がない場合は代わりに <span class="command"><strong>rpm</strong></span> を使用します。 
    </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>rpmbuild --rebuild --clean MySQL-<em class="replaceable"><code>VERSION</code></em>.src.rpm</code></strong>
</pre><p>
      結果として 1 つまたは複数の RPM パッケージが生成されます。<a class="xref" href="installing.html#linux-installation-rpm" title="2.5.4 Oracle の RPM パッケージを使用した Linux への MySQL のインストール">セクション2.5.4「Oracle の RPM パッケージを使用した Linux への MySQL のインストール」</a>の指示に従ってインストールします。
    </p><p>
      圧縮 <span class="command"><strong>tar</strong></span> ファイルまたは Zip アーカイブソース配布からのインストールのシーケンスは、ソース配布はすべてのプラットフォームで使用されること、および配布を構成してコンパイルする手順が含まれる点を除き、一般的なバイナリ配布のプロセスと同様です (<a class="xref" href="installing.html#binary-installation" title="2.2 一般的なバイナリを使用した MySQL の Unix/Linux へのインストール">セクション2.2「一般的なバイナリを使用した MySQL の Unix/Linux へのインストール」</a>を参照してください)。 たとえば、Unix の圧縮 <span class="command"><strong>tar</strong></span> ファイルのソース配布では、基本的なインストールコマンドシーケンスは次のようになります。 
    </p><pre class="programlisting"># Preconfiguration setup
shell&gt; <strong class="userinput"><code>groupadd mysql</code></strong>
shell&gt; <strong class="userinput"><code>useradd -r -g mysql -s /bin/false mysql</code></strong>
# Beginning of source-build specific instructions
shell&gt; <strong class="userinput"><code>tar zxvf mysql-<em class="replaceable"><code>VERSION</code></em>.tar.gz</code></strong>
shell&gt; <strong class="userinput"><code>cd mysql-<em class="replaceable"><code>VERSION</code></em></code></strong>
shell&gt; <strong class="userinput"><code>mkdir bld</code></strong>
shell&gt; <strong class="userinput"><code>cd bld</code></strong>
shell&gt; <strong class="userinput"><code>cmake ..</code></strong>
shell&gt; <strong class="userinput"><code>make</code></strong>
shell&gt; <strong class="userinput"><code>make install</code></strong>
# End of source-build specific instructions
# Postinstallation setup
shell&gt; <strong class="userinput"><code>cd /usr/local/mysql</code></strong>
shell&gt; <strong class="userinput"><code>mkdir mysql-files</code></strong>
shell&gt; <strong class="userinput"><code>chown mysql:mysql mysql-files</code></strong>
shell&gt; <strong class="userinput"><code>chmod 750 mysql-files</code></strong>
shell&gt; <strong class="userinput"><code>bin/mysqld --initialize --user=mysql</code></strong>
shell&gt; <strong class="userinput"><code>bin/mysql_ssl_rsa_setup</code></strong>
shell&gt; <strong class="userinput"><code>bin/mysqld_safe --user=mysql &amp;</code></strong>
# Next command is optional
shell&gt; <strong class="userinput"><code>cp support-files/mysql.server /etc/init.d/mysql.server</code></strong>
</pre><p>
      このあと、ソースビルド固有の手順について、より詳細に説明します。
    </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
        ここに示した手順では、MySQL アカウントにパスワードは設定しません。 その手順のあとは、<a class="xref" href="installing.html#postinstallation" title="2.10 インストール後のセットアップとテスト">セクション2.10「インストール後のセットアップとテスト」</a>に進み、インストール後のセットアップとテストを実行します。 
      </p></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a class="xref" href="installing.html#installing-source-distribution-preconfiguration" title="構成前のセットアップの実行">構成前のセットアップの実行</a></p></li><li class="listitem"><p><a class="xref" href="installing.html#installing-source-distribution-obtain-distribution" title="配布の取得とアンパック">配布の取得とアンパック</a></p></li><li class="listitem"><p><a class="xref" href="installing.html#installing-source-distribution-configure-distribution" title="配布の構成">配布の構成</a></p></li><li class="listitem"><p><a class="xref" href="installing.html#installing-source-distribution-build-distribution" title="配布のビルド">配布のビルド</a></p></li><li class="listitem"><p><a class="xref" href="installing.html#installing-source-distribution-install-distribution" title="配付のインストール">配付のインストール</a></p></li><li class="listitem"><p><a class="xref" href="installing.html#installing-source-distribution-postinstallation" title="インストール後のセットアップの実行">インストール後のセットアップの実行</a></p></li></ul></div><div class="simplesect"><div class="titlepage"><div><div><h4 class="title"><a name="installing-source-distribution-preconfiguration"></a>構成前のセットアップの実行</h4></div></div></div><p>
        Unix では、MySQL サーバーの実行および実行に使用する <code class="literal">mysql</code> ユーザーおよびグループを設定し、データベースディレクトリを所有します。 詳細は、<a class="xref" href="installing.html#binary-installation-createsysuser" title="mysql ユーザーおよびグループの作成">mysql ユーザーおよびグループの作成</a>を参照してください。 次に、指定された場合を除き、<code class="literal">mysql</code> ユーザーとして次の手順を実行します。 
      </p></div><div class="simplesect"><div class="titlepage"><div><div><h4 class="title"><a name="installing-source-distribution-obtain-distribution"></a>配布の取得とアンパック</h4></div></div></div><p>
        配布をアンパックするディレクトリを選択してそこに移動します。
      </p><p>
        配布ファイルを <a class="xref" href="installing.html#getting-mysql" title="2.1.3 MySQL の取得方法">セクション2.1.3「MySQL の取得方法」</a> の説明に従って取得します。
      </p><p>
        配布を現在のディレクトリにアンパックします。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            圧縮 <span class="command"><strong>tar</strong></span> ファイルをアンパックするには、<span class="command"><strong>tar</strong></span> が <code class="literal">z</code> オプションをサポートする場合、このコマンドで配布の圧縮解除とアンパックを実行できます。
          </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>tar zxvf mysql-<em class="replaceable"><code>VERSION</code></em>.tar.gz</code></strong>
</pre><p>
            <span class="command"><strong>tar</strong></span> が <code class="literal">z</code> オプションをサポートしない場合は、<span class="command"><strong>gunzip</strong></span> を使用して配布をパックし、<span class="command"><strong>tar</strong></span> を使用してアンパックします。
          </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>gunzip &lt; mysql-<em class="replaceable"><code>VERSION</code></em>.tar.gz | tar xvf -</code></strong>
</pre><p>
            あるいは、<span class="command"><strong>CMake</strong></span> を使用して配布を圧縮解除してアンパックすることも可能です。
          </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>cmake -E tar zxvf mysql-<em class="replaceable"><code>VERSION</code></em>.tar.gz</code></strong>
</pre></li><li class="listitem"><p>
            Zip アーカイブをアンパックするには、<span class="command"><strong>WinZip</strong></span> または <code class="filename">.zip</code> ファイルを読み取ることができるその他のツールを使用します。
          </p></li></ul></div><p>
        配布ファイルをアンパックすると、<code class="filename">mysql-<em class="replaceable"><code>VERSION</code></em></code> という名前のディレクトリが作成されます。
      </p></div><div class="simplesect"><div class="titlepage"><div><div><h4 class="title"><a name="installing-source-distribution-configure-distribution"></a>配布の構成</h4></div></div></div><p>
        アンパックした配布のトップレベルのディレクトリに場所を変更します。
      </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>cd mysql-<em class="replaceable"><code>VERSION</code></em></code></strong>
</pre><p>
        ツリーをクリーンな状態に保つために、ソースツリーの外部にビルドします。 最上位ソースディレクトリの名前が <code class="filename">mysql-src</code> で、現在の作業ディレクトリの下にある場合は、同じレベルの <code class="filename">bld</code> という名前のディレクトリにビルドできます。 ディレクトリを作成してそこに移動します: 
      </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>mkdir bld</code></strong>
shell&gt; <strong class="userinput"><code>cd bld</code></strong>
</pre><p>
        ビルドディレクトリを構成します。 最低限の構成を行うコマンドには、構成のデフォルトをオーバーライドするオプションは含まれません。 
      </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>cmake ../mysql-src</code></strong>
</pre><p>
        ビルドディレクトリはソースツリーの外部にある必要はありません。 たとえば、トップレベルのソースツリーの下の <code class="filename">bld</code> という名前のディレクトリにビルドできます。 これを行うには、現在の作業ディレクトリとして <code class="filename">mysql-src</code> から開始し、ディレクトリ <code class="filename">bld</code> を作成してそこに移動します: 
      </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>mkdir bld</code></strong>
shell&gt; <strong class="userinput"><code>cd bld</code></strong>
</pre><p>
        ビルドディレクトリを構成します。 最低限の構成を行うコマンドには、構成のデフォルトをオーバーライドするオプションは含まれません。 
      </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>cmake ..</code></strong>
</pre><p>
        複数のソースツリーが同じレベルにある場合 (たとえば、複数のバージョンの MySQL をビルドする場合)、2 番目の方法が有利です。 最初の方法では、すべてのビルドディレクトリを同じレベルに置くため、それぞれに一意の名前が必要です。 2 番目の方法では、各ソースツリー内のビルドディレクトリに同じ名前を使用できます。 次の手順では、この 2 番目の方法を想定しています。 
      </p><p>
        Windows では、開発環境を指定します。 たとえば、次のコマンドはそれぞれ 32 ビットまたは 64 ビッドの MySQL ビルドを構成します。 
      </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>cmake .. -G "Visual Studio 12 2013"</code></strong>
shell&gt; <strong class="userinput"><code>cmake .. -G "Visual Studio 12 2013 Win64"</code></strong>
</pre><p>
        macOS で Xcode IDE を使用するには:
      </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>cmake .. -G Xcode</code></strong>
</pre><p>
        <span class="command"><strong>cmake</strong></span> を実行する場合、コマンド行にオプションを追加するとよいでしょう。 次にいくつかの例を示します。 
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <code class="option">-DBUILD_CONFIG=mysql_release</code>: オラクルが公式な MySQL リリースのバイナリ配布を生成するために使用するのと同じビルドオプションでソースを構成します。
          </p></li><li class="listitem"><p>
            <code class="option">-DCMAKE_INSTALL_PREFIX=<em class="replaceable"><code>dir_name</code></em></code>: 特定の場所にインストールするように配布を構成します。
          </p></li><li class="listitem"><p>
            <code class="option">-DCPACK_MONOLITHIC_INSTALL=1</code>: <span class="command"><strong>make package</strong></span> が、複数のファイルではなく単独のインストールファイルを生成するようにします。
          </p></li><li class="listitem"><p>
            <code class="option">-DWITH_DEBUG=1</code>: 配付をデバッグサポート付きでビルドします。
          </p></li></ul></div><p>
        オプションのより詳細なリストは、<a class="xref" href="installing.html#source-configuration-options" title="2.9.7 MySQL ソース構成オプション">セクション2.9.7「MySQL ソース構成オプション」</a>を参照してください。
      </p><p>
        構成オプションをリストするには、次のコマンドのいずれかを使用します。
      </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>cmake .. -L</code></strong>   # overview
shell&gt; <strong class="userinput"><code>cmake .. -LH</code></strong>  # overview with help text
shell&gt; <strong class="userinput"><code>cmake .. -LAH</code></strong> # all params with help text
shell&gt; <strong class="userinput"><code>ccmake ..</code></strong>     # interactive display
</pre><p>
        <span class="command"><strong>CMake</strong></span> が失敗する場合は、異なるオプションで再実行して再構成する必要がある場合があります。 再構成を行う場合は、次に注意してください。 
      </p><a class="indexterm" name="idm45548120350480"></a><a class="indexterm" name="idm45548120348976"></a><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <span class="command"><strong>CMake</strong></span> を以前に実行したあとで実行すると、以前の起動時に収集した情報を使用する場合があります。 この情報は <code class="filename">CMakeCache.txt</code> に格納されています。 <span class="command"><strong>CMake</strong></span> が起動すると、情報がまだ正しいことを前提として、そのファイルが検索され、その内容 (存在する場合) が読み取られます。 この仮定は再構成した場合には無効です。 
          </p></li><li class="listitem"><p>
            <span class="command"><strong>CMake</strong></span> を実行するたびに、<span class="command"><strong>make</strong></span> を再実行して再コンパイルする必要があります。 しかし、前のビルドの古いオブジェクトファイルが異なる構成オプションでコンパイルされている場合、それらを最初に削除する場合もあります。 
          </p></li></ul></div><p>
        古いオブジェクトファイルまたは構成情報が使用されないようにするには、<span class="command"><strong>CMake</strong></span> を再実行する前に、Unix でビルドディレクトリで次のコマンドを実行します:
      </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>make clean</code></strong>
shell&gt; <strong class="userinput"><code>rm CMakeCache.txt</code></strong>
</pre><p>
        あるいは、Windows の場合:
      </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>devenv MySQL.sln /clean</code></strong>
shell&gt; <strong class="userinput"><code>del CMakeCache.txt</code></strong>
</pre><p>
        <a class="ulink" href="https://mysqlcommunity.slack.com/" target="_top">MySQL Community Slack</a> に問い合わせる前に、<code class="filename">CMakeFiles</code> ディレクトリ内のファイルで障害に関する有用な情報を確認します。 バグレポートを提出する際は、<a class="xref" href="introduction.html#bug-reports" title="1.6 質問またはバグをレポートする方法">セクション1.6「質問またはバグをレポートする方法」</a>の説明に従ってください。 
      </p></div><div class="simplesect"><div class="titlepage"><div><div><h4 class="title"><a name="installing-source-distribution-build-distribution"></a>配布のビルド</h4></div></div></div><p>
        Unix の場合:
      </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>make</code></strong>
shell&gt; <strong class="userinput"><code>make VERBOSE=1</code></strong>
</pre><p>
        2 番目のコマンドは、コンパイル済みの各ソースに対するコマンドを表示するため、<code class="literal">VERBOSE</code> をセットします。
      </p><p>
        GNU <span class="command"><strong>make</strong></span> を使用し、それが <span class="command"><strong>gmake</strong></span> としてインストールされているシステムでは、代わりに <span class="command"><strong>gmake</strong></span> を使用します。
      </p><p>
        Windows の場合:
      </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>devenv MySQL.sln /build RelWithDebInfo</code></strong>
</pre><p>
        コンパイル段階に進んだが、配布がビルドされない場合は、<a class="xref" href="installing.html#compilation-problems" title="2.9.8 MySQL のコンパイルに関する問題">セクション2.9.8「MySQL のコンパイルに関する問題」</a>を参照してください。 それでも問題が解決しない場合は、<a class="xref" href="introduction.html#bug-reports" title="1.6 質問またはバグをレポートする方法">セクション1.6「質問またはバグをレポートする方法」</a>を参照して、それをバグデータベースに入力してください。 必要なツールの最新バージョンをインストール済みで、構成ファイルを処理しようとしてそれらのツールがクラッシュする場合は、それもレポートしてください。 ただし、<code class="literal">コマンドが見つかりません</code>というエラーや、必要なツールに関して同様の問題がある場合は、レポートしないでください。 代わりに、必要なツールがすべてインストール済みであり、シェルがそれらを検索できるように <code class="literal">PATH</code> 変数が正しく設定されていることを確認してください。 
      </p></div><div class="simplesect"><div class="titlepage"><div><div><h4 class="title"><a name="installing-source-distribution-install-distribution"></a>配付のインストール</h4></div></div></div><p>
        Unix の場合:
      </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>make install</code></strong>
</pre><p>
        これは、ファイルを構成されたインストールディレクトリ (デフォルトでは <code class="filename">/usr/local/mysql</code>) にインストールします。 コマンドを <code class="literal">root</code> として実行する必要がある場合があります。 
      </p><p>
        特定のディレクトリにインストールするには、コマンド行に <code class="literal">DESTDIR</code> パラメータを追加します。
      </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>make install DESTDIR="/opt/mysql"</code></strong>
</pre><p>
        あるいは、任意の場所にインストールできるインストールパッケージファイルを生成します。
      </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>make package</code></strong>
</pre><p>
        この操作は、一般的なバイナリ配布パッケージのようにインストールできる、1 つまたは複数の <code class="filename">.tar.gz</code> ファイルを生成します。 <a class="xref" href="installing.html#binary-installation" title="2.2 一般的なバイナリを使用した MySQL の Unix/Linux へのインストール">セクション2.2「一般的なバイナリを使用した MySQL の Unix/Linux へのインストール」</a>を参照してください。 <span class="command"><strong>CMake</strong></span> を <code class="option">-DCPACK_MONOLITHIC_INSTALL=1</code> を使用して実行すると、その操作で単独のファイルが作成されます。 そうでない場合は複数のファイルが作成されます。 
      </p><p>
        Windows では、データディレクトリを生成してから、<code class="filename">.zip</code> アーカイブインストールパッケージを作成します。
      </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>devenv MySQL.sln /build RelWithDebInfo /project initial_database</code></strong>
shell&gt; <strong class="userinput"><code>devenv MySQL.sln /build RelWithDebInfo /project package</code></strong>
</pre><p>
        結果の <code class="filename">.zip</code> アーカイブは任意の場所にインストールできます。 <a class="xref" href="installing.html#windows-install-archive" title="2.3.4 noinstall ZIP アーカイブを使用した Microsoft Windows への MySQL のインストール">セクション2.3.4「<code class="literal">noinstall</code> ZIP アーカイブを使用した Microsoft Windows への MySQL のインストール」</a>を参照してください。 
      </p></div><div class="simplesect"><div class="titlepage"><div><div><h4 class="title"><a name="installing-source-distribution-postinstallation"></a>インストール後のセットアップの実行</h4></div></div></div><p>
        インストールプロセスの残りの部分は、構成ファイルのセットアップ、コアデータベースの作成、および MySQL Server の開始などです。 その手順は、<a class="xref" href="installing.html#postinstallation" title="2.10 インストール後のセットアップとテスト">セクション2.10「インストール後のセットアップとテスト」</a>を参照してください。 
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
          MySQL の付与テーブルにリストされているアカウントには、最初はパスワードがありません。 サーバーの起動後に、<a class="xref" href="installing.html#postinstallation" title="2.10 インストール後のセットアップとテスト">セクション2.10「インストール後のセットアップとテスト」</a>の説明に従って、それらにパスワードを設定する必要があります。 
        </p></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="installing-development-tree"></a>2.9.5 開発ソースツリーを使用して MySQL をインストールする</h3></div></div></div><a class="indexterm" name="idm45548120288512"></a><a class="indexterm" name="idm45548120287104"></a><p>
      このセクションでは、<a class="ulink" href="https://github.com/" target="_top">GitHub</a> でホストされている最新の開発ソースコードから MySQL をインストールする方法について説明します。 このリポジトリホスティングサービスから MySQL Server ソースコードを取得するには、ローカルの MySQL Git リポジトリを設定します。 
    </p><p>
      <a class="ulink" href="https://github.com/" target="_top">GitHub</a> では、MySQL Server およびその他の MySQL プロジェクトは <a class="ulink" href="https://github.com/mysql" target="_top">MySQL</a> ページにあります。 MySQL Server プロジェクトは、複数の MySQL シリーズのブランチを含む単一のリポジトリです。 
    </p><p>
      MySQL は、2014 年 9 月に正式に GitHub に参加しました。 MySQL の GitHub への移動の詳細は、MySQL Release Engineering ブログ <a class="ulink" href="http://mysqlrelease.com/2014/09/mysql-on-github/" target="_top">MySQL on GitHub</a> のお知らせを参照してください。 
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a class="xref" href="installing.html#installing-development-tree-prerequisites" title="開発ソースからのインストールの前提条件">開発ソースからのインストールの前提条件</a></p></li><li class="listitem"><p><a class="xref" href="installing.html#installing-development-tree-git" title="MySQL Git リポジトリのセットアップ">MySQL Git リポジトリのセットアップ</a></p></li></ul></div><div class="simplesect"><div class="titlepage"><div><div><h4 class="title"><a name="installing-development-tree-prerequisites"></a>開発ソースからのインストールの前提条件</h4></div></div></div><p>
        開発ソースツリーから MySQL をインストールするには、システムが <a class="xref" href="installing.html#source-installation-prerequisites" title="2.9.2 ソースインストールの前提条件">セクション2.9.2「ソースインストールの前提条件」</a> にリストされているツール要件を満たしている必要があります。
      </p></div><div class="simplesect"><div class="titlepage"><div><div><h4 class="title"><a name="installing-development-tree-git"></a>MySQL Git リポジトリのセットアップ</h4></div></div></div><p>
        マシンに MySQL Git リポジトリを設定するには:
      </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
            MySQL Git リポジトリをマシンにクローニングします。 次のコマンドは、MySQL Git リポジトリを <code class="filename">mysql-server</code> という名前のディレクトリにクローニングします。 接続速度によっては、初期ダウンロードの完了に時間がかかる場合があります。 
          </p><pre class="programlisting">~$ git clone https://github.com/mysql/mysql-server.git
Cloning into 'mysql-server'...
remote: Counting objects: 1198513, done.
remote: Total 1198513 (delta 0), reused 0 (delta 0), pack-reused 1198513
Receiving objects: 100% (1198513/1198513), 1.01 GiB | 7.44 MiB/s, done.
Resolving deltas: 100% (993200/993200), done.
Checking connectivity... done.
Checking out files: 100% (25510/25510), done.</pre></li><li class="listitem"><p>
            クローニング操作が完了すると、ローカルの MySQL Git リポジトリは次のようになります。
          </p><pre class="programlisting">~$ cd mysql-server
~/mysql-server$ ls
client             extra                mysys              storage
cmake              include              packaging          strings
CMakeLists.txt     INSTALL              plugin             support-files
components         libbinlogevents      README             testclients
config.h.cmake     libbinlogstandalone  router             unittest
configure.cmake    libmysql             run_doxygen.cmake  utilities
Docs               libservices          scripts            VERSION
Doxyfile-ignored   LICENSE              share              vio
Doxyfile.in        man                  sql                win
doxygen_resources  mysql-test           sql-common
</pre></li><li class="listitem"><p>
            <span class="command"><strong>git branch -r</strong></span> コマンドを使用して、MySQL リポジトリのリモート追跡ブランチを表示します。
          </p><pre class="programlisting">~/mysql-server$ git branch -r
  origin/5.5
  origin/5.6
  origin/5.7
  origin/8.0
  origin/HEAD -&gt; origin/8.0
  origin/cluster-7.2
  origin/cluster-7.3
  origin/cluster-7.4
  origin/cluster-7.5
  origin/cluster-7.6
</pre></li><li class="listitem"><p>
            ローカルリポジトリでチェックアウトされているブランチを表示するには、<span class="command"><strong>git branch</strong></span> コマンドを発行します。 MySQL Git リポジトリをクローニングすると、最新の MySQL GA ブランチが自動的にチェックアウトされます。 アスタリスクはアクティブなブランチを示します。 
          </p><pre class="programlisting">~/mysql-server$ git branch
* 8.0</pre></li><li class="listitem"><p>
            以前の MySQL ブランチをチェックアウトするには、ブランチ名を指定して <span class="command"><strong>git checkout</strong></span> コマンドを実行します。 たとえば、MySQL 5.7 ブランチをチェックアウトするには: 
          </p><pre class="programlisting">~/mysql-server$ git checkout 5.7
Checking out files: 100% (9600/9600), done.
Branch 5.7 set up to track remote branch 5.7 from origin.
Switched to a new branch '5.7'</pre></li><li class="listitem"><p>
            MySQL Git リポジトリを最初にセットアップしたあとの変更を取得するには、更新したいブランチに切り替えて <code class="literal">git pull</code> コマンドを発行します。
          </p><pre class="programlisting">~/mysql-server$ git checkout 8.0
~/mysql-server$ git pull
</pre><p>
            コミット履歴を調べるには、<code class="literal">git log</code> オプションを使用します。
          </p><pre class="programlisting">~/mysql-server$ git log
</pre><p>
            GitHub <a class="ulink" href="https://github.com/mysql" target="_top">MySQL</a> サイトでコミット履歴とソースコードを参照することもできます。
          </p><p>
            質問がある変更またはコードが表示された場合は、<a class="ulink" href="https://mysqlcommunity.slack.com/" target="_top">MySQL Community Slack</a> に問い合せてください。 パッチの貢献については、<a class="ulink" href="http://mysqlserverteam.com/contributing-to-mysql-server/%20" target="_top">MySQL Server への貢献</a>を参照してください。 
          </p></li><li class="listitem"><p>
            MySQL Git リポジトリをクローニングしてビルドするブランチをチェックアウトしたら、MySQL Server をソースコードからビルドできます。 説明は<a class="xref" href="installing.html#installing-source-distribution" title="2.9.4 標準ソース配布を使用して MySQL をインストールする">セクション2.9.4「標準ソース配布を使用して MySQL をインストールする」</a>にありますが、配布の取得およびアンパックに関する部分はスキップします。 
          </p><p>
            本番環境マシン上の配布ソースツリーからのビルドをインストールする場合は注意が必要です。 インストールコマンドが、ライブリリースインストールを上書きすることがあります。 MySQL がインストール済みであり、それを上書きしたくない場合は、<code class="option">CMAKE_INSTALL_PREFIX</code>、<code class="option">MYSQL_TCP_PORT</code>、および <code class="option">MYSQL_UNIX_ADDR</code> オプションの値を、本番環境サーバーで使用したものとは異なるものにして、<span class="command"><strong>CMake</strong></span> を実行します。 複数のサーバーが相互に干渉することを防ぐ方法の詳細は、<a class="xref" href="server-administration.html#multiple-servers" title="5.8 1 つのマシン上での複数の MySQL インスタンスの実行">セクション5.8「1 つのマシン上での複数の MySQL インスタンスの実行」</a>を参照してください。 
          </p><p>
            新しいインストールを厳密に検証します。 たとえば、新機能をクラッシュさせてみてください。 <span class="command"><strong>make test</strong></span> の実行から始めてみてください。 <a class="ulink" href="https://dev.mysql.com/doc/extending-mysql/8.0/en/mysql-test-suite.html" target="_top">The MySQL Test Suite</a>を参照してください。 
          </p></li></ol></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="source-ssl-library-configuration"></a>2.9.6 SSL ライブラリサポートの構成</h3></div></div></div><a class="indexterm" name="idm45548120237920"></a><a class="indexterm" name="idm45548120235760"></a><p>
      SSL ライブラリは、暗号化された接続、乱数生成のエントロピ、およびその他の暗号化関連の操作をサポートするために必要です。
    </p><p>
      ソース配布から MySQL をコンパイルする場合、<span class="command"><strong>CMake</strong></span> は、インストールされている OpenSSL ライブラリをデフォルトで使用するように配布を構成します。
    </p><p>
      OpenSSL を使用してコンパイルするには、次の手順を使用します:
    </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
          OpenSSL 1.0.1 以上がシステムにインストールされていることを確認します。 インストールされている OpenSSL のバージョンが 1.0.1 より低い場合、<span class="command"><strong>CMake</strong></span> は MySQL の構成時にエラーを生成します。 OpenSSL を入手する必要がある場合は、<a class="ulink" href="http://www.openssl.org" target="_top">http://www.openssl.org</a> にアクセスしてください。 
        </p></li><li class="listitem"><p>
          <code class="option">WITH_SSL</code> <span class="command"><strong>CMake</strong></span> オプションは、MySQL のコンパイルに使用する SSL ライブラリを決定します (<a class="xref" href="installing.html#source-configuration-options" title="2.9.7 MySQL ソース構成オプション">セクション2.9.7「MySQL ソース構成オプション」</a> を参照)。 デフォルトは、OpenSSL を使用する <code class="option">-DWITH_SSL=system</code> です。 これを明示的にするには、<span class="command"><strong>CMake</strong></span> コマンドラインでそのオプションを指定します。 例: 
        </p><pre class="programlisting">cmake . -DWITH_SSL=system
</pre><p>
          このコマンドは、インストールされた OpenSSL ライブラリが使用されるように配布を構成します。 または、OpenSSL インストールのパス名を明示的に指定するには、次の構文を使用します。 これは、<span class="command"><strong>CMake</strong></span> が間違ったバージョンを選択しないようにするために、複数のバージョンの OpenSSL がインストールされている場合に役立ちます: 
        </p><pre class="programlisting">cmake . -DWITH_SSL=<em class="replaceable"><code>path_name</code></em>
</pre></li><li class="listitem"><p>
          配布をコンパイルし、インストールします。
        </p></li></ol></div><p>
      <span class="command"><strong>mysqld</strong></span> サーバーが暗号化された接続をサポートしているかどうかを確認するには、<code class="literal">have_ssl</code> システム変数の値を調べます:
    </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>SHOW VARIABLES LIKE 'have_ssl';</code></strong>
+---------------+-------+
| Variable_name | Value |
+---------------+-------+
| have_ssl      | YES   |
+---------------+-------+
</pre><p>
      値が <code class="literal">YES</code> の場合、サーバーは暗号化された接続をサポートします。 値が <code class="literal">DISABLED</code> の場合、サーバーは暗号化された接続をサポートできますが、暗号化された接続を使用できるようにする適切な <code class="option">--ssl-<em class="replaceable"><code>xxx</code></em></code> オプションで起動されませんでした。<a class="xref" href="security.html#using-encrypted-connections" title="6.3.1 暗号化接続を使用するための MySQL の構成">セクション6.3.1「暗号化接続を使用するための MySQL の構成」</a> を参照してください。 
    </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="source-configuration-options"></a>2.9.7 MySQL ソース構成オプション</h3></div></div></div><a class="indexterm" name="idm45548120208544"></a><a class="indexterm" name="idm45548120206400"></a><a class="indexterm" name="idm45548120204480"></a><p>
      <span class="command"><strong>CMake</strong></span> プログラムを使用すると、MySQL ソース配布の構成方法を大幅に制御できます。 通常これは、<span class="command"><strong>CMake</strong></span> コマンド行でオプションを使用して行います。 <span class="command"><strong>CMake</strong></span> がサポートするオプションの詳細は、トップレベルのソースディレクトリで次のコマンドのいずれかを実行します。 
    </p><pre class="programlisting">cmake . -LH
ccmake .
</pre><p>
      特定の環境変数を使用して <span class="command"><strong>CMake</strong></span> に影響を与えることもできます。 <a class="xref" href="programs.html#environment-variables" title="4.9 環境変数">セクション4.9「環境変数」</a>を参照してください。 
    </p><p>
      boolean オプションでは、値を 1 または <code class="literal">ON</code> に指定してオプションを有効にするか、0 または <code class="literal">OFF</code> に指定して無効にします。
    </p><p>
      多くのオプションはコンパイル時のデフォルトを構成し、それらはサーバー起動時にオーバーライドできます。 たとえば、デフォルトのインストールベースディレクトリ、TCP/IP ポート番号、および Unix ソケットファイルを構成する <code class="option">CMAKE_INSTALL_PREFIX</code>、<code class="option">MYSQL_TCP_PORT</code>、および <code class="option">MYSQL_UNIX_ADDR</code> の各オプションは、サーバー起動時に <span class="command"><strong>mysqld</strong></span> の <code class="option">--basedir</code>、<code class="option">--port</code>、および <code class="option">--socket</code> オプションで変更できます。 該当する場合は、構成オプションの説明で対応する <span class="command"><strong>mysqld</strong></span> スタートアップオプションを示します。 
    </p><p>
      次のセクションでは、<span class="command"><strong>CMake</strong></span> オプションについてより詳しく説明します。
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a class="xref" href="installing.html#cmake-option-reference" title="CMake オプションリファレンス">CMake オプションリファレンス</a></p></li><li class="listitem"><p><a class="xref" href="installing.html#cmake-general-options" title="一般オプション">一般オプション</a></p></li><li class="listitem"><p><a class="xref" href="installing.html#cmake-installation-layout-options" title="インストールレイアウトオプション">インストールレイアウトオプション</a></p></li><li class="listitem"><p><a class="xref" href="installing.html#option_cmake_storage_engine_options" title="ストレージエンジンオプション">ストレージエンジンオプション</a></p></li><li class="listitem"><p><a class="xref" href="installing.html#cmake-feature-options" title="機能オプション">機能オプション</a></p></li><li class="listitem"><p><a class="xref" href="installing.html#cmake-compiler-flags" title="コンパイラフラグ">コンパイラフラグ</a></p></li><li class="listitem"><p><a class="xref" href="installing.html#cmake-mysql-cluster-options" title="NDB Cluster をコンパイルするための CMake オプション">NDB Cluster をコンパイルするための CMake オプション</a></p></li></ul></div><div class="simplesect"><div class="titlepage"><div><div><h4 class="title"><a name="cmake-option-reference"></a>CMake オプションリファレンス</h4></div></div></div><p>
        次の表は、使用可能な <span class="command"><strong>CMake</strong></span> オプションを示しています。 <code class="literal">デフォルト</code>カラムで、<code class="literal">PREFIX</code> は <code class="option">CMAKE_INSTALL_PREFIX</code> オプションの値を意味します。これは、インストールのベースディレクトリを指定します。 この値は、一部のインストールサブディレクトリの親の場所として使用されます。 
      </p><div class="table"><a name="idm45548120173280"></a><p class="title"><b>表 2.14 「MySQL ソース構成オプションリファレンス (CMake)」</b></p><div class="table-contents"><table frame="box" rules="all" summary="「ソースからのビルド時に MySQL を構成するために使用できる CMake オプション。」"><col style="width: 30%"><col style="width: 30%"><col style="width: 20%"><col style="width: 10%"><col style="width: 10%"><thead><tr><th scope="col">形式</th>
<th scope="col">説明</th>
<th scope="col">デフォルト</th>
<th scope="col">導入</th>
<th scope="col">削除</th>
</tr></thead><tbody><tr><th scope="row"><a class="link" href="installing.html#option_cmake_add_gdb_index"><code class="literal">ADD_GDB_INDEX</code></a></th>
<td>生成を有効にするかどうか。バイナリの gdb_index セクション</td>
<td></td>
<td>8.0.18</td>
<td></td>
</tr><tr><th scope="row"><a class="link" href="installing.html#option_cmake_build_config"><code class="literal">BUILD_CONFIG</code></a></th>
<td>公式なリリースと同じビルドオプションを使用</td>
<td></td>
<td></td>
<td></td>
</tr><tr><th scope="row"><a class="link" href="installing.html#option_cmake_bundle_runtime_libraries"><code class="literal">BUNDLE_RUNTIME_LIBRARIES</code></a></th>
<td>ランタイムライブラリと Windows 用のサーバー MSI および Zip パッケージのバンドル</td>
<td><code class="literal">OFF</code></td>
<td></td>
<td></td>
</tr><tr><th scope="row"><a class="link" href="installing.html#option_cmake_cmake_build_type"><code class="literal">CMAKE_BUILD_TYPE</code></a></th>
<td>生成するビルドのタイプ</td>
<td><code class="literal">RelWithDebInfo</code></td>
<td></td>
<td></td>
</tr><tr><th scope="row"><a class="link" href="installing.html#option_cmake_cmake_cxx_flags"><code class="literal">CMAKE_CXX_FLAGS</code></a></th>
<td>C++ コンパイラのフラグ</td>
<td></td>
<td></td>
<td></td>
</tr><tr><th scope="row"><a class="link" href="installing.html#option_cmake_cmake_c_flags"><code class="literal">CMAKE_C_FLAGS</code></a></th>
<td>C コンパイラのフラグ</td>
<td></td>
<td></td>
<td></td>
</tr><tr><th scope="row"><a class="link" href="installing.html#option_cmake_cmake_install_prefix"><code class="literal">CMAKE_INSTALL_PREFIX</code></a></th>
<td>インストールの基本ディレクトリ</td>
<td><code class="literal">/usr/local/mysql</code></td>
<td></td>
<td></td>
</tr><tr><th scope="row"><a class="link" href="installing.html#option_cmake_compilation_comment"><code class="literal">COMPILATION_COMMENT</code></a></th>
<td>コンパイル環境に関するコメント</td>
<td></td>
<td></td>
<td></td>
</tr><tr><th scope="row"><a class="link" href="installing.html#option_cmake_compilation_comment_server"><code class="literal">COMPILATION_COMMENT_SERVER</code></a></th>
<td>mysqld で使用するコンパイル環境に関するコメント</td>
<td></td>
<td>8.0.14</td>
<td></td>
</tr><tr><th scope="row"><a class="link" href="installing.html#option_cmake_compress_debug_sections"><code class="literal">COMPRESS_DEBUG_SECTIONS</code></a></th>
<td>バイナリ実行可能ファイルのデバッグセクションの圧縮</td>
<td><code class="literal">OFF</code></td>
<td>8.0.22</td>
<td></td>
</tr><tr><th scope="row"><a class="link" href="installing.html#option_cmake_cpack_monolithic_install"><code class="literal">CPACK_MONOLITHIC_INSTALL</code></a></th>
<td>パッケージビルドが単独のファイルを生成するかどうか</td>
<td><code class="literal">OFF</code></td>
<td></td>
<td></td>
</tr><tr><th scope="row"><a class="link" href="installing.html#option_cmake_default_charset"><code class="literal">DEFAULT_CHARSET</code></a></th>
<td>デフォルトのサーバー文字セット</td>
<td><code class="literal">utf8mb4</code></td>
<td></td>
<td></td>
</tr><tr><th scope="row"><a class="link" href="installing.html#option_cmake_default_collation"><code class="literal">DEFAULT_COLLATION</code></a></th>
<td>デフォルトのサーバー照合順序</td>
<td><code class="literal">utf8mb4_0900_ai_ci</code></td>
<td></td>
<td></td>
</tr><tr><th scope="row"><a class="link" href="installing.html#option_cmake_disable_psi_cond"><code class="literal">DISABLE_PSI_COND</code></a></th>
<td>Exclude Performance Schema 状態インストゥルメンテーション</td>
<td><code class="literal">OFF</code></td>
<td></td>
<td></td>
</tr><tr><th scope="row"><a class="link" href="installing.html#option_cmake_disable_psi_data_lock"><code class="literal">DISABLE_PSI_DATA_LOCK</code></a></th>
<td>パフォーマンススキーマデータロックインストゥルメンテーションを除外</td>
<td><code class="literal">OFF</code></td>
<td></td>
<td></td>
</tr><tr><th scope="row"><a class="link" href="installing.html#option_cmake_disable_psi_error"><code class="literal">DISABLE_PSI_ERROR</code></a></th>
<td>パフォーマンススキーマサーバーエラーの計測を除外</td>
<td><code class="literal">OFF</code></td>
<td></td>
<td></td>
</tr><tr><th scope="row"><a class="link" href="installing.html#option_cmake_disable_psi_file"><code class="literal">DISABLE_PSI_FILE</code></a></th>
<td>Exclude Performance Schema ファイルインストゥルメンテーション</td>
<td><code class="literal">OFF</code></td>
<td></td>
<td></td>
</tr><tr><th scope="row"><a class="link" href="installing.html#option_cmake_disable_psi_idle"><code class="literal">DISABLE_PSI_IDLE</code></a></th>
<td>Exclude Performance Schema アイドルインストゥルメンテーション</td>
<td><code class="literal">OFF</code></td>
<td></td>
<td></td>
</tr><tr><th scope="row"><a class="link" href="installing.html#option_cmake_disable_psi_memory"><code class="literal">DISABLE_PSI_MEMORY</code></a></th>
<td>Exclude Performance Schema メモリーインストゥルメンテーション</td>
<td><code class="literal">OFF</code></td>
<td></td>
<td></td>
</tr><tr><th scope="row"><a class="link" href="installing.html#option_cmake_disable_psi_metadata"><code class="literal">DISABLE_PSI_METADATA</code></a></th>
<td>Exclude Performance Schema メタデータインストゥルメンテーション</td>
<td><code class="literal">OFF</code></td>
<td></td>
<td></td>
</tr><tr><th scope="row"><a class="link" href="installing.html#option_cmake_disable_psi_mutex"><code class="literal">DISABLE_PSI_MUTEX</code></a></th>
<td>Exclude Performance Schema 相互排他ロックインストゥルメンテーション</td>
<td><code class="literal">OFF</code></td>
<td></td>
<td></td>
</tr><tr><th scope="row"><a class="link" href="installing.html#option_cmake_disable_psi_ps"><code class="literal">DISABLE_PSI_PS</code></a></th>
<td>パフォーマンススキーマのプリペアドステートメントの除外</td>
<td><code class="literal">OFF</code></td>
<td></td>
<td></td>
</tr><tr><th scope="row"><a class="link" href="installing.html#option_cmake_disable_psi_rwlock"><code class="literal">DISABLE_PSI_RWLOCK</code></a></th>
<td>Exclude Performance Schema rwlock インストゥルメンテーション</td>
<td><code class="literal">OFF</code></td>
<td></td>
<td></td>
</tr><tr><th scope="row"><a class="link" href="installing.html#option_cmake_disable_psi_socket"><code class="literal">DISABLE_PSI_SOCKET</code></a></th>
<td>Exclude Performance Schema ソケットインストゥルメンテーション</td>
<td><code class="literal">OFF</code></td>
<td></td>
<td></td>
</tr><tr><th scope="row"><a class="link" href="installing.html#option_cmake_disable_psi_sp"><code class="literal">DISABLE_PSI_SP</code></a></th>
<td>Exclude Performance Schema ストアドプログラムインストゥルメンテーション</td>
<td><code class="literal">OFF</code></td>
<td></td>
<td></td>
</tr><tr><th scope="row"><a class="link" href="installing.html#option_cmake_disable_psi_stage"><code class="literal">DISABLE_PSI_STAGE</code></a></th>
<td>Exclude Performance Schema ステージングインストゥルメンテーション</td>
<td><code class="literal">OFF</code></td>
<td></td>
<td></td>
</tr><tr><th scope="row"><a class="link" href="installing.html#option_cmake_disable_psi_statement"><code class="literal">DISABLE_PSI_STATEMENT</code></a></th>
<td>Exclude Performance Schema ステートメントインストゥルメンテーション</td>
<td><code class="literal">OFF</code></td>
<td></td>
<td></td>
</tr><tr><th scope="row"><a class="link" href="installing.html#option_cmake_disable_psi_statement_digest"><code class="literal">DISABLE_PSI_STATEMENT_DIGEST</code></a></th>
<td>Exclude Performance Schema statements_digest インストゥルメンテーション</td>
<td><code class="literal">OFF</code></td>
<td></td>
<td></td>
</tr><tr><th scope="row"><a class="link" href="installing.html#option_cmake_disable_psi_table"><code class="literal">DISABLE_PSI_TABLE</code></a></th>
<td>Exclude Performance Schema テーブルインストゥルメンテーション</td>
<td><code class="literal">OFF</code></td>
<td></td>
<td></td>
</tr><tr><th scope="row"><a class="link" href="installing.html#option_cmake_disable_psi_thread"><code class="literal">DISABLE_PSI_THREAD</code></a></th>
<td>パフォーマンススキーマスレッドインストゥルメンテーションを除外</td>
<td><code class="literal">OFF</code></td>
<td></td>
<td></td>
</tr><tr><th scope="row"><a class="link" href="installing.html#option_cmake_disable_psi_transaction"><code class="literal">DISABLE_PSI_TRANSACTION</code></a></th>
<td>パフォーマンススキーマのトランザクションインストゥルメンテーションの除外</td>
<td><code class="literal">OFF</code></td>
<td></td>
<td></td>
</tr><tr><th scope="row"><a class="link" href="installing.html#option_cmake_disable_shared"><code class="literal">DISABLE_SHARED</code></a></th>
<td>共有ライブラリを構築せず、位置依存コードをコンパイル</td>
<td><code class="literal">OFF</code></td>
<td></td>
<td>8.0.18</td>
</tr><tr><th scope="row"><a class="link" href="installing.html#option_cmake_download_boost"><code class="literal">DOWNLOAD_BOOST</code></a></th>
<td>Boost ライブラリをダウンロードするかどうか</td>
<td><code class="literal">OFF</code></td>
<td></td>
<td></td>
</tr><tr><th scope="row"><a class="link" href="installing.html#option_cmake_download_boost_timeout"><code class="literal">DOWNLOAD_BOOST_TIMEOUT</code></a></th>
<td>Boost ライブラリをダウンロードするためのタイムアウト (秒)</td>
<td><code class="literal">600</code></td>
<td></td>
<td></td>
</tr><tr><th scope="row"><a class="link" href="installing.html#option_cmake_enabled_local_infile"><code class="literal">ENABLED_LOCAL_INFILE</code></a></th>
<td>LOAD DATA の LOCAL を有効にするかどうか</td>
<td><code class="literal">OFF</code></td>
<td></td>
<td></td>
</tr><tr><th scope="row"><a class="link" href="installing.html#option_cmake_enabled_profiling"><code class="literal">ENABLED_PROFILING</code></a></th>
<td>クエリープロファイリングコードを有効にするかどうか</td>
<td><code class="literal">ON</code></td>
<td></td>
<td></td>
</tr><tr><th scope="row"><a class="link" href="installing.html#option_cmake_enable_downloads"><code class="literal">ENABLE_DOWNLOADS</code></a></th>
<td>オプションファイルをダウンロードするかどうか</td>
<td><code class="literal">OFF</code></td>
<td></td>
<td></td>
</tr><tr><th scope="row"><a class="link" href="installing.html#option_cmake_enable_experimental_sysvars"><code class="literal">ENABLE_EXPERIMENTAL_SYSVARS</code></a></th>
<td>実験的な InnoDB システム変数を有効にするかどうか</td>
<td><code class="literal">OFF</code></td>
<td></td>
<td></td>
</tr><tr><th scope="row"><a class="link" href="installing.html#option_cmake_enable_gcov"><code class="literal">ENABLE_GCOV</code></a></th>
<td>gcov サポートをインクルードするかどうか</td>
<td></td>
<td></td>
<td></td>
</tr><tr><th scope="row"><a class="link" href="installing.html#option_cmake_enable_gprof"><code class="literal">ENABLE_GPROF</code></a></th>
<td>gprof の有効化 (Linux ビルドのみに最適化)</td>
<td><code class="literal">OFF</code></td>
<td></td>
<td></td>
</tr><tr><th scope="row"><a class="link" href="installing.html#option_cmake_force_insource_build"><code class="literal">FORCE_INSOURCE_BUILD</code></a></th>
<td>ソース内ビルドを強制するかどうか</td>
<td><code class="literal">OFF</code></td>
<td>8.0.14</td>
<td></td>
</tr><tr><th scope="row"><a class="link" href="installing.html#option_cmake_force_unsupported_compiler"><code class="literal">FORCE_UNSUPPORTED_COMPILER</code></a></th>
<td>サポートされていないコンパイラを許可するかどうか</td>
<td><code class="literal">OFF</code></td>
<td></td>
<td></td>
</tr><tr><th scope="row"><a class="link" href="installing.html#option_cmake_fprofile_generate"><code class="literal">FPROFILE_GENERATE</code></a></th>
<td>プロファイルガイド付き最適化データを生成するかどうか</td>
<td><code class="literal">OFF</code></td>
<td>8.0.19</td>
<td></td>
</tr><tr><th scope="row"><a class="link" href="installing.html#option_cmake_fprofile_use"><code class="literal">FPROFILE_USE</code></a></th>
<td>プロファイルガイド付き最適化データを使用するかどうか</td>
<td><code class="literal">OFF</code></td>
<td>8.0.19</td>
<td></td>
</tr><tr><th scope="row"><a class="link" href="installing.html#option_cmake_ignore_aio_check"><code class="literal">IGNORE_AIO_CHECK</code></a></th>
<td>-DBUILD_CONFIG=mysql_release とともに、libaio チェックを無視する</td>
<td><code class="literal">OFF</code></td>
<td></td>
<td></td>
</tr><tr><th scope="row"><a class="link" href="installing.html#option_cmake_install_bindir"><code class="literal">INSTALL_BINDIR</code></a></th>
<td>ユーザー実行可能ファイルディレクトリ</td>
<td><code class="literal">PREFIX/bin</code></td>
<td></td>
<td></td>
</tr><tr><th scope="row"><a class="link" href="installing.html#option_cmake_install_docdir"><code class="literal">INSTALL_DOCDIR</code></a></th>
<td>ドキュメントディレクトリ</td>
<td><code class="literal">PREFIX/docs</code></td>
<td></td>
<td></td>
</tr><tr><th scope="row"><a class="link" href="installing.html#option_cmake_install_docreadmedir"><code class="literal">INSTALL_DOCREADMEDIR</code></a></th>
<td>README ファイルディレクトリ</td>
<td><code class="literal">PREFIX</code></td>
<td></td>
<td></td>
</tr><tr><th scope="row"><a class="link" href="installing.html#option_cmake_install_includedir"><code class="literal">INSTALL_INCLUDEDIR</code></a></th>
<td>Header ファイルディレクトリ</td>
<td><code class="literal">PREFIX/include</code></td>
<td></td>
<td></td>
</tr><tr><th scope="row"><a class="link" href="installing.html#option_cmake_install_infodir"><code class="literal">INSTALL_INFODIR</code></a></th>
<td>Info ファイルディレクトリ</td>
<td><code class="literal">PREFIX/docs</code></td>
<td></td>
<td></td>
</tr><tr><th scope="row"><a class="link" href="installing.html#option_cmake_install_layout"><code class="literal">INSTALL_LAYOUT</code></a></th>
<td>事前定義インストールレイアウトの選択</td>
<td><code class="literal">STANDALONE</code></td>
<td></td>
<td></td>
</tr><tr><th scope="row"><a class="link" href="installing.html#option_cmake_install_libdir"><code class="literal">INSTALL_LIBDIR</code></a></th>
<td>Library ファイルディレクトリ</td>
<td><code class="literal">PREFIX/lib</code></td>
<td></td>
<td></td>
</tr><tr><th scope="row"><a class="link" href="installing.html#option_cmake_install_mandir"><code class="literal">INSTALL_MANDIR</code></a></th>
<td>Manual ページディレクトリ</td>
<td><code class="literal">PREFIX/man</code></td>
<td></td>
<td></td>
</tr><tr><th scope="row"><a class="link" href="installing.html#option_cmake_install_mysqlkeyringdir"><code class="literal">INSTALL_MYSQLKEYRINGDIR</code></a></th>
<td>keyring_file プラグインデータファイルのディレクトリ</td>
<td><code class="literal">プラットフォーム固有</code></td>
<td></td>
<td></td>
</tr><tr><th scope="row"><a class="link" href="installing.html#option_cmake_install_mysqlsharedir"><code class="literal">INSTALL_MYSQLSHAREDIR</code></a></th>
<td>共有データディレクトリ</td>
<td><code class="literal">PREFIX/share</code></td>
<td></td>
<td></td>
</tr><tr><th scope="row"><a class="link" href="installing.html#option_cmake_install_mysqltestdir"><code class="literal">INSTALL_MYSQLTESTDIR</code></a></th>
<td>mysql-test ディレクトリ</td>
<td><code class="literal">PREFIX/mysql-test</code></td>
<td></td>
<td></td>
</tr><tr><th scope="row"><a class="link" href="installing.html#option_cmake_install_pkgconfigdir"><code class="literal">INSTALL_PKGCONFIGDIR</code></a></th>
<td>mysqlclient.pc pkg-config ファイルのディレクトリ</td>
<td><code class="literal">INSTALL_LIBDIR/pkgconfig</code></td>
<td></td>
<td></td>
</tr><tr><th scope="row"><a class="link" href="installing.html#option_cmake_install_plugindir"><code class="literal">INSTALL_PLUGINDIR</code></a></th>
<td>Plugin ディレクトリ</td>
<td><code class="literal">PREFIX/lib/plugin</code></td>
<td></td>
<td></td>
</tr><tr><th scope="row"><a class="link" href="installing.html#option_cmake_install_priv_libdir"><code class="literal">INSTALL_PRIV_LIBDIR</code></a></th>
<td>インストールプライベートライブラリディレクトリ</td>
<td></td>
<td>8.0.18</td>
<td></td>
</tr><tr><th scope="row"><a class="link" href="installing.html#option_cmake_install_sbindir"><code class="literal">INSTALL_SBINDIR</code></a></th>
<td>サーバー実行可能ファイルディレクトリ</td>
<td><code class="literal">PREFIX/bin</code></td>
<td></td>
<td></td>
</tr><tr><th scope="row"><a class="link" href="installing.html#option_cmake_install_secure_file_privdir"><code class="literal">INSTALL_SECURE_FILE_PRIVDIR</code></a></th>
<td>secure_file_priv のデフォルト値</td>
<td><code class="literal">プラットフォーム固有</code></td>
<td></td>
<td></td>
</tr><tr><th scope="row"><a class="link" href="installing.html#option_cmake_install_sharedir"><code class="literal">INSTALL_SHAREDIR</code></a></th>
<td>aclocal/mysql.m4 インストールディレクトリ</td>
<td><code class="literal">PREFIX/share</code></td>
<td></td>
<td></td>
</tr><tr><th scope="row"><a class="link" href="installing.html#option_cmake_install_static_libraries"><code class="literal">INSTALL_STATIC_LIBRARIES</code></a></th>
<td>静的ライブラリをインストールするかどうか</td>
<td><code class="literal">ON</code></td>
<td></td>
<td></td>
</tr><tr><th scope="row"><a class="link" href="installing.html#option_cmake_install_supportfilesdir"><code class="literal">INSTALL_SUPPORTFILESDIR</code></a></th>
<td>その他のサポートファイルディレクトリ</td>
<td><code class="literal">PREFIX/support-files</code></td>
<td></td>
<td></td>
</tr><tr><th scope="row"><a class="link" href="installing.html#option_cmake_link_randomize"><code class="literal">LINK_RANDOMIZE</code></a></th>
<td>mysqld バイナリ内のシンボルの順序をランダム化するかどうか</td>
<td><code class="literal">OFF</code></td>
<td></td>
<td></td>
</tr><tr><th scope="row"><a class="link" href="installing.html#option_cmake_link_randomize_seed"><code class="literal">LINK_RANDOMIZE_SEED</code></a></th>
<td>LINK_RANDOMIZE オプションのシード値</td>
<td><code class="literal">mysql</code></td>
<td></td>
<td></td>
</tr><tr><th scope="row"><a class="link" href="installing.html#option_cmake_max_indexes"><code class="literal">MAX_INDEXES</code></a></th>
<td>テーブルあたりの最大インデックス数</td>
<td><code class="literal">64</code></td>
<td></td>
<td></td>
</tr><tr><th scope="row"><a class="link" href="installing.html#option_cmake_mutex_type"><code class="literal">MUTEX_TYPE</code></a></th>
<td>InnoDB 相互排他ロックタイプ</td>
<td><code class="literal">event</code></td>
<td></td>
<td></td>
</tr><tr><th scope="row"><a class="link" href="installing.html#option_cmake_mysqlx_tcp_port"><code class="literal">MYSQLX_TCP_PORT</code></a></th>
<td>X プラグインで使用される TCP/IP ポート番号</td>
<td><code class="literal">33060</code></td>
<td></td>
<td></td>
</tr><tr><th scope="row"><a class="link" href="installing.html#option_cmake_mysqlx_unix_addr"><code class="literal">MYSQLX_UNIX_ADDR</code></a></th>
<td>X プラグインで使用される Unix ソケットファイル</td>
<td><code class="literal">/tmp/mysqlx.sock</code></td>
<td></td>
<td></td>
</tr><tr><th scope="row"><a class="link" href="installing.html#option_cmake_mysql_datadir"><code class="literal">MYSQL_DATADIR</code></a></th>
<td>データディレクトリ</td>
<td></td>
<td></td>
<td></td>
</tr><tr><th scope="row"><a class="link" href="installing.html#option_cmake_mysql_maintainer_mode"><code class="literal">MYSQL_MAINTAINER_MODE</code></a></th>
<td>MySQL 管理者固有の開発環境を有効にするかどうか</td>
<td><code class="literal">OFF</code></td>
<td></td>
<td></td>
</tr><tr><th scope="row"><a class="link" href="installing.html#option_cmake_mysql_project_name"><code class="literal">MYSQL_PROJECT_NAME</code></a></th>
<td>Windows/macOS プロジェクト名</td>
<td><code class="literal">MySQL</code></td>
<td></td>
<td></td>
</tr><tr><th scope="row"><a class="link" href="installing.html#option_cmake_mysql_tcp_port"><code class="literal">MYSQL_TCP_PORT</code></a></th>
<td>TCP/IP ポート番号</td>
<td><code class="literal">3306</code></td>
<td></td>
<td></td>
</tr><tr><th scope="row"><a class="link" href="installing.html#option_cmake_mysql_unix_addr"><code class="literal">MYSQL_UNIX_ADDR</code></a></th>
<td>Unix ソケットファイル</td>
<td><code class="literal">/tmp/mysql.sock</code></td>
<td></td>
<td></td>
</tr><tr><th scope="row"><a class="link" href="installing.html#option_cmake_ndb_utils_link_dynamic"><code class="literal">NDB_UTILS_LINK_DYNAMIC</code></a></th>
<td>NDB ツールを ndbclient に動的にリンクさせます</td>
<td></td>
<td>8.0.22-ndb-8.0.22</td>
<td></td>
</tr><tr><th scope="row"><a class="link" href="installing.html#option_cmake_odbc_includes"><code class="literal">ODBC_INCLUDES</code></a></th>
<td>ODBC インクルードディレクトリ</td>
<td></td>
<td></td>
<td></td>
</tr><tr><th scope="row"><a class="link" href="installing.html#option_cmake_odbc_lib_dir"><code class="literal">ODBC_LIB_DIR</code></a></th>
<td>ODBC ライブラリディレクトリ</td>
<td></td>
<td></td>
<td></td>
</tr><tr><th scope="row"><a class="link" href="installing.html#option_cmake_optimizer_trace"><code class="literal">OPTIMIZER_TRACE</code></a></th>
<td>オプティマイザのトレースをサポートするかどうか</td>
<td></td>
<td></td>
<td></td>
</tr><tr><th scope="row"><a class="link" href="installing.html#option_cmake_reproducible_build"><code class="literal">REPRODUCIBLE_BUILD</code></a></th>
<td>ビルドの場所と時間に関係なくビルド結果を作成するには、特に注意してください</td>
<td></td>
<td></td>
<td></td>
</tr><tr><th scope="row"><a class="link" href="installing.html#option_cmake_sysconfdir"><code class="literal">SYSCONFDIR</code></a></th>
<td>オプションファイルディレクトリ</td>
<td></td>
<td></td>
<td></td>
</tr><tr><th scope="row"><a class="link" href="installing.html#option_cmake_systemd_pid_dir"><code class="literal">SYSTEMD_PID_DIR</code></a></th>
<td>systemd 下の PID ファイルのディレクトリ</td>
<td><code class="literal">/var/run/mysqld</code></td>
<td></td>
<td></td>
</tr><tr><th scope="row"><a class="link" href="installing.html#option_cmake_systemd_service_name"><code class="literal">SYSTEMD_SERVICE_NAME</code></a></th>
<td>systemd の下の MySQL サービスの名前</td>
<td><code class="literal">mysqld</code></td>
<td></td>
<td></td>
</tr><tr><th scope="row"><a class="link" href="installing.html#option_cmake_tmpdir"><code class="literal">TMPDIR</code></a></th>
<td>tmpdir のデフォルト値</td>
<td></td>
<td></td>
<td></td>
</tr><tr><th scope="row"><a class="link" href="installing.html#option_cmake_use_ld_gold"><code class="literal">USE_LD_GOLD</code></a></th>
<td>GNU ゴールドリンカーを使用するかどうか</td>
<td><code class="literal">ON</code></td>
<td></td>
<td></td>
</tr><tr><th scope="row"><a class="link" href="installing.html#option_cmake_use_ld_lld"><code class="literal">USE_LD_LLD</code></a></th>
<td>llvm lld リンカーを使用するかどうか</td>
<td><code class="literal">ON</code></td>
<td>8.0.16</td>
<td></td>
</tr><tr><th scope="row"><a class="link" href="installing.html#option_cmake_win_debug_no_inline"><code class="literal">WIN_DEBUG_NO_INLINE</code></a></th>
<td>関数インライン化を無効にするかどうか</td>
<td><code class="literal">OFF</code></td>
<td></td>
<td></td>
</tr><tr><th scope="row"><a class="link" href="installing.html#option_cmake_storage_engine_options" title="ストレージエンジンオプション"><code class="literal">WITHOUT_xxx_STORAGE_ENGINE</code></a></th>
<td>ストレージエンジン xxx をビルドから除外</td>
<td></td>
<td></td>
<td></td>
</tr><tr><th scope="row"><a class="link" href="installing.html#option_cmake_with_ant"><code class="literal">WITH_ANT</code></a></th>
<td>GCS Java ラッパーを構築するための Ant へのパス</td>
<td></td>
<td></td>
<td></td>
</tr><tr><th scope="row"><a class="link" href="installing.html#option_cmake_with_asan"><code class="literal">WITH_ASAN</code></a></th>
<td>AddressSanitizer 有効</td>
<td><code class="literal">OFF</code></td>
<td></td>
<td></td>
</tr><tr><th scope="row"><a class="link" href="installing.html#option_cmake_with_asan_scope"><code class="literal">WITH_ASAN_SCOPE</code></a></th>
<td>AddressSanitizer -fsanitize-address-use-after-scope Clang フラグの有効化</td>
<td><code class="literal">OFF</code></td>
<td></td>
<td></td>
</tr><tr><th scope="row"><a class="link" href="installing.html#option_cmake_with_authentication_ldap"><code class="literal">WITH_AUTHENTICATION_LDAP</code></a></th>
<td>LDAP 認証プラグインを構築できない場合にエラーを報告するかどうか</td>
<td><code class="literal">OFF</code></td>
<td></td>
<td></td>
</tr><tr><th scope="row"><a class="link" href="installing.html#option_cmake_with_authentication_pam"><code class="literal">WITH_AUTHENTICATION_PAM</code></a></th>
<td>PAM 認証プラグインのビルド</td>
<td><code class="literal">OFF</code></td>
<td></td>
<td></td>
</tr><tr><th scope="row"><a class="link" href="installing.html#option_cmake_with_aws_sdk"><code class="literal">WITH_AWS_SDK</code></a></th>
<td>Amazon Web Services ソフトウェア開発キットの場所</td>
<td></td>
<td></td>
<td></td>
</tr><tr><th scope="row"><a class="link" href="installing.html#option_cmake_with_boost"><code class="literal">WITH_BOOST</code></a></th>
<td>Boost ライブラリソースの場所</td>
<td></td>
<td></td>
<td></td>
</tr><tr><th scope="row"><a class="link" href="installing.html#option_cmake_with_client_protocol_tracing"><code class="literal">WITH_CLIENT_PROTOCOL_TRACING</code></a></th>
<td>クライアント側プロトコルトレースフレームワークのビルド</td>
<td><code class="literal">ON</code></td>
<td></td>
<td></td>
</tr><tr><th scope="row"><a class="link" href="installing.html#option_cmake_with_curl"><code class="literal">WITH_CURL</code></a></th>
<td>curl ライブラリの場所</td>
<td></td>
<td></td>
<td></td>
</tr><tr><th scope="row"><a class="link" href="installing.html#option_cmake_with_debug"><code class="literal">WITH_DEBUG</code></a></th>
<td>デバッグサポートをインクルードするかどうか</td>
<td><code class="literal">OFF</code></td>
<td></td>
<td></td>
</tr><tr><th scope="row"><a class="link" href="installing.html#option_cmake_with_default_compiler_options"><code class="literal">WITH_DEFAULT_COMPILER_OPTIONS</code></a></th>
<td>デフォルトのコンパイラオプションを使用するかどうか</td>
<td><code class="literal">ON</code></td>
<td></td>
<td></td>
</tr><tr><th scope="row"><a class="link" href="installing.html#option_cmake_with_default_feature_set"><code class="literal">WITH_DEFAULT_FEATURE_SET</code></a></th>
<td>デフォルトの機能セットを使用するかどうか</td>
<td><code class="literal">ON</code></td>
<td></td>
<td>8.0.22</td>
</tr><tr><th scope="row"><a class="link" href="installing.html#option_cmake_with_editline"><code class="literal">WITH_EDITLINE</code></a></th>
<td>どの libedit/editline ライブラリを使用するか</td>
<td><code class="literal">bundled</code></td>
<td></td>
<td></td>
</tr><tr><th scope="row"><a class="link" href="installing.html#option_cmake_with_gmock"><code class="literal">WITH_GMOCK</code></a></th>
<td>googlemock 分布へのパス</td>
<td></td>
<td></td>
<td></td>
</tr><tr><th scope="row"><a class="link" href="installing.html#option_cmake_with_icu"><code class="literal">WITH_ICU</code></a></th>
<td>ICU サポートのタイプ</td>
<td><code class="literal">bundled</code></td>
<td></td>
<td></td>
</tr><tr><th scope="row"><a class="link" href="installing.html#option_cmake_with_innodb_extra_debug"><code class="literal">WITH_INNODB_EXTRA_DEBUG</code></a></th>
<td>InnoDB の追加のデバッグサポートをインクルードするかどうか。</td>
<td><code class="literal">OFF</code></td>
<td></td>
<td></td>
</tr><tr><th scope="row"><a class="link" href="installing.html#option_cmake_with_innodb_memcached"><code class="literal">WITH_INNODB_MEMCACHED</code></a></th>
<td>memcached 共有ライブラリを生成するかどうか。</td>
<td><code class="literal">OFF</code></td>
<td></td>
<td></td>
</tr><tr><th scope="row"><a class="link" href="installing.html#option_cmake_with_jemalloc"><code class="literal">WITH_JEMALLOC</code></a></th>
<td>-ljemalloc とリンクするかどうか</td>
<td><code class="literal">OFF</code></td>
<td>8.0.16</td>
<td></td>
</tr><tr><th scope="row"><a class="link" href="installing.html#option_cmake_with_keyring_test"><code class="literal">WITH_KEYRING_TEST</code></a></th>
<td>キーリングテストプログラムの作成</td>
<td><code class="literal">OFF</code></td>
<td></td>
<td></td>
</tr><tr><th scope="row"><a class="link" href="installing.html#option_cmake_with_libevent"><code class="literal">WITH_LIBEVENT</code></a></th>
<td>どの libevent ライブラリを使用するか</td>
<td><code class="literal">bundled</code></td>
<td></td>
<td></td>
</tr><tr><th scope="row"><a class="link" href="installing.html#option_cmake_with_libwrap"><code class="literal">WITH_LIBWRAP</code></a></th>
<td>libwrap (TCP ラッパー) サポートをインクルードするかどうか</td>
<td><code class="literal">OFF</code></td>
<td></td>
<td></td>
</tr><tr><th scope="row"><a class="link" href="installing.html#option_cmake_with_lock_order"><code class="literal">WITH_LOCK_ORDER</code></a></th>
<td>LOCK_ORDER ツールを有効にするかどうか</td>
<td><code class="literal">OFF</code></td>
<td>8.0.17</td>
<td></td>
</tr><tr><th scope="row"><a class="link" href="installing.html#option_cmake_with_lsan"><code class="literal">WITH_LSAN</code></a></th>
<td>AddressSanitizer なしで LeakSanitizer を実行するかどうか</td>
<td><code class="literal">OFF</code></td>
<td>8.0.16</td>
<td></td>
</tr><tr><th scope="row"><a class="link" href="installing.html#option_cmake_with_lto"><code class="literal">WITH_LTO</code></a></th>
<td>リンク時オプティマイザの有効化</td>
<td><code class="literal">OFF</code></td>
<td>8.0.13</td>
<td></td>
</tr><tr><th scope="row"><a class="link" href="installing.html#option_cmake_with_lz4"><code class="literal">WITH_LZ4</code></a></th>
<td>LZ4 ライブラリサポートのタイプ</td>
<td><code class="literal">bundled</code></td>
<td></td>
<td></td>
</tr><tr><th scope="row"><a class="link" href="installing.html#option_cmake_with_lzma"><code class="literal">WITH_LZMA</code></a></th>
<td>LZMA ライブラリサポートのタイプ</td>
<td><code class="literal">bundled</code></td>
<td></td>
<td>8.0.16</td>
</tr><tr><th scope="row"><a class="link" href="installing.html#option_cmake_with_mecab"><code class="literal">WITH_MECAB</code></a></th>
<td>MeCab のコンパイル</td>
<td></td>
<td></td>
<td></td>
</tr><tr><th scope="row"><a class="link" href="installing.html#option_cmake_with_msan"><code class="literal">WITH_MSAN</code></a></th>
<td>MemorySanitizer の有効化</td>
<td><code class="literal">OFF</code></td>
<td></td>
<td></td>
</tr><tr><th scope="row"><a class="link" href="installing.html#option_cmake_with_mscrt_debug"><code class="literal">WITH_MSCRT_DEBUG</code></a></th>
<td>Visual Studio CRT メモリーリークのトレースを有効化</td>
<td><code class="literal">OFF</code></td>
<td></td>
<td></td>
</tr><tr><th scope="row"><a class="link" href="installing.html#option_cmake_with_mysqlx"><code class="literal">WITH_MYSQLX</code></a></th>
<td>X プロトコルを無効にするかどうか</td>
<td><code class="literal">ON</code></td>
<td></td>
<td></td>
</tr><tr><th scope="row"><a class="link" href="installing.html#option_cmake_with_numa"><code class="literal">WITH_NUMA</code></a></th>
<td>NUMA メモリー割当てポリシーの設定</td>
<td></td>
<td></td>
<td></td>
</tr><tr><th scope="row"><a class="link" href="installing.html#option_cmake_with_protobuf"><code class="literal">WITH_PROTOBUF</code></a></th>
<td>使用するプロトコルバッファパッケージ</td>
<td><code class="literal">bundled</code></td>
<td></td>
<td></td>
</tr><tr><th scope="row"><a class="link" href="installing.html#option_cmake_with_rapid"><code class="literal">WITH_RAPID</code></a></th>
<td>迅速な開発サイクルプラグインを構築するかどうか</td>
<td><code class="literal">ON</code></td>
<td></td>
<td></td>
</tr><tr><th scope="row"><a class="link" href="installing.html#option_cmake_with_rapidjson"><code class="literal">WITH_RAPIDJSON</code></a></th>
<td>RapidJSON サポートのタイプ</td>
<td><code class="literal">bundled</code></td>
<td>8.0.13</td>
<td></td>
</tr><tr><th scope="row"><a class="link" href="installing.html#option_cmake_with_re2"><code class="literal">WITH_RE2</code></a></th>
<td>RE2 ライブラリサポートのタイプ</td>
<td><code class="literal">bundled</code></td>
<td></td>
<td>8.0.18</td>
</tr><tr><th scope="row"><a class="link" href="installing.html#option_cmake_with_router"><code class="literal">WITH_ROUTER</code></a></th>
<td>MySQL Router を構築するかどうか</td>
<td><code class="literal">ON</code></td>
<td>8.0.16</td>
<td></td>
</tr><tr><th scope="row"><a class="link" href="installing.html#option_cmake_with_ssl"><code class="literal">WITH_SSL</code></a></th>
<td>SSL サポートのタイプ</td>
<td><code class="literal">system</code></td>
<td></td>
<td></td>
</tr><tr><th scope="row"><a class="link" href="installing.html#option_cmake_with_systemd"><code class="literal">WITH_SYSTEMD</code></a></th>
<td>systemd サポートファイルのインストールを有効にします</td>
<td><code class="literal">OFF</code></td>
<td></td>
<td></td>
</tr><tr><th scope="row"><a class="link" href="installing.html#option_cmake_with_systemd_debug"><code class="literal">WITH_SYSTEMD_DEBUG</code></a></th>
<td>追加の systemd デバッグ情報の有効化</td>
<td><code class="literal">OFF</code></td>
<td>8.0.22</td>
<td></td>
</tr><tr><th scope="row"><a class="link" href="installing.html#option_cmake_with_system_libs"><code class="literal">WITH_SYSTEM_LIBS</code></a></th>
<td>明示的に設定されていないライブラリオプションのシステム値の設定</td>
<td><code class="literal">OFF</code></td>
<td></td>
<td></td>
</tr><tr><th scope="row"><a class="link" href="installing.html#option_cmake_with_tcmalloc"><code class="literal">WITH_TCMALLOC</code></a></th>
<td>-ltcmalloc とリンクするかどうか</td>
<td><code class="literal">OFF</code></td>
<td>8.0.22</td>
<td></td>
</tr><tr><th scope="row"><a class="link" href="installing.html#option_cmake_with_test_trace_plugin"><code class="literal">WITH_TEST_TRACE_PLUGIN</code></a></th>
<td>テスト側プロトコルトレースプラグインのビルド</td>
<td><code class="literal">OFF</code></td>
<td></td>
<td></td>
</tr><tr><th scope="row"><a class="link" href="installing.html#option_cmake_with_tsan"><code class="literal">WITH_TSAN</code></a></th>
<td>ThreadSanitizer の有効化</td>
<td><code class="literal">OFF</code></td>
<td></td>
<td></td>
</tr><tr><th scope="row"><a class="link" href="installing.html#option_cmake_with_ubsan"><code class="literal">WITH_UBSAN</code></a></th>
<td>未定義動作のサニタイザの有効化</td>
<td><code class="literal">OFF</code></td>
<td></td>
<td></td>
</tr><tr><th scope="row"><a class="link" href="installing.html#option_cmake_with_unit_tests"><code class="literal">WITH_UNIT_TESTS</code></a></th>
<td>ユニットテストを使用した MySQL のコンパイル</td>
<td><code class="literal">ON</code></td>
<td></td>
<td></td>
</tr><tr><th scope="row"><a class="link" href="installing.html#option_cmake_with_unixodbc"><code class="literal">WITH_UNIXODBC</code></a></th>
<td>unixODBC サポートの有効化</td>
<td><code class="literal">OFF</code></td>
<td></td>
<td></td>
</tr><tr><th scope="row"><a class="link" href="installing.html#option_cmake_with_valgrind"><code class="literal">WITH_VALGRIND</code></a></th>
<td>Valgrind ヘッダーファイルをコンパイルするかどうか</td>
<td><code class="literal">OFF</code></td>
<td></td>
<td></td>
</tr><tr><th scope="row"><a class="link" href="installing.html#option_cmake_with_zlib"><code class="literal">WITH_ZLIB</code></a></th>
<td>zlib サポートのタイプ</td>
<td><code class="literal">bundled</code></td>
<td></td>
<td></td>
</tr><tr><th scope="row"><a class="link" href="installing.html#option_cmake_with_zstd"><code class="literal">WITH_ZSTD</code></a></th>
<td>zstd サポートのタイプ</td>
<td><code class="literal">bundled</code></td>
<td>8.0.18</td>
<td></td>
</tr><tr><th scope="row"><a class="link" href="installing.html#option_cmake_storage_engine_options" title="ストレージエンジンオプション"><code class="literal">WITH_xxx_STORAGE_ENGINE</code></a></th>
<td>ストレージエンジン xxx をサーバーに静的にコンパイル</td>
<td></td>
<td></td>
<td></td>
</tr></tbody></table></div></div><br class="table-break"></div><div class="simplesect"><div class="titlepage"><div><div><h4 class="title"><a name="cmake-general-options"></a>一般オプション</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="option_cmake_build_config"></a>
            <code class="literal">-DBUILD_CONFIG=mysql_release</code>
          </p><a class="indexterm" name="idm45548119310720"></a><a class="indexterm" name="idm45548119308512"></a><p>
            このオプションは、オラクルが公式な MySQL リリースのバイナリ配布を生成するために使用するのと同じビルドオプションでソース配布を構成します。
          </p></li><li class="listitem"><p><a name="option_cmake_bundle_runtime_libraries"></a>
            <code class="literal">-DBUNDLE_RUNTIME_LIBRARIES=<em class="replaceable"><code>bool</code></em></code>
          </p><a class="indexterm" name="idm45548119303520"></a><a class="indexterm" name="idm45548119301280"></a><p>
            ランタイムライブラリを Windows 用のサーバー MSI および Zip パッケージにバンドルするかどうか。
          </p></li><li class="listitem"><p><a name="option_cmake_cmake_build_type"></a>
            <code class="literal">-DCMAKE_BUILD_TYPE=<em class="replaceable"><code>type</code></em></code>
          </p><a class="indexterm" name="idm45548119296304"></a><a class="indexterm" name="idm45548119294144"></a><p>
            生成するビルドのタイプ
          </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                <code class="literal">RelWithDebInfo</code>: 最適化を有効にし、デバッグ情報を生成します。 これはデフォルトの MySQL ビルドタイプです。 
              </p></li><li class="listitem"><p>
                <code class="literal">Release</code>: 最適化を有効にしますが、ビルドサイズを減らすためにデバッグ情報を省略します。 このビルドタイプは、MySQL 8.0.13 で追加されました。 
              </p></li><li class="listitem"><p>
                <code class="literal">Debug</code>: 最適化を無効にし、デバッグ情報を生成します。 このビルドタイプは、<code class="option">WITH_DEBUG</code> オプションが有効な場合も使用されます。 つまり、<code class="option">-DWITH_DEBUG=1</code> は <code class="option">-DCMAKE_BUILD_TYPE=Debug</code> と同じ効果を持ちます。 
              </p></li></ul></div></li><li class="listitem"><p><a name="option_cmake_cpack_monolithic_install"></a>
            <code class="literal">-DCPACK_MONOLITHIC_INSTALL=<em class="replaceable"><code>bool</code></em></code>
          </p><a class="indexterm" name="idm45548119281360"></a><a class="indexterm" name="idm45548119279120"></a><p>
            このオプションは、<span class="command"><strong>make package</strong></span> 操作が複数のインストールパッケージファイルを作成するか、単独のファイルを作成するかに影響します。 無効の場合、この操作は複数のインストールパッケージファイルを作成します。これは完全な MySQL インストールのサブセットのみをインストールする場合に便利です。 有効の場合、すべてをインストールするための単独のファイルを作成します。 
          </p></li><li class="listitem"><p><a name="option_cmake_force_insource_build"></a>
            <code class="literal">-DFORCE_INSOURCE_BUILD=<em class="replaceable"><code>bool</code></em></code>
          </p><a class="indexterm" name="idm45548119273056"></a><a class="indexterm" name="idm45548119270880"></a><p>
            ソース内ビルドを強制するかどうかを定義します。 アウトオブソースビルドでは同じソースからの複数のビルドが許可されるため、ビルドディレクトリを削除することでクリーンアップを迅速に実行できます。 ソース内ビルドを強制するには、<code class="option">-DFORCE_INSOURCE_BUILD=ON</code> を使用して <span class="command"><strong>CMake</strong></span> を起動します。 
          </p></li></ul></div></div><div class="simplesect"><div class="titlepage"><div><div><h4 class="title"><a name="cmake-installation-layout-options"></a>インストールレイアウトオプション</h4></div></div></div><p>
        <code class="option">CMAKE_INSTALL_PREFIX</code> オプションは、ベースインストールディレクトリを示します。 コンポーネントの場所を示す、<code class="literal">INSTALL_<em class="replaceable"><code>xxx</code></em></code> という形式の名前を持つその他のオプションは、プリフィクスに相対的なものとして解釈され、その値は相対パス名です。 それらの値はプリフィクスを含みません。 
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="option_cmake_cmake_install_prefix"></a>
            <code class="literal">-DCMAKE_INSTALL_PREFIX=<em class="replaceable"><code>dir_name</code></em></code>
          </p><a class="indexterm" name="idm45548119259696"></a><a class="indexterm" name="idm45548119257520"></a><p>
            インストールのベースディレクトリ。
          </p><p>
            この値は、サーバー起動時に <code class="option">--basedir</code> オプションで設定できます。
          </p></li><li class="listitem"><p><a name="option_cmake_install_bindir"></a>
            <code class="literal">-DINSTALL_BINDIR=<em class="replaceable"><code>dir_name</code></em></code>
          </p><a class="indexterm" name="idm45548119251472"></a><a class="indexterm" name="idm45548119249312"></a><p>
            ユーザープログラムをインストールする場所。
          </p></li><li class="listitem"><p><a name="option_cmake_install_docdir"></a>
            <code class="literal">-DINSTALL_DOCDIR=<em class="replaceable"><code>dir_name</code></em></code>
          </p><a class="indexterm" name="idm45548119244496"></a><a class="indexterm" name="idm45548119242336"></a><p>
            ドキュメントをインストールする場所。
          </p></li><li class="listitem"><p><a name="option_cmake_install_docreadmedir"></a>
            <code class="literal">-DINSTALL_DOCREADMEDIR=<em class="replaceable"><code>dir_name</code></em></code>
          </p><a class="indexterm" name="idm45548119237600"></a><a class="indexterm" name="idm45548119235424"></a><p>
            <code class="filename">README</code> ファイルをインストールする場所。
          </p></li><li class="listitem"><p><a name="option_cmake_install_includedir"></a>
            <code class="literal">-DINSTALL_INCLUDEDIR=<em class="replaceable"><code>dir_name</code></em></code>
          </p><a class="indexterm" name="idm45548119229952"></a><a class="indexterm" name="idm45548119227792"></a><p>
            ヘッダーファイルをインストールする場所。
          </p></li><li class="listitem"><p><a name="option_cmake_install_infodir"></a>
            <code class="literal">-DINSTALL_INFODIR=<em class="replaceable"><code>dir_name</code></em></code>
          </p><a class="indexterm" name="idm45548119223040"></a><a class="indexterm" name="idm45548119220880"></a><p>
            Info ファイルをインストールする場所。
          </p></li><li class="listitem"><p><a name="option_cmake_install_layout"></a>
            <code class="literal">-DINSTALL_LAYOUT=<em class="replaceable"><code>name</code></em></code>
          </p><a class="indexterm" name="idm45548119216080"></a><a class="indexterm" name="idm45548119213920"></a><p>
            事前定義インストールレイアウトを選択します。
          </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                <code class="literal">STANDALONE</code>: <code class="filename">.tar.gz</code> および <code class="filename">.zip</code> パッケージで使用されるのと同じレイアウト。 これはデフォルトです。 
              </p></li><li class="listitem"><p>
                <code class="literal">RPM</code>: RPM パッケージと同様のレイアウト。
              </p></li><li class="listitem"><p>
                <code class="literal">SVR4</code>: Solaris パッケージレイアウト。
              </p></li><li class="listitem"><p>
                <code class="literal">DEB</code>: DEB パッケージレイアウト (実験的)。
              </p></li></ul></div><p>
            事前定義のレイアウトを選択できますが、ほかのオプションを指定することによって、個々のコンポーネントのインストール場所を変更できます。 例: 
          </p><pre class="programlisting">cmake . -DINSTALL_LAYOUT=SVR4 -DMYSQL_DATADIR=/var/mysql/data
</pre><p>
            <code class="option">INSTALL_LAYOUT</code> の値によって、<code class="literal">secure_file_priv</code>、<code class="literal">keyring_encrypted_file_data</code> および <code class="literal">keyring_file_data</code> システム変数のデフォルト値が決まります。 <a class="xref" href="server-administration.html#server-system-variables" title="5.1.8 サーバーシステム変数">セクション5.1.8「サーバーシステム変数」</a> および <a class="xref" href="security.html#keyring-system-variables" title="6.4.4.13 キーリングシステム変数">セクション6.4.4.13「キーリングシステム変数」</a> のこれらの変数の説明を参照してください。 
          </p></li><li class="listitem"><p><a name="option_cmake_install_libdir"></a>
            <code class="literal">-DINSTALL_LIBDIR=<em class="replaceable"><code>dir_name</code></em></code>
          </p><a class="indexterm" name="idm45548119193152"></a><a class="indexterm" name="idm45548119190992"></a><p>
            ライブラリファイルをインストールする場所。
          </p></li><li class="listitem"><p><a name="option_cmake_install_mandir"></a>
            <code class="literal">-DINSTALL_MANDIR=<em class="replaceable"><code>dir_name</code></em></code>
          </p><a class="indexterm" name="idm45548119186240"></a><a class="indexterm" name="idm45548119184080"></a><p>
            マニュアルページをインストールする場所。
          </p></li><li class="listitem"><p><a name="option_cmake_install_mysqlkeyringdir"></a>
            <code class="literal">-DINSTALL_MYSQLKEYRINGDIR=<em class="replaceable"><code>dir_path</code></em></code>
          </p><a class="indexterm" name="idm45548119179296"></a><a class="indexterm" name="idm45548119177072"></a><p>
            <code class="literal">keyring_file</code> プラグインデータファイルの場所として使用するデフォルトのディレクトリ。 デフォルト値はプラットフォーム固有で、<code class="option">INSTALL_LAYOUT</code> <span class="command"><strong>CMake</strong></span> オプションの値によって異なります。<a class="xref" href="server-administration.html#server-system-variables" title="5.1.8 サーバーシステム変数">セクション5.1.8「サーバーシステム変数」</a> の <code class="literal">keyring_file_data</code> システム変数の説明を参照してください。 
          </p></li><li class="listitem"><p><a name="option_cmake_install_mysqlsharedir"></a>
            <code class="literal">-DINSTALL_MYSQLSHAREDIR=<em class="replaceable"><code>dir_name</code></em></code>
          </p><a class="indexterm" name="idm45548119168192"></a><a class="indexterm" name="idm45548119165968"></a><p>
            共有データファイルをインストールする場所。
          </p></li><li class="listitem"><p><a name="option_cmake_install_mysqltestdir"></a>
            <code class="literal">-DINSTALL_MYSQLTESTDIR=<em class="replaceable"><code>dir_name</code></em></code>
          </p><a class="indexterm" name="idm45548119161200"></a><a class="indexterm" name="idm45548119159024"></a><p>
            <code class="filename">mysql-test</code> ディレクトリをインストールする場所。 このディレクトリのインストールを抑制するには、オプションを空の値 (<code class="option">-DINSTALL_MYSQLTESTDIR=</code>) に明示的に設定します。 
          </p></li><li class="listitem"><p><a name="option_cmake_install_pkgconfigdir"></a>
            <code class="literal">-DINSTALL_PKGCONFIGDIR=<em class="replaceable"><code>dir_name</code></em></code>
          </p><a class="indexterm" name="idm45548119152640"></a><a class="indexterm" name="idm45548119150464"></a><p>
            <span class="command"><strong>pkg-config</strong></span> で使用する <code class="filename">mysqlclient.pc</code> ファイルをインストールするディレクトリ。 <code class="option">INSTALL_LIBDIR</code> が<code class="literal">/mysql</code> で終わっていないかぎり、デフォルト値は <code class="literal">INSTALL_LIBDIR/pkgconfig</code> です。この場合は、最初に削除されます。 
          </p></li><li class="listitem"><p><a name="option_cmake_install_plugindir"></a>
            <code class="literal">-DINSTALL_PLUGINDIR=<em class="replaceable"><code>dir_name</code></em></code>
          </p><a class="indexterm" name="idm45548119141856"></a><a class="indexterm" name="idm45548119139696"></a><p>
            プラグインディレクトリの場所。
          </p><p>
            この値は、サーバー起動時に <code class="option">--plugin_dir</code> オプションで設定できます。
          </p></li><li class="listitem"><p><a name="option_cmake_install_priv_libdir"></a>
            <code class="literal">-DINSTALL_PRIV_LIBDIR=<em class="replaceable"><code>dir_name</code></em></code>
          </p><a class="indexterm" name="idm45548119133664"></a><a class="indexterm" name="idm45548119131504"></a><p>
            動的ライブラリディレクトリの場所。
          </p><p>
            デフォルトの場所: RPM = <code class="filename">/usr/lib64/mysql/private/</code>、DEB = <code class="filename">/usr/lib/mysql/private/</code>および TAR = <code class="filename">lib/private/</code>。
          </p><p>
            このオプションは MySQL 8.0.18 で追加されました。
          </p><p>
            Protobuf 用: これはプライベートな場所であるため、ローダー (Linux 上の ld-linux.so など) はヘルプなしで <code class="filename">libprotobuf.so</code> ファイルを見つけることができない場合があります。 ローダーをガイドするために、値 <span class="emphasis"><em>$ORIGIN/../$INSTALL_PRIV_LIBDIR</em></span> を持つ <code class="literal">RPATH</code> が mysqld および mysqlxtest に追加されます。 これはほとんどの場合に機能しますが、<a class="link" href="server-administration.html#resource-groups" title="5.1.16 リソースグループ">Resource Group</a> 機能を使用する場合、<span class="emphasis"><em>mysqld</em></span> は <span class="emphasis"><em>setsuid</em></span> であり、ローダーは <code class="literal">$ORIGIN</code> を含む <code class="literal">RPATH</code> を無視します。 これを解決するには、ターゲットの宛先が既知であるため、ディレクトリへの明示的なフルパスが mysqld の DEB および RPM バリアントに設定されます。 tarball インストールでは、<span class="command"><strong>patchelf</strong></span> などのツールを使用した mysqld のパッチ適用が必要です。 
          </p></li><li class="listitem"><p><a name="option_cmake_install_sbindir"></a>
            <code class="literal">-DINSTALL_SBINDIR=<em class="replaceable"><code>dir_name</code></em></code>
          </p><a class="indexterm" name="idm45548119115776"></a><a class="indexterm" name="idm45548119113616"></a><p>
            <span class="command"><strong>mysqld</strong></span> サーバーをインストールする場所。
          </p></li><li class="listitem"><p><a name="option_cmake_install_secure_file_privdir"></a>
            <code class="literal">-DINSTALL_SECURE_FILE_PRIVDIR=<em class="replaceable"><code>dir_name</code></em></code>
          </p><a class="indexterm" name="idm45548119108096"></a><a class="indexterm" name="idm45548119105920"></a><p>
            <code class="literal">secure_file_priv</code> システム変数のデフォルト値。 デフォルト値はプラットフォーム固有で、<code class="option">INSTALL_LAYOUT</code> <span class="command"><strong>CMake</strong></span> オプションの値によって異なります。<a class="xref" href="server-administration.html#server-system-variables" title="5.1.8 サーバーシステム変数">セクション5.1.8「サーバーシステム変数」</a> の <code class="literal">secure_file_priv</code> システム変数の説明を参照してください。 
          </p></li><li class="listitem"><p><a name="option_cmake_install_sharedir"></a>
            <code class="literal">-DINSTALL_SHAREDIR=<em class="replaceable"><code>dir_name</code></em></code>
          </p><a class="indexterm" name="idm45548119096784"></a><a class="indexterm" name="idm45548119094624"></a><p>
            <code class="filename">aclocal/mysql.m4</code> をインストールする場所。
          </p></li><li class="listitem"><p><a name="option_cmake_install_static_libraries"></a>
            <code class="literal">-DINSTALL_STATIC_LIBRARIES=<em class="replaceable"><code>bool</code></em></code>
          </p><a class="indexterm" name="idm45548119089232"></a><a class="indexterm" name="idm45548119086992"></a><p>
            静的ライブラリをインストールするかどうか。 デフォルトは <code class="literal">ON</code> です。 <code class="literal">OFF</code> に設定されている場合、これらのライブラリはインストールされません: <code class="filename">libmysqlclient.a</code>、<code class="filename">libmysqlservices.a</code>。 
          </p></li><li class="listitem"><p><a name="option_cmake_install_supportfilesdir"></a>
            <code class="literal">-DINSTALL_SUPPORTFILESDIR=<em class="replaceable"><code>dir_name</code></em></code>
          </p><a class="indexterm" name="idm45548119079168"></a><a class="indexterm" name="idm45548119076944"></a><p>
            追加のサポートファイルをインストールする場所。
          </p></li><li class="listitem"><p><a name="option_cmake_link_randomize"></a>
            <code class="literal">-DLINK_RANDOMIZE=<em class="replaceable"><code>bool</code></em></code>
          </p><a class="indexterm" name="idm45548119072160"></a><a class="indexterm" name="idm45548119070000"></a><p>
            <span class="command"><strong>mysqld</strong></span> バイナリ内のシンボルの順序をランダム化するかどうか。 デフォルトは <code class="literal">OFF</code> です。 このオプションは、デバッグ目的でのみ有効にしてください。 
          </p></li><li class="listitem"><p><a name="option_cmake_link_randomize_seed"></a>
            <code class="literal">-DLINK_RANDOMIZE_SEED=<em class="replaceable"><code>val</code></em></code>
          </p><a class="indexterm" name="idm45548119063696"></a><a class="indexterm" name="idm45548119061488"></a><p>
            <code class="option">LINK_RANDOMIZE</code> オプションのシード値。 値は文字列です。 デフォルトは、任意の選択肢である <code class="literal">mysql</code> です。 
          </p></li><li class="listitem"><p><a name="option_cmake_mysql_datadir"></a>
            <code class="literal">-DMYSQL_DATADIR=<em class="replaceable"><code>dir_name</code></em></code>
          </p><a class="indexterm" name="idm45548119055184"></a><a class="indexterm" name="idm45548119053024"></a><p>
            MySQL データディレクトリの場所。
          </p><p>
            この値は、サーバー起動時に <code class="option">--datadir</code> オプションで設定できます。
          </p></li><li class="listitem"><p><a name="option_cmake_odbc_includes"></a>
            <code class="literal">-DODBC_INCLUDES=<em class="replaceable"><code>dir_name</code></em></code>
          </p><a class="indexterm" name="idm45548119046928"></a><a class="indexterm" name="idm45548119044768"></a><p>
            ODBC インクルードディレクトリの場所。Connector/ODBC の構成中に使用されることがあります。
          </p></li><li class="listitem"><p><a name="option_cmake_odbc_lib_dir"></a>
            <code class="literal">-DODBC_LIB_DIR=<em class="replaceable"><code>dir_name</code></em></code>
          </p><a class="indexterm" name="idm45548119040224"></a><a class="indexterm" name="idm45548119038064"></a><p>
            ODBC ライブラリディレクトリの場所。Connector/ODBC の構成中に使用されることがあります。
          </p></li><li class="listitem"><p><a name="option_cmake_sysconfdir"></a>
            <code class="literal">-DSYSCONFDIR=<em class="replaceable"><code>dir_name</code></em></code>
          </p><a class="indexterm" name="idm45548119033216"></a><a class="indexterm" name="idm45548119031024"></a><p>
            デフォルトの <code class="literal">my.cnf</code> オプションファイルディレクトリ。
          </p><p>
            この場所はサーバー起動時にはセットできませんが、<code class="option">--defaults-file=<em class="replaceable"><code>file_name</code></em></code> オプションを使用して、指定されたオプションファイルでサーバーを起動できます。ここで、<em class="replaceable"><code>file_name</code></em> はファイルへのフルパス名です。
          </p></li><li class="listitem"><p><a name="option_cmake_systemd_pid_dir"></a>
            <code class="literal">-DSYSTEMD_PID_DIR=<em class="replaceable"><code>dir_name</code></em></code>
          </p><a class="indexterm" name="idm45548119023136"></a><a class="indexterm" name="idm45548119020976"></a><a class="indexterm" name="idm45548119018992"></a><p>
            systemd によって MySQL が管理されている場合に PID ファイルを作成するディレクトリの名前。 デフォルトは<code class="filename">/var/run/mysqld</code> です。これは、<code class="option">INSTALL_LAYOUT</code> の値に従って暗黙的に変更される場合があります。 
          </p><p>
            <code class="option">WITH_SYSTEMD</code> が有効になっていないかぎり、このオプションは無視されます。
          </p></li><li class="listitem"><p><a name="option_cmake_systemd_service_name"></a>
            <code class="literal">-DSYSTEMD_SERVICE_NAME=<em class="replaceable"><code>name</code></em></code>
          </p><a class="indexterm" name="idm45548119011104"></a><a class="indexterm" name="idm45548119008928"></a><a class="indexterm" name="idm45548119006928"></a><p>
            MySQL が systemd によって管理されている場合に使用する MySQL サービスの名前。 デフォルトは <code class="literal">mysqld</code> です。これは、<code class="option">INSTALL_LAYOUT</code> の値に従って暗黙的に変更される場合があります。 
          </p><p>
            <code class="option">WITH_SYSTEMD</code> が有効になっていないかぎり、このオプションは無視されます。
          </p></li><li class="listitem"><p><a name="option_cmake_tmpdir"></a>
            <code class="literal">-DTMPDIR=<em class="replaceable"><code>dir_name</code></em></code>
          </p><a class="indexterm" name="idm45548118999088"></a><a class="indexterm" name="idm45548118996912"></a><p>
            <code class="literal">tmpdir</code> システム変数に使用されるデフォルトの場所。 指定しない場合は、値はデフォルトで <code class="literal">P_tmpdir</code> in <code class="literal">&lt;stdio.h&gt;</code> になります。 
          </p></li></ul></div></div><div class="simplesect"><div class="titlepage"><div><div><h4 class="title"><a name="option_cmake_storage_engine_options"></a>ストレージエンジンオプション</h4></div></div></div><p>
        ストレージエンジンはプラグインとしてビルドされます。 プラグインは、静的モジュール (サーバー内にコンパイル) または動的モジュール (使用する前に、<code class="literal">INSTALL PLUGIN</code> ステートメントまたは <code class="option">--plugin-load</code> オプションを使用してサーバーにインストールする必要のあるダイナミックライブラリとしてビルド) としてビルドできます。 一部のプラグインは、静的または動的ビルドをサポートしない場合があります。 
      </p><p>
        <code class="literal">InnoDB</code>, <code class="literal">MyISAM</code>, <code class="literal">MERGE</code>, <code class="literal">MEMORY</code> および <code class="literal">CSV</code> エンジンは必須 (常にサーバーにコンパイルされる) であり、明示的にインストールする必要はありません。
      </p><p>
        ストレージエンジンをサーバー内に静的にコンパイルするには、<code class="literal">-DWITH_<em class="replaceable"><code>engine</code></em>_STORAGE_ENGINE=1</code> を使用します。 使用可能な <em class="replaceable"><code>engine</code></em> 値には、<code class="literal">ARCHIVE</code>, <code class="literal">BLACKHOLE</code>, <code class="literal">EXAMPLE</code>, <code class="literal">FEDERATED</code>、<code class="literal">NDB</code> または <code class="literal">NDBCLUSTER</code> (<code class="literal">NDB</code> サポート) があります。 例: 
      </p><pre class="programlisting">-DWITH_ARCHIVE_STORAGE_ENGINE=1
-DWITH_BLACKHOLE_STORAGE_ENGINE=1
</pre><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
          パフォーマンススキーマサポートなしでコンパイルすることはできません。 特定のタイプのインストゥルメンテーションなしでコンパイルする場合は、次の <span class="command"><strong>CMake</strong></span> オプションを使用して実行できます: 
        </p><pre class="programlisting">DISABLE_PSI_COND
DISABLE_PSI_DATA_LOCK
DISABLE_PSI_ERROR
DISABLE_PSI_FILE
DISABLE_PSI_IDLE
DISABLE_PSI_MEMORY
DISABLE_PSI_METADATA
DISABLE_PSI_MUTEX
DISABLE_PSI_PS
DISABLE_PSI_RWLOCK
DISABLE_PSI_SOCKET
DISABLE_PSI_SP
DISABLE_PSI_STAGE
DISABLE_PSI_STATEMENT
DISABLE_PSI_STATEMENT_DIGEST
DISABLE_PSI_TABLE
DISABLE_PSI_THREAD
DISABLE_PSI_TRANSACTION
</pre><p>
          たとえば、mutex インストゥルメンテーションなしでコンパイルするには、<code class="option">-DDISABLE_PSI_MUTEX=1</code> オプションを使用して MySQL を構成します。
        </p></div><p>
        ストレージエンジンをビルドから除外するには、<code class="literal">-DWITH_<em class="replaceable"><code>engine</code></em>_STORAGE_ENGINE=0</code> を使用します。 例: 
      </p><pre class="programlisting">-DWITH_ARCHIVE_STORAGE_ENGINE=0
-DWITH_EXAMPLE_STORAGE_ENGINE=0
-DWITH_FEDERATED_STORAGE_ENGINE=0
</pre><p>
        <code class="literal">-DWITHOUT_<em class="replaceable"><code>engine</code></em>_STORAGE_ENGINE=1</code> を使用して構築からストレージエンジンを除外することもできます (ただし、<code class="literal">-DWITH_<em class="replaceable"><code>engine</code></em>_STORAGE_ENGINE=0</code> をお勧めします)。 例: 
      </p><pre class="programlisting">-DWITHOUT_ARCHIVE_STORAGE_ENGINE=1
-DWITHOUT_EXAMPLE_STORAGE_ENGINE=1
-DWITHOUT_FEDERATED_STORAGE_ENGINE=1
</pre><p>
        あるストレージエンジンに対して <code class="literal">-DWITH_<em class="replaceable"><code>engine</code></em>_STORAGE_ENGINE</code> も <code class="literal">-DWITHOUT_<em class="replaceable"><code>engine</code></em>_STORAGE_ENGINE</code> も指定されていない場合、そのエンジンは共有モジュールとしてビルドされるか、あるいは共有モジュールとしてビルドできない場合は除外されます。
      </p></div><div class="simplesect"><div class="titlepage"><div><div><h4 class="title"><a name="cmake-feature-options"></a>機能オプション</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="option_cmake_add_gdb_index"></a>
            <code class="literal">-DADD_GDB_INDEX=<em class="replaceable"><code>bool</code></em></code>
          </p><a class="indexterm" name="idm45548118955664"></a><a class="indexterm" name="idm45548118953504"></a><p>
            このオプションは、バイナリでの <code class="literal">.gdb_index</code> セクションの生成を有効にするかどうかを決定します。これにより、デバッガへのロードが高速になります。 このオプションはデフォルトで無効になっています。<span class="command"><strong>lld</strong></span> リンカーが使用され、<span class="command"><strong>lld</strong></span> または GNU <span class="command"><strong>gold</strong></span> 以外のリンカーが使用されている場合は無効になります。 
          </p><p>
            このオプションは MySQL 8.0.18 で追加されました。
          </p></li><li class="listitem"><p><a name="option_cmake_compilation_comment"></a>
            <code class="literal">-DCOMPILATION_COMMENT=<em class="replaceable"><code>string</code></em></code>
          </p><a class="indexterm" name="idm45548118944768"></a><a class="indexterm" name="idm45548118942608"></a><p>
            コンパイル環境に関する説明コメント。 MySQL 8.0.14 では、<span class="command"><strong>mysqld</strong></span> は <code class="option">COMPILATION_COMMENT_SERVER</code> を使用します。 他のプログラムは引き続き <code class="option">COMPILATION_COMMENT</code> を使用します。 
          </p></li><li class="listitem"><p><a name="option_cmake_compress_debug_sections"></a>
            <code class="literal">-DCOMPRESS_DEBUG_SECTIONS=<em class="replaceable"><code>bool</code></em></code>
          </p><a class="indexterm" name="idm45548118935488"></a><a class="indexterm" name="idm45548118933264"></a><p>
            バイナリ実行可能ファイルのデバッグセクションを圧縮するかどうか (Linux のみ)。 実行可能デバッグセクションを圧縮すると、構築プロセス中に余分な CPU 時間がかかるため、領域を節約できます。 
          </p><p>
            デフォルトは <code class="literal">OFF</code> です。 このオプションが明示的に設定されていないが、<code class="literal">COMPRESS_DEBUG_SECTIONS</code> 環境変数が設定されている場合、このオプションはその変数から値を取得します。 
          </p><p>
            このオプションは MySQL 8.0.22 で追加されました。
          </p></li><li class="listitem"><p><a name="option_cmake_compilation_comment_server"></a>
            <code class="literal">-DCOMPILATION_COMMENT_SERVER=<em class="replaceable"><code>string</code></em></code>
          </p><a class="indexterm" name="idm45548118925280"></a><a class="indexterm" name="idm45548118923040"></a><p>
            <span class="command"><strong>mysqld</strong></span> で使用するコンパイル環境に関する説明コメント (<code class="literal">version_comment</code> システム変数の設定など)。 このオプションは MySQL 8.0.14 で追加されました。 8.0.14 より前では、サーバーは <code class="option">COMPILATION_COMMENT</code> を使用します。 
          </p></li><li class="listitem"><p><a name="option_cmake_default_charset"></a>
            <code class="literal">-DDEFAULT_CHARSET=<em class="replaceable"><code>charset_name</code></em></code>
          </p><a class="indexterm" name="idm45548118915504"></a><a class="indexterm" name="idm45548118913344"></a><p>
            サーバーの文字セット。 デフォルトでは、MySQL は <code class="literal">utf8mb4</code> 文字セットを使用します。 
          </p><p>
            <em class="replaceable"><code>charset_name</code></em> は、<code class="literal">binary</code>、<code class="literal">armscii8</code>、<code class="literal">ascii</code>、<code class="literal">big5</code>、<code class="literal">cp1250</code>、<code class="literal">cp1251</code>、<code class="literal">cp1256</code>、<code class="literal">cp1257</code>、<code class="literal">cp850</code>、<code class="literal">cp852</code>、<code class="literal">cp866</code>、<code class="literal">cp932</code>、<code class="literal">dec8</code>、<code class="literal">eucjpms</code>、<code class="literal">euckr</code>、<code class="literal">gb2312</code>、<code class="literal">gbk</code>、<code class="literal">geostd8</code>、<code class="literal">greek</code>、<code class="literal">hebrew</code>、<code class="literal">hp8</code>、<code class="literal">keybcs2</code>、<code class="literal">koi8r</code>、<code class="literal">koi8u</code>、<code class="literal">latin1</code>、<code class="literal">latin2</code>、<code class="literal">latin5</code>、<code class="literal">latin7</code>、<code class="literal">macce</code>、<code class="literal">macroman</code>、<code class="literal">sjis</code>、<code class="literal">swe7</code>、<code class="literal">tis620</code>、<code class="literal">ucs2</code>、<code class="literal">ujis</code>、<code class="literal">utf8</code>、<code class="literal">utf8mb4</code>、<code class="literal">utf16</code>、<code class="literal">utf16le</code>、<code class="literal">utf32</code> のいずれかにできます。 許可される文字セットは、<code class="filename">cmake/character_sets.cmake</code> ファイルに <code class="literal">CHARSETS_AVAILABLE</code> の値としてリストされています。 
          </p><p>
            この値は、サーバー起動時に <code class="option">--character_set_server</code> オプションで設定できます。
          </p></li><li class="listitem"><p><a name="option_cmake_default_collation"></a>
            <code class="literal">-DDEFAULT_COLLATION=<em class="replaceable"><code>collation_name</code></em></code>
          </p><a class="indexterm" name="idm45548118875120"></a><a class="indexterm" name="idm45548118872960"></a><p>
            サーバーの照合順序。 デフォルトでは、MySQL は <code class="literal">utf8mb4_0900_ai_ci</code> を使用します。 各文字セットにどの照合順序を使用するかを決めるには <code class="literal">SHOW COLLATION</code> ステートメントを使用します。 
          </p><p>
            この値は、サーバー起動時に <code class="option">--collation_server</code> オプションで設定できます。
          </p></li><li class="listitem"><p><a name="option_cmake_disable_psi_cond"></a>
            <code class="literal">-DDISABLE_PSI_COND=<em class="replaceable"><code>bool</code></em></code>
          </p><a class="indexterm" name="idm45548118864928"></a><a class="indexterm" name="idm45548118862768"></a><p>
            パフォーマンススキーマ条件インストゥルメンテーションを除外するかどうか。 デフォルトは <code class="literal">OFF</code> (include) です。 
          </p></li><li class="listitem"><p><a name="option_cmake_disable_psi_file"></a>
            <code class="literal">-DDISABLE_PSI_FILE=<em class="replaceable"><code>bool</code></em></code>
          </p><a class="indexterm" name="idm45548118857104"></a><a class="indexterm" name="idm45548118854944"></a><p>
            パフォーマンススキーマファイルインストゥルメンテーションを除外するかどうか。 デフォルトは <code class="literal">OFF</code> (include) です。 
          </p></li><li class="listitem"><p><a name="option_cmake_disable_psi_idle"></a>
            <code class="literal">-DDISABLE_PSI_IDLE=<em class="replaceable"><code>bool</code></em></code>
          </p><a class="indexterm" name="idm45548118849344"></a><a class="indexterm" name="idm45548118847184"></a><p>
            パフォーマンススキーマアイドルインストゥルメンテーションを除外するかどうか。 デフォルトは <code class="literal">OFF</code> (include) です。 
          </p></li><li class="listitem"><p><a name="option_cmake_disable_psi_memory"></a>
            <code class="literal">-DDISABLE_PSI_MEMORY=<em class="replaceable"><code>bool</code></em></code>
          </p><a class="indexterm" name="idm45548118841584"></a><a class="indexterm" name="idm45548118839424"></a><p>
            パフォーマンススキーマメモリーインストゥルメンテーションを除外するかどうか。 デフォルトは <code class="literal">OFF</code> (include) です。 
          </p></li><li class="listitem"><p><a name="option_cmake_disable_psi_metadata"></a>
            <code class="literal">-DDISABLE_PSI_METADATA=<em class="replaceable"><code>bool</code></em></code>
          </p><a class="indexterm" name="idm45548118833760"></a><a class="indexterm" name="idm45548118831584"></a><p>
            パフォーマンススキーマメタデータの計測を除外するかどうか。 デフォルトは <code class="literal">OFF</code> (include) です。 
          </p></li><li class="listitem"><p><a name="option_cmake_disable_psi_mutex"></a>
            <code class="literal">-DDISABLE_PSI_MUTEX=<em class="replaceable"><code>bool</code></em></code>
          </p><a class="indexterm" name="idm45548118825952"></a><a class="indexterm" name="idm45548118823792"></a><p>
            パフォーマンススキーマミューテックスのインストゥルメンテーションを除外するかどうか。 デフォルトは <code class="literal">OFF</code> (include) です。 
          </p></li><li class="listitem"><p><a name="option_cmake_disable_psi_rwlock"></a>
            <code class="literal">-DDISABLE_PSI_RWLOCK=<em class="replaceable"><code>bool</code></em></code>
          </p><a class="indexterm" name="idm45548118818160"></a><a class="indexterm" name="idm45548118816000"></a><p>
            パフォーマンススキーマ rwlock インストゥルメンテーションを除外するかどうか。 デフォルトは <code class="literal">OFF</code> (include) です。 
          </p></li><li class="listitem"><p><a name="option_cmake_disable_psi_socket"></a>
            <code class="literal">-DDISABLE_PSI_SOCKET=<em class="replaceable"><code>bool</code></em></code>
          </p><a class="indexterm" name="idm45548118810336"></a><a class="indexterm" name="idm45548118808176"></a><p>
            パフォーマンススキーマソケットインストゥルメンテーションを除外するかどうか。 デフォルトは <code class="literal">OFF</code> (include) です。 
          </p></li><li class="listitem"><p><a name="option_cmake_disable_psi_sp"></a>
            <code class="literal">-DDISABLE_PSI_SP=<em class="replaceable"><code>bool</code></em></code>
          </p><a class="indexterm" name="idm45548118802576"></a><a class="indexterm" name="idm45548118800416"></a><p>
            パフォーマンススキーマストアドプログラムインストゥルメンテーションを除外するかどうか。 デフォルトは <code class="literal">OFF</code> (include) です。 
          </p></li><li class="listitem"><p><a name="option_cmake_disable_psi_stage"></a>
            <code class="literal">-DDISABLE_PSI_STAGE=<em class="replaceable"><code>bool</code></em></code>
          </p><a class="indexterm" name="idm45548118794720"></a><a class="indexterm" name="idm45548118792560"></a><p>
            パフォーマンススキーマステージインストゥルメンテーションを除外するかどうか。 デフォルトは <code class="literal">OFF</code> (include) です。 
          </p></li><li class="listitem"><p><a name="option_cmake_disable_psi_statement"></a>
            <code class="literal">-DDISABLE_PSI_STATEMENT=<em class="replaceable"><code>bool</code></em></code>
          </p><a class="indexterm" name="idm45548118786928"></a><a class="indexterm" name="idm45548118784704"></a><p>
            パフォーマンススキーマステートメントインストゥルメンテーションを除外するかどうか。 デフォルトは <code class="literal">OFF</code> (include) です。 
          </p></li><li class="listitem"><p><a name="option_cmake_disable_psi_statement_digest"></a>
            <code class="literal">-DDISABLE_PSI_STATEMENT_DIGEST=<em class="replaceable"><code>bool</code></em></code>
          </p><a class="indexterm" name="idm45548118778928"></a><a class="indexterm" name="idm45548118776736"></a><p>
            パフォーマンススキーマ statement_digest インストゥルメンテーションを除外するかどうか。 デフォルトは <code class="literal">OFF</code> (include) です。 
          </p></li><li class="listitem"><p><a name="option_cmake_disable_psi_table"></a>
            <code class="literal">-DDISABLE_PSI_TABLE=<em class="replaceable"><code>bool</code></em></code>
          </p><a class="indexterm" name="idm45548118771008"></a><a class="indexterm" name="idm45548118768848"></a><p>
            「パフォーマンススキーマ」テーブルインストゥルメンテーションを除外するかどうか。 デフォルトは <code class="literal">OFF</code> (include) です。 
          </p></li><li class="listitem"><p><a name="option_cmake_disable_shared"></a>
            <code class="literal">-DDISABLE_SHARED=<em class="replaceable"><code>bool</code></em></code>
          </p><a class="indexterm" name="idm45548118763168"></a><a class="indexterm" name="idm45548118761008"></a><p>
            ビルド共有ライブラリを無効にし、位置依存コードをコンパイルするかどうか。 デフォルトは <code class="literal">OFF</code> (位置独立コードのコンパイル) です。 
          </p><p>
            このオプションは未使用であり、MySQL 8.0.18 で削除されました。
          </p></li><li class="listitem"><p><a name="option_cmake_disable_psi_ps"></a>
            <code class="literal">-DDISABLE_PSI_PS=<em class="replaceable"><code>bool</code></em></code>
          </p><a class="indexterm" name="idm45548118754656"></a><a class="indexterm" name="idm45548118752496"></a><p>
            パフォーマンススキーマプリペアドステートメントのインスタンスインストゥルメンテーションを除外します。 デフォルトは <code class="literal">OFF</code> (include) です。 
          </p></li><li class="listitem"><p><a name="option_cmake_disable_psi_thread"></a>
            <code class="literal">-DDISABLE_PSI_THREAD=<em class="replaceable"><code>bool</code></em></code>
          </p><a class="indexterm" name="idm45548118746816"></a><a class="indexterm" name="idm45548118744656"></a><p>
            パフォーマンススキーマスレッドインストゥルメンテーションを除外します。 デフォルトは <code class="literal">OFF</code> (include) です。 
          </p><p>
            ほかのインストゥルメンテーションはスレッドに依存しているため、インストゥルメンテーションなしで構築する場合にのみスレッドを無効にします。
          </p></li><li class="listitem"><p><a name="option_cmake_disable_psi_transaction"></a>
            <code class="literal">-DDISABLE_PSI_TRANSACTION=<em class="replaceable"><code>bool</code></em></code>
          </p><a class="indexterm" name="idm45548118738176"></a><a class="indexterm" name="idm45548118735952"></a><p>
            パフォーマンススキーマのトランザクションインストゥルメンテーションを除外します。 デフォルトは <code class="literal">OFF</code> (include) です。 
          </p></li><li class="listitem"><p><a name="option_cmake_disable_psi_data_lock"></a>
            <code class="literal">-DDISABLE_PSI_DATA_LOCK=<em class="replaceable"><code>bool</code></em></code>
          </p><a class="indexterm" name="idm45548118730352"></a><a class="indexterm" name="idm45548118728128"></a><p>
            パフォーマンススキーマデータロックインストゥルメンテーションを除外します。 デフォルトは <code class="literal">OFF</code> (include) です。 
          </p></li><li class="listitem"><p><a name="option_cmake_disable_psi_error"></a>
            <code class="literal">-DDISABLE_PSI_ERROR=<em class="replaceable"><code>bool</code></em></code>
          </p><a class="indexterm" name="idm45548118722448"></a><a class="indexterm" name="idm45548118720288"></a><p>
            パフォーマンススキーマサーバーエラーの計測を除外します。 デフォルトは <code class="literal">OFF</code> (include) です。 
          </p></li><li class="listitem"><p><a name="option_cmake_download_boost"></a>
            <code class="literal">-DDOWNLOAD_BOOST=<em class="replaceable"><code>bool</code></em></code>
          </p><a class="indexterm" name="idm45548118714672"></a><a class="indexterm" name="idm45548118712512"></a><p>
            Boost ライブラリをダウンロードするかどうか デフォルトは <code class="literal">OFF</code> です。 
          </p><p>
            Boost の使用方法の詳細は、<code class="option">WITH_BOOST</code> オプションを参照してください。
          </p></li><li class="listitem"><p><a name="option_cmake_download_boost_timeout"></a>
            <code class="literal">-DDOWNLOAD_BOOST_TIMEOUT=<em class="replaceable"><code>seconds</code></em></code>
          </p><a class="indexterm" name="idm45548118705744"></a><a class="indexterm" name="idm45548118703520"></a><p>
            Boost ライブラリをダウンロードするためのタイムアウト (秒)。 デフォルトは 600 秒です。 
          </p><p>
            Boost の使用方法の詳細は、<code class="option">WITH_BOOST</code> オプションを参照してください。
          </p></li><li class="listitem"><p><a name="option_cmake_enable_downloads"></a>
            <code class="literal">-DENABLE_DOWNLOADS=<em class="replaceable"><code>bool</code></em></code>
          </p><a class="indexterm" name="idm45548118697264"></a><a class="indexterm" name="idm45548118695104"></a><a class="indexterm" name="idm45548118693120"></a><p>
            オプションファイルをダウンロードするかどうか。 たとえば、このオプションを有効にすると、<span class="command"><strong>CMake</strong></span> は、ユニットテストを実行するためにテストスイートで使用される Google テストディストリビューション、または GCS Java ラッパーの構築に必要な Ant と JUnit をダウンロードします。 
          </p></li><li class="listitem"><p><a name="option_cmake_enable_experimental_sysvars"></a>
            <code class="literal">-DENABLE_EXPERIMENTAL_SYSVARS=<em class="replaceable"><code>bool</code></em></code>
          </p><a class="indexterm" name="idm45548118687600"></a><a class="indexterm" name="idm45548118685424"></a><a class="indexterm" name="idm45548118683408"></a><p>
            実験的な <code class="literal">InnoDB</code> システム変数を有効にするかどうか。 試験的なシステム変数は、MySQL 開発に関与するものを対象としており、開発環境またはテスト環境でのみ使用する必要があり、将来の MySQL リリースでは予告なしに削除される可能性があります。 実験システム変数については、MySQL ソースツリーの<code class="filename">/storage/innobase/handler/ha_innodb.cc</code> を参照してください。 試験的なシステム変数は、<span class="quote">「<span class="quote">PLUGIN_VAR_EXPERIMENTAL</span>」</span> を検索することで識別できます。 
          </p></li><li class="listitem"><p><a name="option_cmake_enable_gcov"></a>
            <code class="literal">-DENABLE_GCOV=<em class="replaceable"><code>bool</code></em></code>
          </p><a class="indexterm" name="idm45548118676672"></a><a class="indexterm" name="idm45548118674528"></a><p>
            gcov サポートをインクルードするかどうか (Linux のみ)。
          </p></li><li class="listitem"><p><a name="option_cmake_enable_gprof"></a>
            <code class="literal">-DENABLE_GPROF=<em class="replaceable"><code>bool</code></em></code>
          </p><a class="indexterm" name="idm45548118669712"></a><a class="indexterm" name="idm45548118667552"></a><p>
            <code class="literal">gprof</code> を有効にするかどうか (最適化された Linux ビルドのみ)。
          </p></li><li class="listitem"><p><a name="option_cmake_enabled_local_infile"></a>
            <code class="literal">-DENABLED_LOCAL_INFILE=<em class="replaceable"><code>bool</code></em></code>
          </p><a class="indexterm" name="idm45548118662048"></a><a class="indexterm" name="idm45548118659872"></a><p>
            このオプションは、MySQL クライアントライブラリのコンパイル済みのデフォルトの <code class="literal">LOCAL</code> 機能を制御します。 したがって、明示的な配置を行わないクライアントでは、MySQL ビルド時に指定された <code class="option">ENABLED_LOCAL_INFILE</code> 設定に従って、<code class="literal">LOCAL</code> 機能が無効または有効になります。 
          </p><p>
            デフォルトでは、MySQL バイナリディストリビューションのクライアントライブラリは、<code class="option">ENABLED_LOCAL_INFILE</code> を無効にしてコンパイルされます。 ソースから MySQL をコンパイルする場合は、明示的な配置を行わないクライアントで <code class="literal">LOCAL</code> 機能をそれぞれ無効にするか有効にするかに基づいて、<code class="option">ENABLED_LOCAL_INFILE</code> を無効または有効にして構成します。 
          </p><p>
            <code class="option">ENABLED_LOCAL_INFILE</code> は、クライアント側の <code class="literal">LOCAL</code> 機能のデフォルトを制御します。 サーバーの場合、<code class="literal">local_infile</code> システム変数はサーバー側の <code class="literal">LOCAL</code> 機能を制御します。 サーバーが <code class="literal">LOAD DATA LOCAL</code> ステートメントを明示的に拒否または許可するようにするには (構築時または実行時にクライアントプログラムおよびライブラリがどのように構成されているかに関係なく)、それぞれ <code class="literal">local_infile</code> を無効または有効にして <span class="command"><strong>mysqld</strong></span> を起動します。<code class="literal">local_infile</code> は実行時に設定することもできます。 <a class="xref" href="security.html#load-data-local-security" title="6.1.6 LOAD DATA LOCAL のセキュリティー上の考慮事項">セクション6.1.6「LOAD DATA LOCAL のセキュリティー上の考慮事項」</a>を参照してください。 
          </p></li><li class="listitem"><p><a name="option_cmake_enabled_profiling"></a>
            <code class="literal">-DENABLED_PROFILING=<em class="replaceable"><code>bool</code></em></code>
          </p><a class="indexterm" name="idm45548118639680"></a><a class="indexterm" name="idm45548118637520"></a><p>
            クエリープロファイリングコードを有効にするかどうか (<code class="literal">SHOW PROFILE</code> および <code class="literal">SHOW PROFILES</code> ステートメントで)。
          </p></li><li class="listitem"><p><a name="option_cmake_force_unsupported_compiler"></a>
            <code class="literal">-DFORCE_UNSUPPORTED_COMPILER=<em class="replaceable"><code>bool</code></em></code>
          </p><a class="indexterm" name="idm45548118630752"></a><a class="indexterm" name="idm45548118628512"></a><p>
            デフォルトでは、<span class="command"><strong>CMake</strong></span> はサポートされているコンパイラの最小バージョンをチェック: Visual Studio 2015 (Windows)、GCC 4.8 または Clang 3.4 (Linux)、Developer Studio 12.5 (Solaris サーバー)、Developer Studio 12.4 または GCC 4.8 (Solaris クライアントライブラリ)、Clang 3.6 (macOS)、Clang 3.4 (FreeBSD)。 このチェックを無効にするには、<code class="option">-DFORCE_UNSUPPORTED_COMPILER=ON</code> を使用します。 
          </p></li><li class="listitem"><p><a name="option_cmake_fprofile_generate"></a>
            <code class="literal">-DFPROFILE_GENERATE=<em class="replaceable"><code>bool</code></em></code>
          </p><a class="indexterm" name="idm45548118621664"></a><a class="indexterm" name="idm45548118619504"></a><p>
            プロファイルガイド付き最適化 (PGO) データを生成するかどうか。 このオプションは、GCC を使用した PGO の実験に使用できます。 <code class="option">FPROFILE_GENERATE</code> および <code class="option">FPROFILE_USE</code> の使用の詳細は、MySQL ソース配布の <code class="filename">cmake/fprofile.cmake</code> ファイルを参照してください。 これらのオプションは GCC 8 および 9 でテストされています。 
          </p><p></p><p>
            このオプションは MySQL 8.0.19 で追加されました。
          </p></li><li class="listitem"><p><a name="option_cmake_fprofile_use"></a>
            <code class="literal">-DFPROFILE_USE=<em class="replaceable"><code>bool</code></em></code>
          </p><a class="indexterm" name="idm45548118611168"></a><a class="indexterm" name="idm45548118609008"></a><p>
            プロファイルガイド付き最適化 (PGO) データを使用するかどうか。 このオプションは、GCC を使用した PGO の実験に使用できます。 <code class="option">FPROFILE_GENERATE</code> および <code class="option">FPROFILE_USE</code> の使用の詳細は、MySQL ソース配布の <code class="filename">cmake/fprofile.cmake</code> ファイルを参照してください。 これらのオプションは GCC 8 および 9 でテストされています。 
          </p><p>
            <code class="option">FPROFILE_USE</code> を有効にすると、<code class="option">WITH_LTO</code> も有効になります。
          </p><p>
            このオプションは MySQL 8.0.19 で追加されました。
          </p></li><li class="listitem"><p><a name="option_cmake_ignore_aio_check"></a>
            <code class="literal">-DIGNORE_AIO_CHECK=<em class="replaceable"><code>bool</code></em></code>
          </p><a class="indexterm" name="idm45548118599072"></a><a class="indexterm" name="idm45548118596912"></a><a class="indexterm" name="idm45548118594928"></a><p>
            Linux で <code class="option">-DBUILD_CONFIG=mysql_release</code> オプションが与えられた場合、デフォルトで <code class="literal">libaio</code> ライブラリがリンクされていなければなりません。 <code class="literal">libaio</code> がない場合、またはインストールしない場合、<code class="option">-DIGNORE_AIO_CHECK=1</code> を指定するとそのチェックを抑制できます。 
          </p></li><li class="listitem"><p><a name="option_cmake_max_indexes"></a>
            <code class="literal">-DMAX_INDEXES=<em class="replaceable"><code>num</code></em></code>
          </p><a class="indexterm" name="idm45548118587856"></a><a class="indexterm" name="idm45548118585712"></a><p>
            テーブル当たりのインデックスの最大数。 デフォルトは 64 です。 最大値は 255 です。 64 より小さい値は無視され、デフォルトの 64 が使用されます。 
          </p></li><li class="listitem"><p><a name="option_cmake_mysql_maintainer_mode"></a>
            <code class="literal">-DMYSQL_MAINTAINER_MODE=<em class="replaceable"><code>bool</code></em></code>
          </p><a class="indexterm" name="idm45548118580736"></a><a class="indexterm" name="idm45548118578512"></a><p>
            MySQL 管理者固有の開発環境を有効にするかどうか。 有効の場合、このオプションによりコンパイラの警告はエラーになります。 
          </p></li><li class="listitem"><p><a name="option_cmake_mutex_type"></a>
            <code class="literal">-DMUTEX_TYPE=<em class="replaceable"><code>type</code></em></code>
          </p><a class="indexterm" name="idm45548118573536"></a><a class="indexterm" name="idm45548118571344"></a><p>
            <code class="literal">InnoDB</code> で使用される mutex タイプ。 次のようなオプションがあります。 
          </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                <code class="literal">event</code>: イベント相互排他ロックを使用します。 これはデフォルト値であり、元の <code class="literal">InnoDB</code> mutex 実装です。 
              </p></li><li class="listitem"><p>
                <code class="literal">sys</code>: UNIX システムで POSIX mutex を使用します。 使用可能な場合は、Windows で <code class="literal">CRITICAL_SECTION</code> onjects を使用します。 
              </p></li><li class="listitem"><p>
                <code class="literal">futex</code>: 待機スレッドをスケジュールするには、条件変数のかわりに Linux futex を使用します。
              </p></li></ul></div></li><li class="listitem"><p><a name="option_cmake_mysqlx_tcp_port"></a>
            <code class="literal">-DMYSQLX_TCP_PORT=<em class="replaceable"><code>port_num</code></em></code>
          </p><a class="indexterm" name="idm45548118558816"></a><a class="indexterm" name="idm45548118556656"></a><a class="indexterm" name="idm45548118554672"></a><a class="indexterm" name="idm45548118553584"></a><a class="indexterm" name="idm45548118552496"></a><p>
            X プラグイン が TCP/IP 接続をリスニングするポート番号。 デフォルトは 33060 です。 
          </p><p>
            この値は、サーバーの起動時に <code class="literal">mysqlx_port</code> システム変数を使用して設定できます。
          </p></li><li class="listitem"><p><a name="option_cmake_mysqlx_unix_addr"></a>
            <code class="literal">-DMYSQLX_UNIX_ADDR=<em class="replaceable"><code>file_name</code></em></code>
          </p><a class="indexterm" name="idm45548118546592"></a><a class="indexterm" name="idm45548118544432"></a><p>
            サーバーが X プラグイン ソケット接続をリスニングする Unix ソケットファイルのパス。 これは絶対パス名でなければなりません。 デフォルトは<code class="filename">/tmp/mysqlx.sock</code> です。 
          </p><p>
            この値は、サーバーの起動時に <code class="literal">mysqlx_port</code> システム変数を使用して設定できます。
          </p></li><li class="listitem"><p><a name="option_cmake_mysql_project_name"></a>
            <code class="literal">-DMYSQL_PROJECT_NAME=<em class="replaceable"><code>name</code></em></code>
          </p><a class="indexterm" name="idm45548118537008"></a><a class="indexterm" name="idm45548118534848"></a><p>
            Windows または macOS の場合、プロジェクトファイル名に組み込むプロジェクト名。
          </p></li><li class="listitem"><p><a name="option_cmake_mysql_tcp_port"></a>
            <code class="literal">-DMYSQL_TCP_PORT=<em class="replaceable"><code>port_num</code></em></code>
          </p><a class="indexterm" name="idm45548118529936"></a><a class="indexterm" name="idm45548118527776"></a><a class="indexterm" name="idm45548118525792"></a><a class="indexterm" name="idm45548118524704"></a><a class="indexterm" name="idm45548118523616"></a><p>
            サーバーが TCP/IP 接続を待機するポート番号。 デフォルトは 3306 です。 
          </p><p>
            この値は、サーバー起動時に <code class="option">--port</code> オプションで設定できます。
          </p></li><li class="listitem"><p><a name="option_cmake_mysql_unix_addr"></a>
            <code class="literal">-DMYSQL_UNIX_ADDR=<em class="replaceable"><code>file_name</code></em></code>
          </p><a class="indexterm" name="idm45548118518320"></a><a class="indexterm" name="idm45548118516160"></a><p>
            サーバーがソケット接続を待機する Unix ソケットファイルのパス。 これは絶対パス名でなければなりません。 デフォルトは <code class="filename">/tmp/mysql.sock</code> です。 
          </p><p>
            この値は、サーバー起動時に <code class="option">--socket</code> オプションで設定できます。
          </p></li><li class="listitem"><p><a name="option_cmake_optimizer_trace"></a>
            <code class="literal">-DOPTIMIZER_TRACE=<em class="replaceable"><code>bool</code></em></code>
          </p><a class="indexterm" name="idm45548118509088"></a><a class="indexterm" name="idm45548118506928"></a><p>
            オプティマイザのトレースをサポートするかどうか。 「<a class="ulink" href="https://dev.mysql.com/doc/internals/en/optimizer-tracing.html" target="_top">MySQL Internals: Tracing the Optimizer</a>」を参照してください。 
          </p></li><li class="listitem"><p><a name="option_cmake_reproducible_build"></a>
            <code class="literal">-DREPRODUCIBLE_BUILD=<em class="replaceable"><code>bool</code></em></code>
          </p><a class="indexterm" name="idm45548118501296"></a><a class="indexterm" name="idm45548118499136"></a><p>
            Linux システム上のビルドの場合、このオプションはビルドの場所と時間に関係なくビルド結果を作成するために特別な注意を払うかどうかを制御します。
          </p><p>
            このオプションは MySQL 8.0.11 で追加されました。 MySQL 8.0.12 では、<code class="literal">RelWithDebInfo</code> ビルド用の <code class="literal">ON</code> にデフォルト設定されます。 
          </p></li><li class="listitem"><p><a name="option_cmake_use_ld_gold"></a>
            <code class="literal">-DUSE_LD_GOLD=<em class="replaceable"><code>bool</code></em></code>
          </p><a class="indexterm" name="idm45548118491904"></a><a class="indexterm" name="idm45548118489760"></a><p>
            GNU <span class="command"><strong>gold</strong></span> リンカーが使用可能で明示的に無効になっていない場合、<span class="command"><strong>CMake</strong></span> は構築プロセスを GNU <span class="command"><strong>gold</strong></span> リンカーにリンクします。 このリンカーの使用を無効にするには、<code class="option">-DUSE_LD_GOLD=OFF</code> オプションを指定します。 
          </p></li><li class="listitem"><p><a name="option_cmake_use_ld_lld"></a>
            <code class="literal">-DUSE_LD_LLD=<em class="replaceable"><code>bool</code></em></code>
          </p><a class="indexterm" name="idm45548118481872"></a><a class="indexterm" name="idm45548118479680"></a><p>
            構築プロセスが使用可能であり、明示的に無効になっていない場合、<span class="command"><strong>CMake</strong></span> はその構築プロセスを Clang 用の <span class="command"><strong>llvm</strong></span> <span class="command"><strong>lld</strong></span> リンカーにリンクします。 このリンカーの使用を無効にするには、<code class="option">-DUSE_LD_LLD=OFF</code> オプションを指定します。 
          </p><p>
            このオプションは MySQL 8.0.16 で追加されました。
          </p></li><li class="listitem"><p><a name="option_cmake_win_debug_no_inline"></a>
            <code class="literal">-DWIN_DEBUG_NO_INLINE=<em class="replaceable"><code>bool</code></em></code>
          </p><a class="indexterm" name="idm45548118471120"></a><a class="indexterm" name="idm45548118468960"></a><p>
            Windows で関数のインライン化を無効にするかどうか。 デフォルトは off (インライン化が有効) です。 
          </p></li><li class="listitem"><p><a name="option_cmake_with_ant"></a>
            <code class="literal">-DWITH_ANT=<em class="replaceable"><code>path_name</code></em></code>
          </p><a class="indexterm" name="idm45548118464080"></a><a class="indexterm" name="idm45548118461888"></a><p>
            GCS Java ラッパーの構築時に必要な Ant へのパスを設定します。 既存の <code class="option">WITH_BOOST</code> CMake オプションと同様の方法で動作します。 Ant tarball またはすでに解凍されたアーカイブが保存されているディレクトリのパスに <code class="option">WITH_ANT</code> を設定します。 <code class="option">WITH_ANT</code> が設定されていない場合、または特別な値 <code class="literal">system</code> を使用して設定されている場合、ビルドでは <code class="literal">$PATH</code> にバイナリ <span class="command"><strong>ant</strong></span> が存在すると想定されます。 
          </p></li><li class="listitem"><p><a name="option_cmake_with_asan"></a>
            <code class="literal">-DWITH_ASAN=<em class="replaceable"><code>bool</code></em></code>
          </p><a class="indexterm" name="idm45548118452112"></a><a class="indexterm" name="idm45548118449920"></a><p>
            AddressSanitizer をサポートするコンパイラに対して有効にするかどうか。 デフォルトはオフです。 
          </p></li><li class="listitem"><p><a name="option_cmake_with_asan_scope"></a>
            <code class="literal">-DWITH_ASAN_SCOPE=<em class="replaceable"><code>bool</code></em></code>
          </p><a class="indexterm" name="idm45548118444992"></a><a class="indexterm" name="idm45548118442832"></a><p>
            use-after-scope 検出に対して AddressSanitizer <code class="literal">-fsanitize-address-use-after-scope</code> Clang フラグを有効にするかどうか。 デフォルトはオフです。 このオプションを使用するには、<code class="literal">-DWITH_ASAN</code> も有効にする必要があります。 
          </p></li><li class="listitem"><p><a name="option_cmake_with_authentication_ldap"></a>
            <code class="literal">-DWITH_AUTHENTICATION_LDAP=<em class="replaceable"><code>bool</code></em></code>
          </p><a class="indexterm" name="idm45548118436096"></a><a class="indexterm" name="idm45548118433856"></a><a class="indexterm" name="idm45548118431840"></a><p>
            LDAP 認証プラグインを構築できない場合にエラーを報告するかどうか:
          </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                このオプションを無効 (デフォルト) にすると、必要なヘッダーファイルおよびライブラリが見つかった場合に LDAP プラグインが構築されます。 そうでない場合は、<span class="command"><strong>CMake</strong></span> によってノートが表示されます。 
              </p></li><li class="listitem"><p>
                このオプションが有効な場合、必要なヘッダーファイルおよびライブラリが見つからないと、<span class="command"><strong>CMake</strong></span> でエラーが生成され、サーバーのビルドが妨げられます。
              </p></li></ul></div></li><li class="listitem"><p><a name="option_cmake_with_authentication_pam"></a>
            <code class="literal">-DWITH_AUTHENTICATION_PAM=<em class="replaceable"><code>bool</code></em></code>
          </p><a class="indexterm" name="idm45548118422496"></a><a class="indexterm" name="idm45548118420272"></a><p>
            このプラグインを含むソースツリーの PAM 認証プラグインを構築するかどうか。 (<a class="xref" href="security.html#pam-pluggable-authentication" title="6.4.1.5 PAM プラガブル認証">セクション6.4.1.5「PAM プラガブル認証」</a>を参照してください。) このオプションが指定され、プラグインをコンパイルできない場合、ビルドは失敗します。 
          </p></li><li class="listitem"><p><a name="option_cmake_with_aws_sdk"></a>
            <code class="literal">-DWITH_AWS_SDK=<em class="replaceable"><code>path_name</code></em></code>
          </p><a class="indexterm" name="idm45548118414352"></a><a class="indexterm" name="idm45548118412192"></a><p>
            Amazon Web Services ソフトウェア開発キットの場所。
          </p></li><li class="listitem"><p><a name="option_cmake_with_boost"></a>
            <code class="literal">-DWITH_BOOST=<em class="replaceable"><code>path_name</code></em></code>
          </p><a class="indexterm" name="idm45548118407456"></a><a class="indexterm" name="idm45548118405264"></a><p>
            MySQL をビルドするには Boost ライブラリが必要です。 これらの <span class="command"><strong>CMake</strong></span> オプションを使用すると、ライブラリのソースの場所、およびそれを自動的にダウンロードするかどうかを制御できます: 
          </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                <code class="option">-DWITH_BOOST=<em class="replaceable"><code>path_name</code></em></code> では、ブーストライブラリディレクトリの場所を指定します。 <code class="literal">BOOST_ROOT</code> または <code class="literal">WITH_BOOST</code> 環境変数を設定してブーストの場所を指定することもできます。 
              </p><p>
                <code class="option">-DWITH_BOOST=system</code> も許可され、コンパイルホストの標準の場所に正しいバージョンの Boost がインストールされていることを示します。 この場合、MySQL ソース配布に含まれる任意のバージョンではなく、インストールされている Boost のバージョンが使用されます。 
              </p></li><li class="listitem"><p>
                <code class="option">-DDOWNLOAD_BOOST=<em class="replaceable"><code>bool</code></em></code> は、Boost ソースが指定された場所に存在しない場合にダウンロードするかどうかを指定します。 デフォルトは <code class="literal">OFF</code> です。 
              </p></li><li class="listitem"><p>
                Boost ライブラリをダウンロードするためのタイムアウトを秒単位で <code class="option">-DDOWNLOAD_BOOST_TIMEOUT=<em class="replaceable"><code>seconds</code></em></code> に設定します。 デフォルトは 600 秒です。 
              </p></li></ul></div><p>
            たとえば、通常、MySQL ソースツリーの <code class="filename">bld</code> サブディレクトリにオブジェクト出力を配置して MySQL をビルドする場合は、次のように Boost を使用してビルドできます:
          </p><pre class="programlisting">mkdir bld
cd bld
cmake .. -DDOWNLOAD_BOOST=ON -DWITH_BOOST=$HOME/my_boost
</pre><p>
            これにより、Boost がホームディレクトリの下の <code class="filename">my_boost</code> ディレクトリにダウンロードされます。 必要な Boost バージョンがすでに存在する場合、ダウンロードは行われません。 必要な Boost バージョンが変更されると、新しいバージョンがダウンロードされます。 
          </p><p>
            Boost がすでにローカルにインストールされていて、コンパイラが Boost ヘッダーファイルを単独で検出した場合は、前述の <span class="command"><strong>CMake</strong></span> オプションを指定する必要はありません。 ただし、MySQL に必要な Boost のバージョンが変更され、ローカルにインストールされたバージョンがアップグレードされていない場合は、ビルドの問題が発生している可能性があります。 <span class="command"><strong>CMake</strong></span> オプションを使用すると、ビルドが成功します。 
          </p><p>
            指定した場所へのブーストダウンロードを許可する前述の設定では、必要なブーストバージョンが変更された場合、<code class="literal">bld</code> フォルダを削除して再作成し、<span class="command"><strong>cmake</strong></span> ステップを再度実行する必要があります。 そうしないと、新しい Boost バージョンがダウンロードされず、コンパイルが失敗する可能性があります。 
          </p></li><li class="listitem"><p><a name="option_cmake_with_client_protocol_tracing"></a>
            <code class="literal">-DWITH_CLIENT_PROTOCOL_TRACING=<em class="replaceable"><code>bool</code></em></code>
          </p><a class="indexterm" name="idm45548118378768"></a><a class="indexterm" name="idm45548118376576"></a><p>
            クライアントライブラリにクライアント側プロトコルトレースフレームワークをビルドするかどうか。 デフォルトでは、このオプションは有効です。 
          </p><p>
            プロトコルトレースクライアントプラグインの記述の詳細は、<a class="ulink" href="https://dev.mysql.com/doc/extending-mysql/8.0/en/writing-protocol-trace-plugins.html" target="_top">Writing Protocol Trace Plugins</a> を参照してください。
          </p><p>
            <code class="option">WITH_TEST_TRACE_PLUGIN</code> オプションも参照してください。
          </p></li><li class="listitem"><p><a name="option_cmake_with_curl"></a>
            <code class="literal">-DWITH_CURL=<em class="replaceable"><code>curl_type</code></em></code>
          </p><a class="indexterm" name="idm45548118368864"></a><a class="indexterm" name="idm45548118366672"></a><p>
            <span class="command"><strong>curl</strong></span> ライブラリの場所。<em class="replaceable"><code>curl_type</code></em> は、<code class="literal">system</code> (システム <span class="command"><strong>curl</strong></span> ライブラリを使用) または <span class="command"><strong>curl</strong></span> ライブラリへのパス名です。
          </p></li><li class="listitem"><p><a name="option_cmake_with_debug"></a>
            <code class="literal">-DWITH_DEBUG=<em class="replaceable"><code>bool</code></em></code>
          </p><a class="indexterm" name="idm45548118358608"></a><a class="indexterm" name="idm45548118356416"></a><p>
            デバッグサポートを含めるかどうか。
          </p><p>
            デバッグサポートを有効にして MySQL を構成することにより、サーバーを起動するときに <code class="option">--debug="d,parser_debug"</code> オプションを使用できるようになります。 これにより、SQL ステートメントの処理に使用される Bison パーサーが、パーサートレースをサーバーの標準エラー出力にダンプします。 一般的に、この出力はエラーログに書き込まれます。 
          </p><p>
            <code class="literal">InnoDB</code> ストレージエンジンの同期デバッグチェックは <code class="literal">UNIV_DEBUG</code> で定義され、<code class="option">WITH_DEBUG</code> オプションを使用してデバッグサポートをコンパイルするときに使用できます。 デバッグサポートがでコンパイルされている場合は、<code class="literal">innodb_sync_debug</code> 構成オプションを使用して、<code class="literal">InnoDB</code> 同期デバッグチェックを有効または無効にできます。 
          </p><p>
            <code class="option">WITH_DEBUG</code> を有効にすると、デバッグ同期も有効になります。 この機能はテストとデバッグに使用されます。 コンパイルされる場合、実行時には Debug Sync はデフォルトで無効です。 有効にするには、<span class="command"><strong>mysqld</strong></span> を <code class="option">--debug-sync-timeout=<em class="replaceable"><code>N</code></em></code> オプションを使用して起動します。ここで、<em class="replaceable"><code>N</code></em> は 0 より大きいタイムアウト値です。 (デフォルト値は 0 で、Debug Sync を無効にします。) <em class="replaceable"><code>N</code></em> はそれぞれの同期ポイントのデフォルトのタイムアウトになります。 
          </p><p>
            <code class="literal">InnoDB</code> ストレージエンジンの同期デバッグチェックは、<code class="option">WITH_DEBUG</code> オプションを使用してデバッグサポートがコンパイルされている場合に使用できます。
          </p><p>
            Debug Sync 機能および同期点の使用方法についての説明は、「<a class="ulink" href="https://dev.mysql.com/doc/internals/en/test-synchronization.html" target="_top">MySQL Internals: Test Synchronization</a>」を参照してください。
          </p></li><li class="listitem"><p><a name="option_cmake_with_default_feature_set"></a>
            <code class="literal">-DWITH_DEFAULT_FEATURE_SET=<em class="replaceable"><code>bool</code></em></code>
          </p><a class="indexterm" name="idm45548118336480"></a><a class="indexterm" name="idm45548118334240"></a><p>
            <code class="filename">cmake/build_configurations/feature_set.cmake</code> からのフラグを使用するかどうか。 このオプションは MySQL 8.0.22 で削除されました。 
          </p></li><li class="listitem"><p><a name="option_cmake_with_editline"></a>
            <code class="literal">-DWITH_EDITLINE=<em class="replaceable"><code>value</code></em></code>
          </p><a class="indexterm" name="idm45548118328592"></a><a class="indexterm" name="idm45548118326432"></a><p>
            どの <code class="literal">libedit</code>/<code class="literal">editline</code> ライブラリを使用するか。 許可される値は、<code class="literal">bundled</code> (デフォルト) および <code class="literal">system</code> です。 
          </p></li><li class="listitem"><p><a name="option_cmake_with_gmock"></a>
            <code class="literal">-DWITH_GMOCK=<em class="replaceable"><code>path_name</code></em></code>
          </p><a class="indexterm" name="idm45548118318784"></a><a class="indexterm" name="idm45548118316592"></a><p>
            Google テストベースのユニットテストで使用する googlemock ディストリビューションへのパス。 オプション値は、配布 Zip ファイルへのパスです。 または、<code class="literal">WITH_GMOCK</code> 環境変数をパス名に設定します。 <span class="command"><strong>CMake</strong></span> が GitHub からディストリビューションをダウンロードできるように、<code class="option">-DENABLE_DOWNLOADS=1</code> を使用することもできます。 
          </p><p>
            Google テストベースのユニットテストを使用せずに (<code class="option">WITH_GMOCK</code> を構成して) MySQL をビルドすると、<span class="command"><strong>CMake</strong></span> によってダウンロード方法を示すメッセージが表示されます。
          </p></li><li class="listitem"><p><a name="option_cmake_with_icu"></a>
            <code class="literal">-DWITH_ICU={<em class="replaceable"><code>icu_type</code></em>|<em class="replaceable"><code>path_name</code></em>}</code>
          </p><a class="indexterm" name="idm45548118306640"></a><a class="indexterm" name="idm45548118304448"></a><p>
            MySQL では、International Components for Unicode (ICU) を使用して正規表現操作をサポートしています。 <code class="option">WITH_ICU</code> オプションは、含める ICU サポートのタイプまたは使用する ICU インストールのパス名を示します。 
          </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                <em class="replaceable"><code>icu_type</code></em> は、次のいずれかの値です:
              </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: square; "><li class="listitem"><p>
                    <code class="literal">bundled</code>: 配布にバンドルされている ICU ライブラリを使用します。 これはデフォルトであり、Windows でサポートされている唯一のオプションです。 
                  </p></li><li class="listitem"><p>
                    <code class="literal">system</code>: システム ICU ライブラリを使用します。
                  </p></li></ul></div></li><li class="listitem"><p>
                <em class="replaceable"><code>path_name</code></em> は、使用する ICU インストールのパス名です。 これは、CMake がシステムにインストールされている古いバージョンまたは正しくない ICU バージョンを検出して使用するのを防ぐことができるため、<code class="literal">system</code> の <em class="replaceable"><code>icu_type</code></em> 値を使用するよりも望ましい場合があります。 (同じことを可能にする別の方法は、<code class="option">WITH_ICU</code> を <code class="literal">system</code> に設定し、<code class="option">CMAKE_PREFIX_PATH</code> オプションを <em class="replaceable"><code>path_name</code></em> に設定することです。) 
              </p></li></ul></div></li><li class="listitem"><p><a name="option_cmake_with_innodb_extra_debug"></a>
            <code class="literal">-DWITH_INNODB_EXTRA_DEBUG=<em class="replaceable"><code>bool</code></em></code>
          </p><a class="indexterm" name="idm45548118287984"></a><a class="indexterm" name="idm45548118285760"></a><p>
            追加の InnoDB デバッグサポートを含めるかどうか。
          </p><p>
            <code class="literal">WITH_INNODB_EXTRA_DEBUG</code> を有効にすると、追加の InnoDB デバッグチェックが有効になります。 このオプションは、<code class="option">WITH_DEBUG</code> が有効な場合にのみ有効にできます。 
          </p></li><li class="listitem"><p><a name="option_cmake_with_innodb_memcached"></a>
            <code class="literal">-DWITH_INNODB_MEMCACHED=<em class="replaceable"><code>bool</code></em></code>
          </p><a class="indexterm" name="idm45548118278784"></a><a class="indexterm" name="idm45548118276560"></a><p>
            memcached 共有ライブラリ (<code class="filename">libmemcached.so</code> および <code class="filename">innodb_engine.so</code>) を生成するかどうか。
          </p></li><li class="listitem"><p><a name="option_cmake_with_jemalloc"></a>
            <code class="literal">-DWITH_JEMALLOC=<em class="replaceable"><code>bool</code></em></code>
          </p><a class="indexterm" name="idm45548118270304"></a><a class="indexterm" name="idm45548118268144"></a><p>
            <code class="option">-ljemalloc</code> とリンクするかどうか。 有効にすると、組込み <code class="literal">malloc()</code>, <code class="literal">calloc()</code>, <code class="literal">realloc()</code> および <code class="literal">free()</code> ルーチンは無効になります。 デフォルトは <code class="literal">OFF</code> です。 
          </p><p>
            <code class="option">WITH_JEMALLOC</code> と <code class="option">WITH_TCMALLOC</code> は相互に排他的です。
          </p><p>
            このオプションは MySQL 8.0.16 で追加されました。
          </p></li><li class="listitem"><p><a name="option_cmake_with_keyring_test"></a>
            <code class="literal">-DWITH_KEYRING_TEST=<em class="replaceable"><code>bool</code></em></code>
          </p><a class="indexterm" name="idm45548118256848"></a><a class="indexterm" name="idm45548118254688"></a><p>
            <code class="literal">keyring_file</code> プラグインに付属するテストプログラムをビルドするかどうか。 デフォルトは <code class="literal">OFF</code> です。 テストファイルのソースコードは、<code class="filename">plugin/keyring/keyring-test</code> ディレクトリにあります。 
          </p></li><li class="listitem"><p><a name="option_cmake_with_libevent"></a>
            <code class="literal">-DWITH_LIBEVENT=<em class="replaceable"><code>string</code></em></code>
          </p><a class="indexterm" name="idm45548118247536"></a><a class="indexterm" name="idm45548118245376"></a><p>
            どの <code class="literal">libevent</code> ライブラリを使用するか。 許可される値は、<code class="literal">bundled</code> (デフォルト) および <code class="literal">system</code> です。 MySQL 8.0.21 より前では、<code class="literal">system</code> を指定すると、システム <code class="literal">libevent</code> ライブラリが存在する場合はそれが使用され、それ以外の場合はエラーが発生します。 MySQL 8.0.21 以降では、<code class="literal">system</code> が指定されていて、システム <code class="literal">libevent</code> ライブラリが見つからない場合、エラーが発生し、バンドルされている <code class="literal">libevent</code> は使用されません。 
          </p><p>
            <code class="literal">libevent</code> ライブラリは、<code class="literal">InnoDB</code> memcached、X プラグイン、および MySQL Router に必要です。
          </p></li><li class="listitem"><p><a name="option_cmake_with_libwrap"></a>
            <code class="literal">-DWITH_LIBWRAP=<em class="replaceable"><code>bool</code></em></code>
          </p><a class="indexterm" name="idm45548118232128"></a><a class="indexterm" name="idm45548118229968"></a><p>
            <code class="literal">libwrap</code> (TCP ラッパー) サポートを含めるかどうか。
          </p></li><li class="listitem"><p><a name="option_cmake_with_lock_order"></a>
            <code class="literal">-DWITH_LOCK_ORDER=<em class="replaceable"><code>bool</code></em></code>
          </p><a class="indexterm" name="idm45548118224560"></a><a class="indexterm" name="idm45548118222400"></a><p>
            LOCK_ORDER ツールを有効にするかどうか。 デフォルトでは、このオプションは無効になっており、サーバービルドにツールは含まれていません。 ツールが有効な場合、LOCK_ORDER ツールは使用可能であり、<a class="xref" href="server-administration.html#lock-order-tool" title="5.9.3 LOCK_ORDER ツール">セクション5.9.3「LOCK_ORDER ツール」</a> で説明されているように使用できます。 
          </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
              <code class="option">WITH_LOCK_ORDER</code> オプションを有効にすると、MySQL ビルドに <span class="command"><strong>flex</strong></span> プログラムが必要になります。
            </p></div><p>
            このオプションは MySQL 8.0.17 で追加されました。
          </p></li><li class="listitem"><p><a name="option_cmake_with_lsan"></a>
            <code class="literal">-DWITH_LSAN=<em class="replaceable"><code>bool</code></em></code>
          </p><a class="indexterm" name="idm45548118213392"></a><a class="indexterm" name="idm45548118211200"></a><p>
            AddressSanitizer を使用せずに LeakSanitizer を実行するかどうか。 デフォルトは <code class="literal">OFF</code> です。 
          </p><p>
            このオプションは MySQL 8.0.16 で追加されました。
          </p></li><li class="listitem"><p><a name="option_cmake_with_lto"></a>
            <code class="literal">-DWITH_LTO=<em class="replaceable"><code>bool</code></em></code>
          </p><a class="indexterm" name="idm45548118205200"></a><a class="indexterm" name="idm45548118203008"></a><p>
            コンパイラでサポートされている場合に、リンク時オプティマイザを有効にするかどうか。 <code class="option">FPROFILE_USE</code> が有効でないかぎり、デフォルトは <code class="literal">OFF</code> です。 
          </p><p>
            このオプションは MySQL 8.0.13 で追加されました。
          </p></li><li class="listitem"><p><a name="option_cmake_with_lz4"></a>
            <code class="literal">-DWITH_LZ4=<em class="replaceable"><code>lz4_type</code></em></code>
          </p><a class="indexterm" name="idm45548118196096"></a><a class="indexterm" name="idm45548118193904"></a><p>
            <code class="option">WITH_LZ4</code> は、<code class="literal">zlib</code> サポートのソースを示します:
          </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                <code class="literal">bundled</code>: ディストリビューションにバンドルされている <code class="literal">lz4</code> ライブラリを使用します。 これはデフォルトです。 
              </p></li><li class="listitem"><p>
                <code class="literal">system</code>: システム <code class="literal">lz4</code> ライブラリを使用します。 <code class="option">WITH_LZ4</code> がこの値に設定されている場合、<span class="command"><strong>lz4_decompress</strong></span> ユーティリティはビルドされません。 この場合、かわりに system <span class="command"><strong>lz4</strong></span> コマンドを使用できます。 
              </p></li></ul></div></li><li class="listitem"><p><a name="option_cmake_with_lzma"></a>
            <code class="literal">-DWITH_LZMA=<em class="replaceable"><code>lzma_type</code></em></code>
          </p><a class="indexterm" name="idm45548118180240"></a><a class="indexterm" name="idm45548118178048"></a><p>
            含める LZMA ライブラリサポートのタイプ。<em class="replaceable"><code>lzma_type</code></em> は、次のいずれかの値です:
          </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                <code class="literal">bundled</code>: ディストリビューションにバンドルされている LZMA ライブラリを使用します。 これはデフォルトです。 
              </p></li><li class="listitem"><p>
                <code class="literal">system</code>: システム LZMA ライブラリを使用します。
              </p></li></ul></div><p>
            このオプションは MySQL 8.0.16 で削除されました。
          </p></li><li class="listitem"><p><a name="option_cmake_with_mecab"></a>
            <code class="literal">-DWITH_MECAB={disabled|system|<em class="replaceable"><code>path_name</code></em>}</code>
          </p><a class="indexterm" name="idm45548118168384"></a><a class="indexterm" name="idm45548118166192"></a><p>
            このオプションを使用して、MeCab パーサーをコンパイルします。 MeCab をデフォルトのインストールディレクトリにインストールした場合は、<code class="literal">-DWITH_MECAB=system</code> を設定します。 <code class="literal">system</code> オプションは、ネイティブパッケージ管理ユーティリティを使用してソースまたはバイナリから実行される MeCab インストールに適用されます。 MeCab をカスタムインストールディレクトリにインストールした場合は、MeCab インストールへのパスを指定します。 たとえば、<code class="literal">-DWITH_MECAB=/opt/mecab</code> です。 <code class="literal">system</code> オプションが機能しない場合は、すべての場合に MeCab インストールパスを指定する必要があります。 
          </p><p>
            関連情報については、<a class="xref" href="functions.html#fulltext-search-mecab" title="12.10.9 MeCab フルテキストパーサープラグイン">セクション12.10.9「MeCab フルテキストパーサープラグイン」</a>を参照してください。
          </p></li><li class="listitem"><p><a name="option_cmake_with_msan"></a>
            <code class="literal">-DWITH_MSAN=<em class="replaceable"><code>bool</code></em></code>
          </p><a class="indexterm" name="idm45548118156160"></a><a class="indexterm" name="idm45548118153968"></a><p>
            MemorySanitizer をサポートするコンパイラに対して有効にするかどうか。 デフォルトはオフです。 
          </p><p>
            このオプションを有効にするには、MySQL にリンクされているすべてのライブラリもオプションを有効にしてコンパイルされている必要があります。
          </p></li><li class="listitem"><p><a name="option_cmake_with_mscrt_debug"></a>
            <code class="literal">-DWITH_MSCRT_DEBUG=<em class="replaceable"><code>bool</code></em></code>
          </p><a class="indexterm" name="idm45548118148192"></a><a class="indexterm" name="idm45548118146032"></a><p>
            Visual Studio CRT メモリーリークトレースを有効にするかどうか。 デフォルトは <code class="literal">OFF</code> です。 
          </p></li><li class="listitem"><p><a name="option_cmake_with_mysqlx"></a>
            <code class="literal">-DWITH_MYSQLX=<em class="replaceable"><code>bool</code></em></code>
          </p><a class="indexterm" name="idm45548118140432"></a><a class="indexterm" name="idm45548118138288"></a><p>
            X プラグイン のサポート付きでビルドするかどうか。 デフォルトの <code class="literal">ON</code>。 <a class="xref" href="document-store.html" title="第 20 章 ドキュメントストアとしての MySQL の使用">第20章「<i>ドキュメントストアとしての MySQL の使用</i>」</a>を参照してください。 
          </p></li><li class="listitem"><p><a name="option_cmake_with_numa"></a>
            <code class="literal">-DWITH_NUMA=<em class="replaceable"><code>bool</code></em></code>
          </p><a class="indexterm" name="idm45548118132032"></a><a class="indexterm" name="idm45548118129840"></a><p>
            NUMA メモリー割当てポリシーを明示的に設定します。 <span class="command"><strong>CMake</strong></span> では、現在のプラットフォームに <code class="literal">NUMA</code> サポートがあるかどうかに基づいて、デフォルトの <code class="option">WITH_NUMA</code> 値が設定されます。 NUMA がサポートされていないプラットフォームでは、<span class="command"><strong>CMake</strong></span> は次のように動作します: 
          </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                NUMA オプションなし (通常の場合) では、<span class="command"><strong>CMake</strong></span> は正常に続行され、この警告のみが生成されます: NUMA ライブラリがないか、必要なバージョンがありません
              </p></li><li class="listitem"><p>
                <code class="option">-DWITH_NUMA=ON</code> では、<span class="command"><strong>CMake</strong></span> はこのエラーで異常終了: NUMA ライブラリがないか、必要なバージョンがありません
              </p></li></ul></div></li><li class="listitem"><p><a name="option_cmake_with_protobuf"></a>
            <code class="literal">-DWITH_PROTOBUF=<em class="replaceable"><code>protobuf_type</code></em></code>
          </p><a class="indexterm" name="idm45548118116896"></a><a class="indexterm" name="idm45548118114736"></a><p>
            使用するプロトコルバッファパッケージ。<em class="replaceable"><code>protobuf_type</code></em> は、次のいずれかの値です:
          </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                <code class="literal">bundled</code>: 配布にバンドルされているパッケージを使用します。 これはデフォルトです。 オプションで、<code class="option">INSTALL_PRIV_LIBDIR</code> を使用して動的 Protobuf ライブラリディレクトリを変更します。 
              </p></li><li class="listitem"><p>
                <code class="literal">system</code>: システムにインストールされているパッケージを使用します。
              </p></li></ul></div><p>
            その他の値は無視され、<code class="literal">bundled</code> にフォールバックされます。
          </p></li><li class="listitem"><p><a name="option_cmake_with_rapid"></a>
            <code class="literal">-DWITH_RAPID=<em class="replaceable"><code>bool</code></em></code>
          </p><a class="indexterm" name="idm45548118103504"></a><a class="indexterm" name="idm45548118101312"></a><p>
            迅速な開発サイクルプラグインを構築するかどうか。 有効にすると、これらのプラグインを含むビルドツリーに <code class="filename">rapid</code> ディレクトリが作成されます。 無効にすると、ビルドツリーに <code class="filename">rapid</code> ディレクトリは作成されません。 <code class="filename">rapid</code> ディレクトリがソースツリーから削除されないかぎり、デフォルトは <code class="literal">ON</code> です。この場合、デフォルトは <code class="literal">OFF</code> になります。 
          </p></li><li class="listitem"><p><a name="option_cmake_with_rapidjson"></a>
            <code class="literal">-DWITH_RAPIDJSON=<em class="replaceable"><code>rapidjson_type</code></em></code>
          </p><a class="indexterm" name="idm45548118092272"></a><a class="indexterm" name="idm45548118090112"></a><p>
            含める RapidJSON ライブラリサポートのタイプ。<em class="replaceable"><code>rapidjson_type</code></em> は、次のいずれかの値です:
          </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                <code class="literal">bundled</code>: ディストリビューションにバンドルされている RapidJSON ライブラリを使用します。 これはデフォルトです。 
              </p></li><li class="listitem"><p>
                <code class="literal">system</code>: システム RapidJSON ライブラリを使用します。 バージョン 1.1.0 以上が必要です。 
              </p></li></ul></div><p>
            このオプションは MySQL 8.0.13 で追加されました。
          </p></li><li class="listitem"><p><a name="option_cmake_with_re2"></a>
            <code class="literal">-DWITH_RE2=<em class="replaceable"><code>re2_type</code></em></code>
          </p><a class="indexterm" name="idm45548118080464"></a><a class="indexterm" name="idm45548118078272"></a><p>
            含める RE2 ライブラリサポートのタイプ。<em class="replaceable"><code>re2_type</code></em> は、次のいずれかの値です:
          </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                <code class="literal">bundled</code>: ディストリビューションにバンドルされている RE2 ライブラリを使用します。 これはデフォルトです。 
              </p></li><li class="listitem"><p>
                <code class="literal">system</code>: システム RE2 ライブラリを使用します。
              </p></li></ul></div><p>
            MySQL 8.0.18 の時点で、MySQL は RE2 ライブラリを使用しなくなり、このオプションは削除されました。
          </p></li><li class="listitem"><p><a name="option_cmake_with_router"></a>
            <code class="literal">-DWITH_ROUTER=<em class="replaceable"><code>bool</code></em></code>
          </p><a class="indexterm" name="idm45548118068464"></a><a class="indexterm" name="idm45548118066320"></a><p>
            MySQL Router をビルドするかどうか。 デフォルトは <code class="literal">ON</code> です。 
          </p><p>
            このオプションは MySQL 8.0.16 で追加されました。
          </p></li><li class="listitem"><p><a name="option_cmake_with_ssl"></a>
            <code class="literal">-DWITH_SSL={<em class="replaceable"><code>ssl_type</code></em></code>|<em class="replaceable"><code>path_name</code></em>}
          </p><a class="indexterm" name="idm45548118059872"></a><a class="indexterm" name="idm45548118057680"></a><p>
            暗号化された接続、乱数生成のエントロピ、およびその他の暗号化関連の操作をサポートするには、SSL ライブラリを使用して MySQL を構築する必要があります。 このオプションは、使用する SSL ライブラリを指定します。 
          </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                <em class="replaceable"><code>ssl_type</code></em> には、次の値のいずれかを指定できます。
              </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: square; "><li class="listitem"><p>
                    <code class="literal">system</code>: システム OpenSSL ライブラリを使用します。 これはデフォルトです。 
                  </p><p>
                    macOS および Windows では、<code class="literal">system</code> を使用して、<em class="replaceable"><code>path_name</code></em> を使用して CMake が起動されたときに手動でインストールされた OpenSSL ライブラリを指しているかのように構築するように MySQL を構成します。 これは、システム SSL ライブラリがないためです。 macOS では、<code class="literal">system</code> で検出できるように、<span class="emphasis"><em>brew install openssl</em></span> は<code class="filename">/usr/local/opt/openssl</code> にインストールされます。 Windows では、<span class="emphasis"><em>%ProgramFiles%/OpenSSL</em></span>、<span class="emphasis"><em>%ProgramFiles%/OpenSSL-Win32</em></span>、<span class="emphasis"><em>%ProgramFiles%/OpenSSL-Win64</em></span>、<span class="emphasis"><em>C:/OpenSSL</em></span>、<span class="emphasis"><em>C:/OpenSSL-Win32</em></span> および <span class="emphasis"><em>C:/OpenSSL-Win64</em></span> がチェックされます。 
                  </p></li><li class="listitem"><p>
                    <code class="literal">yes</code>: これは <code class="literal">system</code> のシノニムです。
                  </p></li></ul></div></li><li class="listitem"><p>
                <em class="replaceable"><code>path_name</code></em> は、使用する OpenSSL インストールのパス名です。 これは、CMake がシステムにインストールされている古いバージョンまたは正しくない OpenSSL バージョンを検出して使用するのを防ぐことができるため、<code class="literal">system</code> の <em class="replaceable"><code>ssl_type</code></em> 値を使用するよりも望ましい場合があります。 (同じことを可能にする別の方法は、<code class="option">WITH_SSL</code> を <code class="literal">system</code> に設定し、<code class="option">CMAKE_PREFIX_PATH</code> オプションを <em class="replaceable"><code>path_name</code></em> に設定することです。) 
              </p></li></ul></div><p>
            SSL ライブラリの構成の詳細は、を参照してください <a class="xref" href="installing.html#source-ssl-library-configuration" title="2.9.6 SSL ライブラリサポートの構成">セクション2.9.6「SSL ライブラリサポートの構成」</a>.
          </p></li><li class="listitem"><p><a name="option_cmake_with_systemd"></a>
            <code class="literal">-DWITH_SYSTEMD=<em class="replaceable"><code>bool</code></em></code>
          </p><a class="indexterm" name="idm45548118032640"></a><a class="indexterm" name="idm45548118030480"></a><a class="indexterm" name="idm45548118028496"></a><p>
            systemd サポートファイルのインストールを有効にするかどうか。 デフォルトでは、このオプションは無効です。 有効にすると、systemd サポートファイルがインストールされ、<span class="command"><strong>mysqld_safe</strong></span> や System V 初期化スクリプトなどのスクリプトはインストールされません。 systemd を使用できないプラットフォームでは、<code class="option">WITH_SYSTEMD</code> を有効にすると、<span class="command"><strong>CMake</strong></span> からエラーが発生します。 
          </p><p>
            systemd の使用の詳細は、<a class="xref" href="installing.html#using-systemd" title="2.5.9 systemd を使用した MySQL Server の管理">セクション2.5.9「systemd を使用した MySQL Server の管理」</a> を参照してください。 このセクションでは、<code class="literal">[mysqld_safe]</code>オプショングループで以前に指定されたオプションの指定についても説明します。 systemd の使用時に <span class="command"><strong>mysqld_safe</strong></span> はインストールされないため、このようなオプションは別の方法で指定する必要があります。 
          </p></li><li class="listitem"><p><a name="option_cmake_with_system_libs"></a>
            <code class="literal">-DWITH_SYSTEM_LIBS=<em class="replaceable"><code>bool</code></em></code>
          </p><a class="indexterm" name="idm45548118017584"></a><a class="indexterm" name="idm45548118015424"></a><p>
            このオプションは、明示的に設定されていない次の <span class="command"><strong>CMake</strong></span> オプションのいずれかの <code class="literal">system</code> 値を設定する<span class="quote">「<span class="quote">アンブレラ</span>」</span>オプションとして機能: <code class="option">WITH_CURL</code>, <code class="option">WITH_EDITLINE</code>, <code class="option">WITH_ICU</code>, <code class="option">WITH_LIBEVENT</code>, <code class="option">WITH_LZ4</code>, <code class="option">WITH_LZMA</code>, <code class="option">WITH_PROTOBUF</code>, <code class="option">WITH_RE2</code>, <code class="option">WITH_SSL</code>, <code class="option">WITH_ZLIB</code>, <code class="option">WITH_ZSTD</code>。
          </p></li><li class="listitem"><p><a name="option_cmake_with_systemd_debug"></a>
            <code class="literal">-DWITH_SYSTEMD_DEBUG=<em class="replaceable"><code>bool</code></em></code>
          </p><a class="indexterm" name="idm45548118001056"></a><a class="indexterm" name="idm45548117998896"></a><p>
            systemd を使用して MySQL を実行するプラットフォームについて、追加の systemd デバッグ情報を生成するかどうか。 デフォルトは <code class="literal">OFF</code> です。 
          </p><p>
            このオプションは MySQL 8.0.22 で追加されました。
          </p></li><li class="listitem"><p><a name="option_cmake_with_tcmalloc"></a>
            <code class="literal">-DWITH_TCMALLOC=<em class="replaceable"><code>bool</code></em></code>
          </p><a class="indexterm" name="idm45548117992656"></a><a class="indexterm" name="idm45548117990496"></a><p>
            <code class="option">-ltcmalloc</code> とリンクするかどうか。 有効にすると、組込み <code class="literal">malloc()</code>, <code class="literal">calloc()</code>, <code class="literal">realloc()</code> および <code class="literal">free()</code> ルーチンは無効になります。 デフォルトは <code class="literal">OFF</code> です。 
          </p><p>
            <code class="option">WITH_TCMALLOC</code> と <code class="option">WITH_JEMALLOC</code> は相互に排他的です。
          </p><p>
            このオプションは MySQL 8.0.22 で追加されました。
          </p></li><li class="listitem"><p><a name="option_cmake_with_test_trace_plugin"></a>
            <code class="literal">-DWITH_TEST_TRACE_PLUGIN=<em class="replaceable"><code>bool</code></em></code>
          </p><a class="indexterm" name="idm45548117979232"></a><a class="indexterm" name="idm45548117977008"></a><p>
            テストプロトコルトレースクライアントプラグインをビルドするかどうか (<a class="ulink" href="https://dev.mysql.com/doc/extending-mysql/8.0/en/test-protocol-trace-plugin.html" target="_top">Using the Test Protocol Trace Plugin</a> を参照)。 デフォルトでは、このオプションは無効です。 <code class="option">WITH_CLIENT_PROTOCOL_TRACING</code> オプションが有効になっていないかぎり、このオプションを有効にしても効果はありません。 MySQL が両方のオプションを有効にして構成されている場合、<code class="literal">libmysqlclient</code> クライアントライブラリはテストプロトコルトレースプラグインが組み込まれた状態で構築され、すべての標準 MySQL クライアントがプラグインをロードします。 ただし、テストプラグインが有効になっていても、デフォルトでは何の効果もありません。 プラグインの制御は、環境変数を使用して行います。<a class="ulink" href="https://dev.mysql.com/doc/extending-mysql/8.0/en/test-protocol-trace-plugin.html" target="_top">Using the Test Protocol Trace Plugin</a> を参照してください。 
          </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
              独自のプロトコルトレースプラグインを使用する場合は、<code class="option">WITH_TEST_TRACE_PLUGIN</code> オプションを有効にしないでください。このようなプラグインは一度に 1 つのみロードでき、別のプラグインをロードしようとするとエラーが発生するためです。 テストプロトコルトレースプラグインを有効にして MySQL をすでに構築し、その動作を確認している場合は、独自のプラグインを使用する前に MySQL を再構築する必要があります。 
            </p></div><p>
            トレースプラグインの書込みの詳細は、<a class="ulink" href="https://dev.mysql.com/doc/extending-mysql/8.0/en/writing-protocol-trace-plugins.html" target="_top">Writing Protocol Trace Plugins</a> を参照してください。
          </p></li><li class="listitem"><p><a name="option_cmake_with_tsan"></a>
            <code class="literal">-DWITH_TSAN=<em class="replaceable"><code>bool</code></em></code>
          </p><a class="indexterm" name="idm45548117964272"></a><a class="indexterm" name="idm45548117962080"></a><p>
            ThreadSanitizer をサポートするコンパイラに対して有効にするかどうか。 デフォルトはオフです。 
          </p></li><li class="listitem"><p><a name="option_cmake_with_ubsan"></a>
            <code class="literal">-DWITH_UBSAN=<em class="replaceable"><code>bool</code></em></code>
          </p><a class="indexterm" name="idm45548117957232"></a><a class="indexterm" name="idm45548117955040"></a><p>
            未定義の動作サニタイザをサポートするコンパイラに対して、サニタイザを有効にするかどうか。 デフォルトはオフです。 
          </p></li><li class="listitem"><p><a name="option_cmake_with_unit_tests"></a>
            <code class="literal">-DWITH_UNIT_TESTS={ON|OFF}</code>
          </p><a class="indexterm" name="idm45548117950352"></a><a class="indexterm" name="idm45548117948144"></a><p>
            有効な場合は、ユニットテストを使用して MySQL をコンパイルします。 サーバーがコンパイルされていない場合を除き、デフォルトは ON です。 
          </p></li><li class="listitem"><p><a name="option_cmake_with_unixodbc"></a>
            <code class="literal">-DWITH_UNIXODBC=<em class="replaceable"><code>1</code></em></code>
          </p><a class="indexterm" name="idm45548117943104"></a><a class="indexterm" name="idm45548117940944"></a><p>
            Connector/ODBC に関して、unixODBC サポートを有効にします。
          </p></li><li class="listitem"><p><a name="option_cmake_with_valgrind"></a>
            <code class="literal">-DWITH_VALGRIND=<em class="replaceable"><code>bool</code></em></code>
          </p><a class="indexterm" name="idm45548117936176"></a><a class="indexterm" name="idm45548117934016"></a><p>
            Valgrind ヘッダーファイルをコンパイルするかどうか。これにより、Valgrind API が MySQL コードに公開されます。 デフォルトは <code class="literal">OFF</code> です。 
          </p><p>
            Valgrind 対応のデバッグビルドを生成するには、<code class="option">-DWITH_VALGRIND=1</code> は通常 <code class="option">-DWITH_DEBUG=1</code> と組み合わされます。 <a class="ulink" href="https://dev.mysql.com/doc/internals/en/debug-configurations.html" target="_top">Building Debug Configurations</a> を参照してください。 
          </p></li><li class="listitem"><p><a name="option_cmake_with_zlib"></a>
            <code class="literal">-DWITH_ZLIB=<em class="replaceable"><code>zlib_type</code></em></code>
          </p><a class="indexterm" name="idm45548117925488"></a><a class="indexterm" name="idm45548117923296"></a><p>
            一部の機能では、サーバーが <code class="literal">COMPRESS()</code> および <code class="literal">UNCOMPRESS()</code> 関数などの圧縮ライブラリサポートでビルドされていること、およびクライアント/サーバープロトコルの圧縮を必要とします。 <code class="option">WITH_ZLIB</code> は <code class="literal">zlib</code> サポートのソースを示します。 
          </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                <code class="literal">bundled</code>: 配布にバンドルされた <code class="literal">zlib</code> ライブラリを使用します。 これはデフォルトです。 
              </p></li><li class="listitem"><p>
                <code class="literal">system</code>: システムの <code class="literal">zlib</code> ライブラリを使用します。 <code class="option">WITH_ZLIB</code> がこの値に設定されている場合、<span class="command"><strong>zlib_decompress</strong></span> ユーティリティはビルドされません。 この場合、かわりに system <span class="command"><strong>openssl zlib</strong></span> コマンドを使用できます。 
              </p></li></ul></div></li><li class="listitem"><p><a name="option_cmake_with_zstd"></a>
            <code class="literal">-DWITH_ZSTD=<em class="replaceable"><code>zstd_type</code></em></code>
          </p><a class="indexterm" name="idm45548117907264"></a><a class="indexterm" name="idm45548117905072"></a><p>
            <code class="literal">zstd</code> アルゴリズムを使用した接続圧縮 (<a class="xref" href="programs.html#connection-compression-control" title="4.2.8 接続圧縮制御">セクション4.2.8「接続圧縮制御」</a> を参照) では、<code class="literal">zstd</code> ライブラリのサポートを使用してサーバーを構築する必要があります。 <code class="option">WITH_ZSTD</code> は、<code class="literal">zstd</code> サポートのソースを示します: 
          </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                <code class="literal">bundled</code>: ディストリビューションにバンドルされている <code class="literal">zstd</code> ライブラリを使用します。 これはデフォルトです。 
              </p></li><li class="listitem"><p>
                <code class="literal">system</code>: システム <code class="literal">zstd</code> ライブラリを使用します。
              </p></li></ul></div><p>
            このオプションは MySQL 8.0.18 で追加されました。
          </p></li></ul></div></div><div class="simplesect"><div class="titlepage"><div><div><h4 class="title"><a name="cmake-compiler-flags"></a>コンパイラフラグ</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="option_cmake_cmake_c_flags"></a>
            <code class="literal">-DCMAKE_C_FLAGS="<em class="replaceable"><code>flags</code></em></code>"
          </p><a class="indexterm" name="idm45548117889072"></a><a class="indexterm" name="idm45548117886912"></a><p>
            C コンパイラのフラグ。
          </p></li><li class="listitem"><p><a name="option_cmake_cmake_cxx_flags"></a>
            <code class="literal">-DCMAKE_CXX_FLAGS="<em class="replaceable"><code>flags</code></em></code>"
          </p><a class="indexterm" name="idm45548117882192"></a><a class="indexterm" name="idm45548117880032"></a><p>
            C++ コンパイラのフラグ。
          </p></li><li class="listitem"><p><a name="option_cmake_with_default_compiler_options"></a>
            <code class="literal">-DWITH_DEFAULT_COMPILER_OPTIONS=<em class="replaceable"><code>bool</code></em></code>
          </p><a class="indexterm" name="idm45548117875216"></a><a class="indexterm" name="idm45548117873024"></a><p>
            <code class="filename">cmake/build_configurations/compiler_options.cmake</code> からのフラグを使用するかどうか。
          </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
              すべての最適化フラグは、MySQL ビルドチームによって慎重に選択およびテストされています。 オーバーライドすると予期しない結果になることがあります。自己責任において行なってください。 
            </p></div></li></ul></div><p>
        独自の C および C++ コンパイラフラグを指定するには、最適化に影響しないフラグの場合は <code class="option">CMAKE_C_FLAGS</code> および <code class="option">CMAKE_CXX_FLAGS</code> CMake オプションを使用します。
      </p><p>
        独自のコンパイラフラグを提供する場合、<code class="option">CMAKE_BUILD_TYPE</code> も指定するとよいでしょう。
      </p><p>
        たとえば、32 ビットリリースビルドを 64 ビット Linux マシンに作成するには次のようにします。
      </p><pre class="programlisting">mkdir bld
cd bld
cmake .. -DCMAKE_C_FLAGS=-m32 \
  -DCMAKE_CXX_FLAGS=-m32 \
  -DCMAKE_BUILD_TYPE=RelWithDebInfo
</pre><p>
        最適化に影響するフラグ (<code class="option">-O<em class="replaceable"><code>number</code></em></code>) をセットする場合は、<code class="option">CMAKE_C_FLAGS_<em class="replaceable"><code>build_type</code></em></code> および/または <code class="option">CMAKE_CXX_FLAGS_<em class="replaceable"><code>build_type</code></em></code> オプションをセットする必要があります。ここで、<em class="replaceable"><code>build_type</code></em> は <code class="option">CMAKE_BUILD_TYPE</code> 値に対応します。 デフォルトのビルドタイプ (<code class="literal">RelWithDebInfo</code>) に異なる最適化を指定するには、<code class="option">CMAKE_C_FLAGS_RELWITHDEBINFO</code> および <code class="option">CMAKE_CXX_FLAGS_RELWITHDEBINFO</code> オプションをセットします。 たとえば、Linux で <code class="option">-O3</code> とデバッグシンボルを使用してコンパイルするには、次のようにします。 
      </p><pre class="programlisting">cmake .. -DCMAKE_C_FLAGS_RELWITHDEBINFO="-O3 -g" \
  -DCMAKE_CXX_FLAGS_RELWITHDEBINFO="-O3 -g"
</pre></div><div class="simplesect"><div class="titlepage"><div><div><h4 class="title"><a name="cmake-mysql-cluster-options"></a>NDB Cluster をコンパイルするための CMake オプション</h4></div></div></div><p>
        NDB Cluster サポートを使用して MySQL 8.0 ソースを構築する場合は、次のオプションを使用します。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="option_cmake_memcached_home"></a>
            <code class="literal">-DMEMCACHED_HOME=<em class="replaceable"><code>dir_name</code></em></code>
          </p><a class="indexterm" name="idm45548117850608"></a><a class="indexterm" name="idm45548117848448"></a><p>
            <em class="replaceable"><code>dir_name</code></em> によって示されるシステムディレクトリにインストールされている memcached (バージョン 1.6 以降) を使用してビルドを実行します。 ビルドに使用されるこのインストールからのファイルは、memcached バイナリ、ヘッダーファイル、およびライブラリに加えて、<code class="literal">memcached_utilities</code> ライブラリおよびヘッダーファイル <code class="filename">engine_testapp.h</code> を含みます。 
          </p><p>
            <code class="literal">ndbmemcache</code> を、バンドルの memcached ソースを使用してビルドする場合 (<code class="option">WITH_BUNDLED_MEMCACHED</code> オプション)、このオプションはセットしないでください。すなわち、デフォルトでバンドルのソースが使用されます。
          </p><p>
            SASL 承認および <code class="literal">dtrace</code> サポートを提供するための追加の <span class="command"><strong>CMake</strong></span> オプションは外部ソースから <span class="command"><strong>memcached</strong></span> をコンパイルするときに使用できますが、NDB Cluster にバンドルされている <span class="command"><strong>memcached</strong></span> ソースではこれらのオプションは現在有効になっていません。
          </p></li><li class="listitem"><p><a name="option_cmake_ndb_utils_link_dynamic"></a>
            <code class="literal">-NDB_UTILS_LINK_DYNAMIC={ON|OFF}</code>
          </p><a class="indexterm" name="idm45548117835376"></a><a class="indexterm" name="idm45548117833344"></a><p>
            <span class="command"><strong>ndb_drop_table</strong></span> などの NDB ユーティリティーを <code class="literal">ndbclient</code> と静的にリンクするか (<code class="literal">OFF</code>)、動的にリンクするか (<code class="literal">ON</code>) を制御します。<code class="literal">OFF</code> (静的リンク) がデフォルトです。 通常、静的リンクは、<code class="literal">LD_LIBRARY_PATH</code> の問題を回避するため、または複数のバージョンの <code class="literal">ndbclient</code> がインストールされている場合に、これらを構築する場所で使用されます。 このオプションは、Docker イメージを作成することを目的としており、ターゲット環境が正確に制御される可能性があり、イメージサイズを小さくすることが望ましい場合もあります。 
          </p><p>
            NDB 8.0.22 に追加されました。
          </p></li><li class="listitem"><p><a name="option_cmake_with_bundled_libevent"></a>
            <code class="literal">-DWITH_BUNDLED_LIBEVENT={ON|OFF}</code>
          </p><a class="indexterm" name="idm45548117822416"></a><a class="indexterm" name="idm45548117820192"></a><p>
            <code class="literal">ndbmemcached</code> サポートを使用して NDB Cluster を構築する場合は、NDB Cluster ソースに含まれている <code class="literal">libevent</code> を使用します。 デフォルトで有効。 <code class="literal">OFF</code> では、かわりにシステム <code class="literal">libevent</code> が使用されます。 
          </p></li><li class="listitem"><p><a name="option_cmake_with_bundled_memcached"></a>
            <code class="literal">-DWITH_BUNDLED_MEMCACHED={ON|OFF}</code>
          </p><a class="indexterm" name="idm45548117812640"></a><a class="indexterm" name="idm45548117810416"></a><p>
            NDB Cluster ソースツリーに含まれる memcached ソースを構築し、<code class="literal">ndbmemcache</code> エンジンの構築時に結果の memcached サーバーを使用します。 この場合、<span class="command"><strong>make install</strong></span> は <span class="command"><strong>memcached</strong></span> バイナリをインストール <code class="filename">bin</code> ディレクトリに配置し、<code class="literal">ndbmemcache</code> エンジン共有ライブラリファイル <code class="filename">ndb_engine.so</code> をインストール <code class="filename">lib</code> ディレクトリに配置します。 
          </p><p>
            このオプションはデフォルトで ON です。
          </p></li><li class="listitem"><p><a name="option_cmake_with_classpath"></a>
            <code class="literal">-DWITH_CLASSPATH=<em class="replaceable"><code>path</code></em></code>
          </p><a class="indexterm" name="idm45548117799552"></a><a class="indexterm" name="idm45548117797392"></a><p>
            NDB Cluster Connector for Java を構築するためのクラスパスを設定します。 デフォルトは空です。 <code class="option">-DWITH_NDB_JAVA=OFF</code> を使用する場合、このオプションは無視されます。 
          </p></li><li class="listitem"><p><a name="option_cmake_with_error_insert"></a>
            <code class="literal">-DWITH_ERROR_INSERT={ON|OFF}</code>
          </p><a class="indexterm" name="idm45548117791936"></a><a class="indexterm" name="idm45548117789728"></a><p>
            <code class="literal">NDB</code> カーネルのエラーインジェクションを有効化します。 テスト専用です。本番環境のバイナリのビルドに使用することは意図していません。 デフォルトは <code class="literal">OFF</code> です。 
          </p></li><li class="listitem"><p><a name="option_cmake_with_ndbcluster_storage_engine"></a>
            <code class="literal">-DWITH_NDBCLUSTER_STORAGE_ENGINE={ON|OFF}</code>
          </p><a class="indexterm" name="idm45548117783328"></a><a class="indexterm" name="idm45548117781072"></a><p>
            これは <code class="option">WITH_NDBCLUSTER</code> のエイリアスです。
          </p></li><li class="listitem"><p><a name="option_cmake_with_ndbcluster"></a>
            <code class="literal">-DWITH_NDBCLUSTER={ON|OFF}</code>
          </p><a class="indexterm" name="idm45548117775872"></a><a class="indexterm" name="idm45548117773664"></a><p>
            <span class="command"><strong>mysqld</strong></span> で <code class="literal">NDB</code> (<code class="literal">NDBCLUSTER</code>) ストレージエンジンのサポートのビルドおよびリンク。 デフォルトは <code class="literal">ON</code> です。 
          </p></li><li class="listitem"><p><a name="option_cmake_with_ndbmtd"></a>
            <code class="literal">-DWITH_NDBMTD={ON|OFF}</code>
          </p><a class="indexterm" name="idm45548117765920"></a><a class="indexterm" name="idm45548117763776"></a><p>
            マルチスレッドデータノード実行可能ファイル <span class="command"><strong>ndbmtd</strong></span> を構築します。 デフォルトは <code class="literal">ON</code> です。 
          </p></li><li class="listitem"><p><a name="option_cmake_with_ndb_binlog"></a>
            <code class="literal">-DWITH_NDB_BINLOG={ON|OFF}</code>
          </p><a class="indexterm" name="idm45548117757824"></a><a class="indexterm" name="idm45548117755616"></a><p>
            このオプションを使用して、<span class="command"><strong>mysqld</strong></span> ビルド内でデフォルトでバイナリロギングを有効にします。 デフォルトで ON です。 
          </p></li><li class="listitem"><p><a name="option_cmake_with_ndb_debug"></a>
            <code class="literal">-DWITH_NDB_DEBUG={ON|OFF}</code>
          </p><a class="indexterm" name="idm45548117750176"></a><a class="indexterm" name="idm45548117747968"></a><p>
            NDB Cluster バイナリのデバッグバージョンの構築を有効にします。 デフォルトで OFF です。 
          </p></li><li class="listitem"><p><a name="option_cmake_with_ndb_java"></a>
            <code class="literal">-DWITH_NDB_JAVA={ON|OFF}</code>
          </p><a class="indexterm" name="idm45548117743312"></a><a class="indexterm" name="idm45548117741104"></a><p>
            <code class="literal">ClusterJ</code> を含む Java サポートを使用した NDB Cluster の構築を有効にします。
          </p><p>
            このオプションはデフォルトで ON です。 NDB Cluster を Java サポート付きでコンパイルしない場合は、<span class="command"><strong>CMake</strong></span> の実行時に <code class="option">-DWITH_NDB_JAVA=OFF</code> を指定して明示的に無効にする必要があります。 そうしないと、Java が検出できない場合にビルドの構成が失敗します。 
          </p></li><li class="listitem"><p><a name="option_cmake_with_ndb_port"></a>
            <code class="literal">-DWITH_NDB_PORT=<em class="replaceable"><code>port</code></em></code>
          </p><a class="indexterm" name="idm45548117733312"></a><a class="indexterm" name="idm45548117731152"></a><p>
            この <em class="replaceable"><code>port</code></em> をデフォルトで使用するように構築された NDB Cluster 管理サーバー (<span class="command"><strong>ndb_mgmd</strong></span>) を生成します。 このオプションがセットされていない場合、結果の管理サーバーはデフォルトでポート 1186 を使用しようとします。 
          </p></li><li class="listitem"><p><a name="option_cmake_with_ndb_test"></a>
            <code class="literal">-DWITH_NDB_TEST={ON|OFF}</code>
          </p><a class="indexterm" name="idm45548117725104"></a><a class="indexterm" name="idm45548117722896"></a><p>
            有効の場合、NDB API テストプログラムをインクルードします。 デフォルトは OFF です。 
          </p></li><li class="listitem"><p><a name="option_cmake_with_plugin_ndbcluster"></a>
            <code class="literal">-DWITH_PLUGIN_NDBCLUSTER={ON|OFF}</code>
          </p><a class="indexterm" name="idm45548117718240"></a><a class="indexterm" name="idm45548117716016"></a><p>
            <code class="option">WITH_NDBCLUSTER</code> のエイリアス。
          </p></li></ul></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="compilation-problems"></a>2.9.8 MySQL のコンパイルに関する問題</h3></div></div></div><a class="indexterm" name="idm45548117711152"></a><a class="indexterm" name="idm45548117708976"></a><a class="indexterm" name="idm45548117706880"></a><a class="indexterm" name="idm45548117705536"></a><a class="indexterm" name="idm45548117704144"></a><p>
      多くの問題の解決方法には再構成が含まれます。 再構成を行う場合は、次に注意してください。 
    </p><a class="indexterm" name="idm45548117701328"></a><a class="indexterm" name="idm45548117699936"></a><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          <span class="command"><strong>CMake</strong></span> を以前に実行したあとで実行すると、以前の起動時に収集した情報を使用する場合があります。 この情報は <code class="filename">CMakeCache.txt</code> に格納されています。 <span class="command"><strong>CMake</strong></span> が起動すると、情報がまだ正しいことを前提として、そのファイルが検索され、その内容 (存在する場合) が読み取られます。 この仮定は再構成した場合には無効です。 
        </p></li><li class="listitem"><p>
          <span class="command"><strong>CMake</strong></span> を実行するたびに、<span class="command"><strong>make</strong></span> を再実行して再コンパイルする必要があります。 しかし、前のビルドの古いオブジェクトファイルが異なる構成オプションでコンパイルされている場合、それらを最初に削除する場合もあります。 
        </p></li></ul></div><p>
      古いオブジェクトファイルまたは構成情報が使用されることを予防するために、<span class="command"><strong>CMake</strong></span> を再実行する前に次のコマンドを実行します。
    </p><p>
      Unix の場合:
    </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>make clean</code></strong>
shell&gt; <strong class="userinput"><code>rm CMakeCache.txt</code></strong>
</pre><p>
      Windows の場合:
    </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>devenv MySQL.sln /clean</code></strong>
shell&gt; <strong class="userinput"><code>del CMakeCache.txt</code></strong>
</pre><p>
      ソースツリー外でビルドする場合、<span class="command"><strong>CMake</strong></span> を再実行する前にビルドディレクトリを削除して再作成します。 ソースツリー外でのビルドに関する説明は、<a class="ulink" href="https://dev.mysql.com/doc/internals/en/cmake.html" target="_top">Build MySQL Server を CMake でビルドする方法</a>を参照してください。 
    </p><p>
      一部のシステムでは、システムインクルードファイルの違いにより警告が生じる場合があります。 次のリストは、MySQL のコンパイル時にもっともよく生じることがよくわかっているその他の問題を記述しています。 
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          <a class="indexterm" name="idm45548117679808"></a> <a class="indexterm" name="idm45548117678320"></a> <a class="indexterm" name="idm45548117676448"></a> <a class="indexterm" name="idm45548117674960"></a> どの C および C++ コンパイラを使用するかを定義するために、<code class="literal">CC</code> および <code class="literal">CXX</code> 環境変数を使用できます。 例: 
        </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>CC=gcc</code></strong>
shell&gt; <strong class="userinput"><code>CXX=g++</code></strong>
shell&gt; <strong class="userinput"><code>export CC CXX</code></strong>
</pre><p>
          独自の C および C++ コンパイラフラグを指定するには、<code class="option">CMAKE_C_FLAGS</code> および <code class="option">CMAKE_CXX_FLAGS</code> CMake オプションを使用します。 <a class="xref" href="installing.html#cmake-compiler-flags" title="コンパイラフラグ">コンパイラフラグ</a>を参照してください。 
        </p><p>
          指定する必要がある可能性のあるフラグを確認するには、<span class="command"><strong>mysql_config</strong></span> を、<code class="option">--cflags</code> および <code class="option">--cxxflags</code> オプションを使用して起動します。
        </p></li><li class="listitem"><p>
          コンパイル段階でどのコマンドが実行されるかを確認するには、<span class="command"><strong>CMake</strong></span> を使用して MySQL を構成したあと、単なる <span class="command"><strong>make</strong></span> ではなく <span class="command"><strong>make VERBOSE=1</strong></span> を実行します。
        </p></li><li class="listitem"><p>
          コンパイルに失敗する場合は、<code class="option">MYSQL_MAINTAINER_MODE</code> オプションが有効かどうかをチェックします。 このモードでは、コンパイラの警告はエラーになるため、無効にすることによりコンパイルを続行できる場合があります。 
        </p></li><li class="listitem"><p>
          コンパイルが次のいずれかのエラーで失敗した場合、<span class="command"><strong>make</strong></span> のバージョンを GNU <span class="command"><strong>make</strong></span> にアップグレードする必要があります。
        </p><pre class="programlisting">make: Fatal error in reader: Makefile, line 18:
Badly formed macro assignment
</pre><p>
          または:
        </p><pre class="programlisting">make: file `Makefile' line 18: Must be a separator (:
</pre><p>
          または:
        </p><pre class="programlisting">pthread.h: No such file or directory
</pre><a class="indexterm" name="idm45548117650752"></a><a class="indexterm" name="idm45548117649200"></a><p>
          Solaris および FreeBSD は、<span class="command"><strong>make</strong></span> プログラムに問題が多いことが知られています。
        </p><p>
          GNU <span class="command"><strong>make</strong></span> 3.75 は動作が確認されています。
        </p></li><li class="listitem"><p>
          <code class="filename">sql_yacc.cc</code> ファイルは <code class="filename">sql_yacc.yy</code> から生成されます。 通常、MySQL には事前生成された <code class="filename">sql_yacc.cc</code> が付属しているため、ビルドプロセスでコピーを作成する必要はありません。 しかし、それを再度作成する必要がある場合、次のエラーに遭遇する場合もあります。 
        </p><pre class="programlisting">"sql_yacc.yy", line <em class="replaceable"><code>xxx</code></em> fatal: default action causes potential...
</pre><p>
          これは <span class="command"><strong>yacc</strong></span> のバージョンに問題があることを意味しています。 おそらく、代わりに <span class="command"><strong>bison</strong></span> (the GNU version of <span class="command"><strong>yacc</strong></span>) の最近のバージョンをインストールして使用する必要があります。 
        </p><p>
          <span class="command"><strong>bison</strong></span> 1.75 以前のバージョンでは次のエラーがレポートされる場合があります。
        </p><pre class="programlisting">sql_yacc.yy:#####: fatal error: maximum table size (32767) exceeded
</pre><p>
          テーブルの最大サイズを実際には超えていなくても、<span class="command"><strong>bison</strong></span> の旧バージョンのバグでエラーが発生します。
        </p></li></ul></div><p>
      ツールの取得または更新の詳細は、<a class="xref" href="installing.html#source-installation" title="2.9 ソースから MySQL をインストールする">セクション2.9「ソースから MySQL をインストールする」</a>のシステム要件を参照してください。
    </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="source-configuration-third-party"></a>2.9.9 MySQL の構成とサードパーティーツール</h3></div></div></div><a class="indexterm" name="idm45548117630704"></a><a class="indexterm" name="idm45548117628560"></a><p>
      MySQL のソースから MySQL のバージョンを判断する必要のあるサードパーティーツールは、トップレベルソースディレクトリの <code class="filename">VERSION</code> ファイルを読み取ることができます。 このファイルには、バージョンの各部分が個別にリストされています。 たとえば、バージョンが MySQL 8.0.4-rc の場合、ファイルは次のようになります: 
    </p><pre class="programlisting">MYSQL_VERSION_MAJOR=8
MYSQL_VERSION_MINOR=0
MYSQL_VERSION_PATCH=4
MYSQL_VERSION_EXTRA=-rc
</pre><p>
      ソースが General Availablility (GA) リリース用でない場合、<code class="literal">MYSQL_VERSION_EXTRA</code> 値は空ではありません。 前述の例では、値は<span class="quote">「<span class="quote">「候補者のリリース」</span>」</span>に対応しています。 
    </p><p>
      バージョンのコンポーネントから 5 桁の数字を構成するには、次の式を使用します。
    </p><pre class="programlisting">MYSQL_VERSION_MAJOR*10000 + MYSQL_VERSION_MINOR*100 + MYSQL_VERSION_PATCH
</pre></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="source-installation-doxygen"></a>2.9.10 MySQL Doxygen ドキュメントコンテンツの生成</h3></div></div></div><p>
      MySQL ソースコードには、Doxygen を使用して記述された内部ドキュメントが含まれます。 生成された Doxygen コンテンツは、<a class="ulink" href="https://dev.mysql.com/doc/index-other.html" target="_top">https://dev.mysql.com/doc/index-other.html</a> で入手できます。 次の手順を使用して、このコンテンツを MySQL ソース配布からローカルに生成することもできます: 
    </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
          <span class="command"><strong>doxygen</strong></span> 1.8.11 以上をインストールします。 配布は、<a class="ulink" href="http://www.doxygen.nl/" target="_top">http://www.doxygen.nl/</a> で入手できます。 
        </p><p>
          <span class="command"><strong>doxygen</strong></span> のインストール後、バージョン番号を確認します:
        </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>doxygen --version</code></strong>
1.8.13
</pre></li><li class="listitem"><p>
          <a class="ulink" href="http://plantuml.com/download.html" target="_top">PlantUML</a> をインストールします。
        </p><p>
          PlantUML を Windows (Windows 10 でテスト済) にインストールする場合、レジストリキーを作成するには、少なくとも管理者として実行する必要があります。 管理者コンソールを開き、次のコマンドを実行します: 
        </p><pre class="programlisting">shell&gt; java -jar <em class="replaceable"><code>path-to-plantuml.jar</code></em>
</pre><p>
          このコマンドは GUI ウィンドウを開き、コンソールでエラーを返しません。
        </p></li><li class="listitem"><p>
          <code class="literal">PLANTUML_JAR_PATH</code> 環境を、PlantUML をインストールした場所に設定します。 例: 
        </p><pre class="programlisting">shell&gt; export PLANTUML_JAR_PATH=<em class="replaceable"><code>path-to-plantuml.jar</code></em>
</pre></li><li class="listitem"><p>
          <a class="ulink" href="http://www.graphviz.org/" target="_top">Graphviz</a> <span class="command"><strong>dot</strong></span> コマンドをインストールします。
        </p><p>
          Graphviz のインストール後、<code class="literal">dot</code> の可用性を確認します。 例: 
        </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>which dot</code></strong>
/usr/bin/dot

shell&gt; <strong class="userinput"><code>dot -V</code></strong>
dot - graphviz version 2.28.0 (20130928.0220)
</pre></li><li class="listitem"><p>
          場所を MySQL ソース配布の最上位ディレクトリに変更し、次の手順を実行します:
        </p><p>
          まず、<span class="command"><strong>cmake</strong></span> を実行します:
        </p><pre class="programlisting">shell&gt; cd your-mysql-source-directory
shell&gt; mkdir bld
shell&gt; cd bld
shell&gt; cmake ..
</pre><p>
          次に、<span class="command"><strong>doxygen</strong></span> ドキュメントを生成します:
        </p><pre class="programlisting">shell&gt; make doxygen
</pre><p>
          エラーログを調べます。 これは、最上位ディレクトリの <code class="filename">doxyerror.log</code> ファイルで使用できます。 ビルドが正常に実行されたと仮定して、ブラウザを使用して生成された出力を表示します。 例: 
        </p><pre class="programlisting">shell&gt; firefox doxygen/html/index.html
</pre></li></ol></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="postinstallation"></a>2.10 インストール後のセットアップとテスト</h2></div></div></div><div class="toc"><dl class="toc"><dt><span class="section"><a href="installing.html#data-directory-initialization">2.10.1 データディレクトリの初期化</a></span></dt><dt><span class="section"><a href="installing.html#starting-server">2.10.2 サーバーの起動</a></span></dt><dt><span class="section"><a href="installing.html#testing-server">2.10.3 サーバーのテスト</a></span></dt><dt><span class="section"><a href="installing.html#default-privileges">2.10.4 初期 MySQL アカウントの保護</a></span></dt><dt><span class="section"><a href="installing.html#automatic-start">2.10.5 MySQL を自動的に起動および停止する</a></span></dt></dl></div><a class="indexterm" name="idm45548117587776"></a><a class="indexterm" name="idm45548117585632"></a><a class="indexterm" name="idm45548117583600"></a><p>
    このセクションでは、MySQL のインストール後に実行する必要があるタスクについて説明します:
  </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
        必要に応じて、データディレクトリを初期化し、MySQL 付与テーブルを作成します。 一部の MySQL インストール方法では、データディレクトリの初期化が自動的に実行される場合があります: 
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
            MySQL Installer によって実行される Windows インストール操作。
          </p></li><li class="listitem"><p>
            Oracle のサーバー RPM または Debian ディストリビューションを使用した Linux へのインストール。
          </p></li><li class="listitem"><p>
            Debian Linux、Ubuntu Linux、Gentoo Linux など、多くのプラットフォームでネイティブパッケージングシステムを使用したインストール。
          </p></li><li class="listitem"><p>
            DMG ディストリビューションを使用した macOS へのインストール。
          </p></li></ul></div><p>
        他のプラットフォームおよびインストールタイプの場合は、データディレクトリを手動で初期化する必要があります。 これには、Unix および Unix に似たシステムでの汎用バイナリおよびソースディストリビューションからのインストール、および Windows での ZIP アーカイブパッケージからのインストールが含まれます。 その手順は、<a class="xref" href="installing.html#data-directory-initialization" title="2.10.1 データディレクトリの初期化">セクション2.10.1「データディレクトリの初期化」</a>を参照してください。 
      </p></li><li class="listitem"><p>
        サーバーを起動し、アクセスできることを確認します。 手順については、<a class="xref" href="installing.html#starting-server" title="2.10.2 サーバーの起動">セクション2.10.2「サーバーの起動」</a> および <a class="xref" href="installing.html#testing-server" title="2.10.3 サーバーのテスト">セクション2.10.3「サーバーのテスト」</a> を参照してください。 
      </p></li><li class="listitem"><p>
        データディレクトリの初期化中にまだ実行されていない場合は、付与テーブルの初期 <code class="literal">root</code> アカウントにパスワードを割り当てます。 パスワードにより、MySQL サーバーへの不正アクセスが防止されます。 その手順は、<a class="xref" href="installing.html#default-privileges" title="2.10.4 初期 MySQL アカウントの保護">セクション2.10.4「初期 MySQL アカウントの保護」</a>を参照してください。 
      </p></li><li class="listitem"><p>
        オプションで、システムの起動および停止時にサーバーが自動的に起動および停止するように配置します。 その手順は、<a class="xref" href="installing.html#automatic-start" title="2.10.5 MySQL を自動的に起動および停止する">セクション2.10.5「MySQL を自動的に起動および停止する」</a>を参照してください。 
      </p></li><li class="listitem"><p>
        オプションで、タイムゾーンテーブルに移入して、名前付きタイムゾーンの認識を有効にします。 その手順は、<a class="xref" href="server-administration.html#time-zone-support" title="5.1.15 MySQL Server でのタイムゾーンのサポート">セクション5.1.15「MySQL Server でのタイムゾーンのサポート」</a>を参照してください。 
      </p></li></ul></div><p>
    追加のユーザーアカウントを作成する準備ができたら、<a class="xref" href="security.html#access-control" title="6.2 アクセス制御とアカウント管理">セクション6.2「アクセス制御とアカウント管理」</a> で MySQL のアクセス制御システムおよびアカウント管理に関する情報を確認できます。
  </p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="data-directory-initialization"></a>2.10.1 データディレクトリの初期化</h3></div></div></div><p>
      MySQL のインストール後、<code class="literal">mysql</code> システムスキーマのテーブルを含め、データディレクトリを初期化する必要があります:
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          一部の MySQL インストール方法では、<a class="xref" href="installing.html#postinstallation" title="2.10 インストール後のセットアップとテスト">セクション2.10「インストール後のセットアップとテスト」</a> で説明されているように、データディレクトリの初期化は自動的に行われます。
        </p></li><li class="listitem"><p>
          その他のインストール方法では、データディレクトリを手動で初期化する必要があります。 これには、Unix および Unix に似たシステムでの汎用バイナリおよびソースディストリビューションからのインストール、および Windows での ZIP アーカイブパッケージからのインストールが含まれます。 
        </p></li></ul></div><p>
      このセクションでは、データディレクトリの初期化が自動ではない MySQL のインストール方法で、データディレクトリを手動で初期化する方法について説明します。 サーバーがアクセス可能で適切に動作しているかどうかをテストできるようにする推奨コマンドについては、<a class="xref" href="installing.html#testing-server" title="2.10.3 サーバーのテスト">セクション2.10.3「サーバーのテスト」</a> を参照してください。 
    </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
        MySQL 8.0 では、デフォルトの認証プラグインが <code class="literal">mysql_native_password</code> から <code class="literal">caching_sha2_password</code> に変更され、<code class="literal">'root'@'localhost'</code>管理アカウントはデフォルトで <code class="literal">caching_sha2_password</code> を使用します。 <code class="literal">root</code> アカウントで以前のデフォルトの認証プラグイン (<code class="literal">mysql_native_password</code>) を使用する場合は、<a class="xref" href="installing.html#upgrade-caching-sha2-password-root-account" title="caching_sha2_password および root 管理アカウント">caching_sha2_password および root 管理アカウント</a> を参照してください。 
      </p></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a class="xref" href="installing.html#data-directory-initialization-overview" title="データディレクトリの初期化の概要">データディレクトリの初期化の概要</a></p></li><li class="listitem"><p><a class="xref" href="installing.html#data-directory-initialization-procedure" title="データディレクトリの初期化手順">データディレクトリの初期化手順</a></p></li><li class="listitem"><p><a class="xref" href="installing.html#data-directory-initialization-server-actions" title="データディレクトリの初期化中のサーバーアクション">データディレクトリの初期化中のサーバーアクション</a></p></li><li class="listitem"><p><a class="xref" href="installing.html#data-directory-initialization-password-assignment" title="初期化後の root パスワードの割当て">初期化後の root パスワードの割当て</a></p></li></ul></div><div class="simplesect"><div class="titlepage"><div><div><h4 class="title"><a name="data-directory-initialization-overview"></a>データディレクトリの初期化の概要</h4></div></div></div><p>
        ここに示す例では、サーバーは <code class="literal">mysql</code> ログインアカウントのユーザー ID で実行することを目的としています。 アカウントが存在しない場合は作成するか (<a class="xref" href="installing.html#binary-installation-createsysuser" title="mysql ユーザーおよびグループの作成">mysql ユーザーおよびグループの作成</a> を参照)、サーバーの実行に使用する予定の別の既存のログインアカウントの名前を置き換えます。 
      </p><a class="indexterm" name="idm45548117539200"></a><a class="indexterm" name="idm45548117537056"></a><a class="indexterm" name="idm45548117535024"></a><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
            場所を MySQL インストールの最上位ディレクトリ (通常は<code class="filename">/usr/local/mysql</code>) に変更します (必要に応じてシステムのパス名を調整します):
          </p><pre class="programlisting">cd /usr/local/mysql
</pre><p>
            このディレクトリ内には、サーバーを含む <code class="filename">bin</code> サブディレクトリ、クライアントプログラムおよびユーティリティプログラムなど、複数のファイルおよびサブディレクトリがあります。
          </p></li><li class="listitem"><p>
            <code class="literal">secure_file_priv</code> システム変数は、インポートおよびエクスポート操作を特定のディレクトリに制限します。 その変数の値として場所を指定できるディレクトリを作成します: 
          </p><pre class="programlisting">mkdir mysql-files
</pre><p>
            ディレクトリユーザーおよびグループの所有権を <code class="literal">mysql</code> ユーザーおよび <code class="literal">mysql</code> グループに付与し、ディレクトリ権限を適切に設定します:
          </p><pre class="programlisting">chown mysql:mysql mysql-files
chmod 750 mysql-files
</pre></li><li class="listitem"><p>
            サーバーを使用してデータディレクトリを初期化します。これには、ユーザーがサーバーへの接続を許可される方法を決定する初期 MySQL 付与テーブルを含む <code class="literal">mysql</code> スキーマが含まれます。 例: 
          </p><pre class="programlisting">bin/mysqld --initialize --user=mysql
</pre><p>
            コマンドに関する重要な情報、特に使用するコマンドオプションについては、<a class="xref" href="installing.html#data-directory-initialization-procedure" title="データディレクトリの初期化手順">データディレクトリの初期化手順</a> を参照してください。 サーバーが初期化を実行する方法の詳細は、<a class="xref" href="installing.html#data-directory-initialization-server-actions" title="データディレクトリの初期化中のサーバーアクション">データディレクトリの初期化中のサーバーアクション</a> を参照してください。 
          </p><p>
            通常、データディレクトリの初期化は、最初に MySQL をインストールした後にのみ行う必要があります。 (既存のインストールへのアップグレードの場合は、かわりにアップグレード手順を実行します。<a class="xref" href="installing.html#upgrading" title="2.11 MySQL のアップグレード">セクション2.11「MySQL のアップグレード」</a> を参照してください。) ただし、データディレクトリを初期化するコマンドは既存の <code class="literal">mysql</code> スキーマテーブルを上書きしないため、どのような状況でも安全に実行できます。 
          </p></li><li class="listitem"><p>
            セキュアな接続の自動サポートを使用してサーバーをデプロイする場合は、<span class="command"><strong>mysql_ssl_rsa_setup</strong></span> ユーティリティを使用してデフォルトの SSL および RSA ファイルを作成します:
          </p><pre class="programlisting">bin/mysql_ssl_rsa_setup
</pre><p>
            詳細は、<a class="xref" href="programs.html#mysql-ssl-rsa-setup" title="4.4.3 mysql_ssl_rsa_setup — SSL/RSA ファイルの作成">セクション4.4.3「mysql_ssl_rsa_setup — SSL/RSA ファイルの作成」</a>を参照してください。
          </p></li><li class="listitem"><p>
            オプションファイルがない場合、サーバーはデフォルト設定で起動します。 (<a class="xref" href="server-administration.html#server-configuration-defaults" title="5.1.2 サーバー構成のデフォルト値">セクション5.1.2「サーバー構成のデフォルト値」</a>を参照してください。) MySQL サーバーが起動時に使用するオプションを明示的に指定するには、<code class="filename">/etc/my.cnf</code> や<code class="filename">/etc/mysql/my.cnf</code> などのオプションファイルに配置します。 (<a class="xref" href="programs.html#option-files" title="4.2.2.2 オプションファイルの使用">セクション4.2.2.2「オプションファイルの使用」</a>を参照してください。) たとえば、オプションファイルを使用して <code class="literal">secure_file_priv</code> システム変数を設定できます。 
          </p></li><li class="listitem"><p>
            システムブート時に手動で介入せずに MySQL が起動するように配置するには、<a class="xref" href="installing.html#automatic-start" title="2.10.5 MySQL を自動的に起動および停止する">セクション2.10.5「MySQL を自動的に起動および停止する」</a> を参照してください。
          </p></li><li class="listitem"><p>
            データディレクトリの初期化では、<code class="literal">mysql</code> スキーマにタイムゾーンテーブルが作成されますが、タイムゾーンテーブルは移入されません。 そのためには、<a class="xref" href="server-administration.html#time-zone-support" title="5.1.15 MySQL Server でのタイムゾーンのサポート">セクション5.1.15「MySQL Server でのタイムゾーンのサポート」</a>を参照してください。 
          </p></li></ol></div></div><div class="simplesect"><div class="titlepage"><div><div><h4 class="title"><a name="data-directory-initialization-procedure"></a>データディレクトリの初期化手順</h4></div></div></div><p>
        場所を MySQL インストールの最上位ディレクトリ (通常は<code class="filename">/usr/local/mysql</code>) に変更します (必要に応じてシステムのパス名を調整します):
      </p><pre class="programlisting">cd /usr/local/mysql
</pre><p>
        データディレクトリを初期化するには、サーバーで<code class="literal">'root'@'localhost'</code>アカウントのランダムな初期パスワードを生成するか、パスワードなしでそのアカウントを作成するかに応じて、<code class="option">--initialize</code> または <code class="option">--initialize-insecure</code> オプションを指定して <span class="command"><strong>mysqld</strong></span> を起動します:
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <span class="quote">「<span class="quote">「デフォルトで保護」</span>」</span>インストールに <code class="option">--initialize</code> を使用します (ランダムな初期 <code class="literal">root</code> パスワードの生成を含む)。 この場合、パスワードは期限切れとしてマークされるため、新しいパスワードを選択する必要があります。 
          </p></li><li class="listitem"><p>
            <code class="option">--initialize-insecure</code> では、<code class="literal">root</code> パスワードは生成されません。 これはセキュアではありません。サーバーを本番で使用する前に、適切なタイミングでアカウントにパスワードを割り当てることを想定しています。 
          </p></li></ul></div><p>
        新しい<code class="literal">'root'@'localhost'</code>パスワードを割り当てる手順については、<a class="xref" href="installing.html#data-directory-initialization-password-assignment" title="初期化後の root パスワードの割当て">初期化後の root パスワードの割当て</a> を参照してください。
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
          サーバーは、すべてのメッセージ (初期パスワードを含む) を標準エラー出力に書き込みます。 これはエラーログにリダイレクトされる場合があるため、画面にメッセージが表示されていないかどうかを確認してください。 エラーログの場所などの詳細は、<a class="xref" href="server-administration.html#error-log" title="5.4.2 エラーログ">セクション5.4.2「エラーログ」</a> を参照してください。 
        </p><p>
          Windows では、<code class="option">--console</code> オプションを使用してコンソールにメッセージを送信します。
        </p></div><p>
        Unix および Unix に似たシステムでは、後で実行するときにサーバーが読取りおよび書込みアクセス権を持つように、データベースディレクトリおよびファイルを <code class="literal">mysql</code> ログインアカウントが所有することが重要です。 これを確認するには、システム <code class="literal">root</code> アカウントから <span class="command"><strong>mysqld</strong></span> を起動し、次に示すように <code class="option">--user</code> オプションを含めます: 
      </p><pre class="programlisting">bin/mysqld --initialize --user=mysql
bin/mysqld --initialize-insecure --user=mysql
</pre><p>
        または、<code class="literal">mysql</code> としてログインしているときに <span class="command"><strong>mysqld</strong></span> を実行します。この場合、コマンドから <code class="option">--user</code> オプションを省略できます。
      </p><p>
        Windows の場合は、次のいずれかのコマンドを使用します:
      </p><pre class="programlisting">bin\mysqld --initialize --console
bin\mysqld --initialize-insecure --console
</pre><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
          必要なシステムライブラリがない場合、データディレクトリの初期化が失敗することがあります。 たとえば、次のようなエラーが表示される場合があります: 
        </p><pre class="programlisting">bin/mysqld: error while loading shared libraries:
libnuma.so.1: cannot open shared object file:
No such file or directory
</pre><p>
          この場合は、欠落しているライブラリを手動でインストールするか、システムパッケージマネージャを使用してインストールする必要があります。 次に、データディレクトリの初期化コマンドを再試行します。 
        </p></div><p>
        <span class="command"><strong>mysqld</strong></span> がインストールディレクトリまたはデータディレクトリの正しい場所を特定できない場合は、<code class="option">--basedir</code> や <code class="option">--datadir</code> などの他のオプションを指定する必要がある場合があります。 次に例を示します (単一行にコマンドを入力します): 
      </p><pre class="programlisting">bin/mysqld --initialize --user=mysql
  --basedir=/opt/mysql/mysql
  --datadir=/opt/mysql/mysql/data
</pre><p>
        または、関連するオプション設定をオプションファイルに配置し、そのファイルの名前を <span class="command"><strong>mysqld</strong></span> に渡します。 Unix および Unix に似たシステムでは、オプションファイル名が<code class="filename">/opt/mysql/mysql/etc/my.cnf</code> であるとします。 ファイルに次の行を挿入します: 
      </p><pre class="programlisting">[mysqld]
basedir=/opt/mysql/mysql
datadir=/opt/mysql/mysql/data
</pre><p>
        次に、次のように <span class="command"><strong>mysqld</strong></span> を起動します (<code class="option">--defaults-file</code> オプションを最初に指定して単一行にコマンドを入力します):
      </p><pre class="programlisting">bin/mysqld --defaults-file=/opt/mysql/mysql/etc/my.cnf
  --initialize --user=mysql
</pre><p>
        Windows では、<code class="literal">C:\my.ini</code> に次の行が含まれているとします:
      </p><pre class="programlisting">[mysqld]
basedir=C:\\Program Files\\MySQL\\MySQL Server 8.0
datadir=D:\\MySQLdata
</pre><p>
        次に、次のように <span class="command"><strong>mysqld</strong></span> を起動します (<code class="option">--defaults-file</code> オプションを最初に指定して単一行にコマンドを入力します):
      </p><pre class="programlisting">bin\mysqld --defaults-file=C:\my.ini
   --initialize --console
</pre></div><div class="simplesect"><div class="titlepage"><div><div><h4 class="title"><a name="data-directory-initialization-server-actions"></a>データディレクトリの初期化中のサーバーアクション</h4></div></div></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
          サーバーによって実行されるデータディレクトリの初期化シーケンスは、<span class="command"><strong>mysql_secure_installation</strong></span> および <span class="command"><strong>mysql_ssl_rsa_setup</strong></span> によって実行されるアクションのかわりにはなりません。 <a class="xref" href="programs.html#mysql-secure-installation" title="4.4.2 mysql_secure_installation — MySQL インストールのセキュリティー改善">セクション4.4.2「mysql_secure_installation — MySQL インストールのセキュリティー改善」</a>および<a class="xref" href="programs.html#mysql-ssl-rsa-setup" title="4.4.3 mysql_ssl_rsa_setup — SSL/RSA ファイルの作成">セクション4.4.3「mysql_ssl_rsa_setup — SSL/RSA ファイルの作成」</a>を参照してください。 
        </p></div><p>
        <code class="option">--initialize</code> または <code class="option">--initialize-insecure</code> オプションを指定して起動すると、<span class="command"><strong>mysqld</strong></span> はデータディレクトリの初期化シーケンス中に次のアクションを実行します:
      </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
            サーバーは、次のようにデータディレクトリの存在をチェックします:
          </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                データディレクトリが存在しない場合は、サーバーによって作成されます。
              </p></li><li class="listitem"><p>
                データディレクトリは存在するが空でない (つまり、ファイルまたはサブディレクトリが含まれている) 場合、サーバーはエラーメッセージを生成した後に終了します:
              </p><pre class="programlisting">[ERROR] --initialize specified but the data directory exists. Aborting.
</pre><p>
                この場合、データディレクトリを削除するか名前を変更して、再試行してください。
              </p><p>
                すべてのエントリにピリオド (<code class="literal">.</code>) で始まる名前がある場合、既存のデータディレクトリは空にできません。
              </p></li></ul></div></li><li class="listitem"><p>
            サーバーは、データディレクトリ内に、データディクショナリテーブル、付与テーブル、タイムゾーンテーブル、サーバー側ヘルプテーブルなどの <code class="literal">mysql</code> システムスキーマとそのテーブルを作成します。 <a class="xref" href="server-administration.html#system-schema" title="5.3 mysql システムスキーマ">セクション5.3「mysql システムスキーマ」</a>を参照してください。 
          </p></li><li class="listitem"><p>
            サーバーは、<code class="literal">InnoDB</code> テーブルの管理に必要な <a class="link" href="glossary.html#glos_system_tablespace" title="システムテーブルスペース">system tablespace</a> および関連データ構造を初期化します。
          </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
              <span class="command"><strong>mysqld</strong></span> で <code class="literal">InnoDB</code> <a class="link" href="glossary.html#glos_system_tablespace" title="システムテーブルスペース">system tablespace</a> を設定した後、テーブルスペースの特性を変更するには、新しい <a class="link" href="glossary.html#glos_instance" title="インスタンス">instance</a> 全体を設定する必要があります。 修飾変更には、システムテーブルスペースの最初のファイルのファイル名と undo ログの数が含まれます。 デフォルト値を使用しない場合は、<span class="command"><strong>mysqld</strong></span> を実行する前に、<code class="literal">innodb_data_file_path</code> および <code class="literal">innodb_log_file_size</code> 構成パラメータの設定が MySQL <a class="link" href="glossary.html#glos_configuration_file" title="構成ファイル">configuration file</a> に配置されていることを確認してください。 また、 <code class="literal">innodb_data_home_dir</code> および <code class="literal">innodb_log_group_home_dir</code> などの、<code class="literal">InnoDB</code> ファイルの作成および場所に影響するその他のパラメータを、必要に応じて指定してください。 
            </p><p>
              これらのオプションが構成ファイルにあり、そのファイルが MySQL がデフォルトで読み取る場所にない場合は、<span class="command"><strong>mysqld</strong></span> の実行時に <code class="option">--defaults-extra-file</code> オプションを使用してファイルの場所を指定します。
            </p></div></li><li class="listitem"><p>
            サーバーは、<code class="literal">'root'@'localhost'</code>スーパーユーザーアカウントおよびその他の予約済みアカウントを作成します (<a class="xref" href="security.html#reserved-accounts" title="6.2.9 予約済アカウント">セクション6.2.9「予約済アカウント」</a> を参照)。 一部の予約済アカウントはロックされており、クライアントでは使用できませんが、<code class="literal">'root'@'localhost'</code>は管理用であるため、パスワードを割り当てる必要があります。 
          </p><p>
            <code class="literal">'root'@'localhost'</code>アカウントのパスワードに関するサーバーアクションは、その呼出し方法によって異なります:
          </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                <code class="option">--initialize</code> では、<code class="option">--initialize-insecure</code> ではなくランダムパスワードが生成され、期限切れとしてマークされ、パスワードを表示するメッセージが書き込まれます:
              </p><pre class="programlisting">[Warning] A temporary password is generated for root@localhost:
iTag*AfrH5ej
</pre></li><li class="listitem"><p>
                <code class="option">--initialize-insecure</code> では (<code class="option">--initialize-insecure</code> は <code class="option">--initialize</code> を暗黙的に示すため、<code class="option">--initialize</code> の有無にかかわらず)、サーバーはパスワードを生成したり期限切れとマークしたりせず、警告メッセージを書き込みます:
              </p><pre class="programlisting">[Warning] root@localhost is created with an empty password ! Please
consider switching off the --initialize-insecure option.
</pre></li></ul></div><p>
            新しい<code class="literal">'root'@'localhost'</code>パスワードを割り当てる手順については、<a class="xref" href="installing.html#data-directory-initialization-password-assignment" title="初期化後の root パスワードの割当て">初期化後の root パスワードの割当て</a> を参照してください。
          </p></li><li class="listitem"><p>
            サーバーは、<code class="literal">HELP</code> ステートメントに使用されるサーバー側のヘルプテーブルに移入します (<a class="xref" href="sql-statements.html#help" title="13.8.3 HELP ステートメント">セクション13.8.3「HELP ステートメント」</a> を参照)。 サーバーはタイムゾーンテーブルを移入しません。 これを手動で行うには、<a class="xref" href="server-administration.html#time-zone-support" title="5.1.15 MySQL Server でのタイムゾーンのサポート">セクション5.1.15「MySQL Server でのタイムゾーンのサポート」</a> を参照してください。 
          </p></li><li class="listitem"><p>
            SQL ステートメントのファイルを指定するために <code class="literal">init_file</code> システム変数が指定された場合、サーバーはファイル内のステートメントを実行します。 このオプションを使用すると、カスタムブートストラップシーケンスを実行できます。 
          </p><p>
            サーバーがブートストラップモードで動作する場合、ファイルで許可されるステートメントを制限する一部の機能は使用できません。 これには、アカウント管理 (<code class="literal">CREATE USER</code>、<code class="literal">GRANT</code> など)、レプリケーションおよびグローバルトランザクション識別子に関連するステートメントが含まれます。 
          </p></li><li class="listitem"><p>
            サーバーが終了します。
          </p></li></ol></div></div><div class="simplesect"><div class="titlepage"><div><div><h4 class="title"><a name="data-directory-initialization-password-assignment"></a>初期化後の root パスワードの割当て</h4></div></div></div><p>
        <code class="option">--initialize</code> または <code class="option">--initialize-insecure</code> でサーバーを起動してデータディレクトリを初期化した後、サーバーを通常どおり (つまり、これらのオプションのいずれも指定せずに) 起動し、<code class="literal">'root'@'localhost'</code>アカウントに新しいパスワードを割り当てます:
      </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
            サーバーを起動します。 その手順は、<a class="xref" href="installing.html#starting-server" title="2.10.2 サーバーの起動">セクション2.10.2「サーバーの起動」</a>を参照してください。 
          </p></li><li class="listitem"><p>
            サーバーに接続します:
          </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                <code class="option">--initialize-insecure</code> ではなく <code class="option">--initialize</code> を使用してデータディレクトリを初期化した場合は、<code class="literal">root</code> としてサーバーに接続します:
              </p><pre class="programlisting">mysql -u root -p
</pre><p>
                次に、パスワードプロンプトで、サーバーが初期化シーケンス中に生成したランダムパスワードを入力します:
              </p><pre class="programlisting">Enter password: <em class="replaceable"><code>(enter the random root password here)</code></em>
</pre><p>
                このパスワードがわからない場合は、サーバーエラーログを参照してください。
              </p></li><li class="listitem"><p>
                <code class="option">--initialize-insecure</code> を使用してデータディレクトリを初期化した場合は、パスワードなしで <code class="literal">root</code> としてサーバーに接続します:
              </p><pre class="programlisting">mysql -u root --skip-password
</pre></li></ul></div></li><li class="listitem"><p>
            接続後、<code class="literal">ALTER USER</code> ステートメントを使用して新しい <code class="literal">root</code> パスワードを割り当てます:
          </p><pre class="programlisting">ALTER USER 'root'@'localhost' IDENTIFIED BY '<em class="replaceable"><code>root-password'</code></em>;
</pre></li></ol></div><p>
        <a class="xref" href="installing.html#default-privileges" title="2.10.4 初期 MySQL アカウントの保護">セクション2.10.4「初期 MySQL アカウントの保護」</a>も参照してください。
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
          ホスト <code class="literal">127.0.0.1</code> への接続を試行すると、通常は <code class="literal">localhost</code> アカウントに解決されます。 ただし、サーバーが <code class="literal">skip_name_resolve</code> を有効にして実行されている場合、これは失敗します。 これを行う場合は、接続を受け入れることができるアカウントが存在することを確認します。 たとえば、<code class="option">--host=127.0.0.1</code> または <code class="option">--host=::1</code> を使用して <code class="literal">root</code> として接続できるようにするには、次のアカウントを作成します: 
        </p><pre class="programlisting">CREATE USER 'root'@'127.0.0.1' IDENTIFIED BY '<em class="replaceable"><code>root-password</code></em>';
CREATE USER 'root'@'::1' IDENTIFIED BY '<em class="replaceable"><code>root-password</code></em>';
</pre><p>
          これらのステートメントは、<a class="xref" href="installing.html#data-directory-initialization-server-actions" title="データディレクトリの初期化中のサーバーアクション">データディレクトリの初期化中のサーバーアクション</a> で説明されているように、<code class="literal">init_file</code> システム変数を使用して実行されるファイルに配置できます。
        </p></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="starting-server"></a>2.10.2 サーバーの起動</h3></div></div></div><div class="toc"><dl class="toc"><dt><span class="section"><a href="installing.html#starting-server-troubleshooting">2.10.2.1 MySQL Server の起動時の問題のトラブルシューティング</a></span></dt></dl></div><p>
      このセクションでは、Unix および Unix に似たシステムでサーバーを起動する方法について説明します。 (Windows の場合は、<a class="xref" href="installing.html#windows-server-first-start" title="2.3.4.5 サーバーをはじめて起動する">セクション2.3.4.5「サーバーをはじめて起動する」</a> を参照してください。) サーバーがアクセス可能で正しく動作しているかどうかをテストするために使用できるいくつかの推奨コマンドについては、<a class="xref" href="installing.html#testing-server" title="2.10.3 サーバーのテスト">セクション2.10.3「サーバーのテスト」</a> を参照してください。 
    </p><p>
      インストールに <span class="command"><strong>mysqld_safe</strong></span> が含まれる場合は、次のように MySQL サーバーを起動します:
    </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>bin/mysqld_safe --user=mysql &amp;</code></strong>
</pre><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
        RPM パッケージを使用して MySQL がインストールされている Linux システムでは、サーバーの起動と停止は <span class="command"><strong>mysqld_safe</strong></span> ではなく systemd を使用して管理され、<span class="command"><strong>mysqld_safe</strong></span> はインストールされません。 <a class="xref" href="installing.html#using-systemd" title="2.5.9 systemd を使用した MySQL Server の管理">セクション2.5.9「systemd を使用した MySQL Server の管理」</a>を参照してください。 
      </p></div><p>
      インストールに systemd サポートが含まれている場合は、次のようにサーバーを起動します:
    </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>systemctl start mysqld</code></strong>
</pre><p>
      <code class="literal">mysqld</code> と異なる場合は、適切なサービス名 (SLES システム上の <code class="literal">mysql</code> など) に置き換えます。
    </p><p>
      MySQL Server を権限のない (非 <code class="literal">root</code>) ログインアカウントで起動することが重要です。 これを確認するには、<code class="literal">root</code> として <span class="command"><strong>mysqld_safe</strong></span> を実行し、次に示すように <code class="option">--user</code> オプションを含めます。 それ以外の場合は、<code class="literal">mysql</code> としてログインしている間にプログラムを実行する必要があります。この場合、コマンドから <code class="option">--user</code> オプションを省略できます。 
    </p><p>
      MySQL を権限なしのユーザーとして実行する方法の詳細は、<a class="xref" href="security.html#changing-mysql-user" title="6.1.5 MySQL を通常ユーザーとして実行する方法">セクション6.1.5「MySQL を通常ユーザーとして実行する方法」</a>を参照してください。
    </p><p>
      コマンドがただちに失敗して <code class="literal">mysqld ended</code> を出力する場合は、エラーログ (デフォルトではデータディレクトリ内の <code class="filename"><em class="replaceable"><code>host_name</code></em>.err</code> ファイル) で情報を探してください。
    </p><p>
      サーバーが <code class="literal">mysql</code> スキーマ内の付与テーブルを起動または読み取るデータディレクトリにアクセスできない場合は、エラーログにメッセージが書き込まれます。 このような問題は、このステップに進む前にデータディレクトリを初期化して付与テーブルを作成しない場合、または <code class="option">--user</code> オプションを指定せずにデータディレクトリを初期化するコマンドを実行した場合に発生することがあります。 <code class="filename">data</code> ディレクトリを削除し、<code class="option">--user</code> オプションを指定してコマンドを実行します。 
    </p><p>
      サーバーの起動時にほかの問題が発生した場合には、<a class="xref" href="installing.html#starting-server-troubleshooting" title="2.10.2.1 MySQL Server の起動時の問題のトラブルシューティング">セクション2.10.2.1「MySQL Server の起動時の問題のトラブルシューティング」</a>を参照してください。 <span class="command"><strong>mysqld_safe</strong></span> の詳細は、<a class="xref" href="programs.html#mysqld-safe" title="4.3.2 mysqld_safe — MySQL サーバー起動スクリプト">セクション4.3.2「mysqld_safe — MySQL サーバー起動スクリプト」</a>を参照してください。 systemd のサポートの詳細は、<a class="xref" href="installing.html#using-systemd" title="2.5.9 systemd を使用した MySQL Server の管理">セクション2.5.9「systemd を使用した MySQL Server の管理」</a> を参照してください。 
    </p><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="starting-server-troubleshooting"></a>2.10.2.1 MySQL Server の起動時の問題のトラブルシューティング</h4></div></div></div><a class="indexterm" name="idm45548117322512"></a><a class="indexterm" name="idm45548117320432"></a><a class="indexterm" name="idm45548117318384"></a><a class="indexterm" name="idm45548117316304"></a><p>
        このセクションでは、サーバーの起動に関する問題のトラブルシューティングの提案を提供します。 Windows システムに関するその他の推奨事項については、<a class="xref" href="installing.html#windows-troubleshooting" title="2.3.5 Microsoft Windows MySQL Server インストールのトラブルシューティング">セクション2.3.5「Microsoft Windows MySQL Server インストールのトラブルシューティング」</a> を参照してください。 
      </p><p>
        サーバーの起動時に問題がある場合、次を試してみます。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <a class="link" href="glossary.html#glos_error_log" title="エラーログ">エラーログ</a>をチェックして、サーバーが起動しない原因を確認します。 ログファイルは<a class="link" href="glossary.html#glos_data_directory" title="データディレクトリ">データディレクトリ</a> (通常、Windows では <code class="filename">C:\Program Files\MySQL\MySQL Server 8.0\data</code>、Unix/Linux バイナリ配布では <code class="filename">/usr/local/mysql/data</code>、Unix/Linux ソース配布では <code class="filename">/usr/local/var</code>) にあります。 データディレクトリの <code class="filename"><em class="replaceable"><code>host_name</code></em>.err</code> および <code class="filename"><em class="replaceable"><code>host_name</code></em>.log</code> の形式のファイル名のファイルを探します。ここで、<em class="replaceable"><code>host_name</code></em> はサーバーホストの名です。 次にこれらのファイルの最後の数行を調べます。 それらを表示するには <code class="literal">tail</code> を使用します。 
          </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>tail <em class="replaceable"><code>host_name</code></em>.err</code></strong>
shell&gt; <strong class="userinput"><code>tail <em class="replaceable"><code>host_name</code></em>.log</code></strong>
</pre></li><li class="listitem"><p>
            使用しているストレージエンジンに必要なオプションがあれば指定します。 <code class="filename">my.cnf</code> ファイルを作成して、使用するエンジンの起動オプションを指定します。 トランザクションテーブルをサポートするストレージエンジン (<code class="literal">InnoDB</code>、<code class="literal">NDB</code>) を使用する予定である場合、サーバーを起動する前に、それらが適切に構成されていることを確認します。 <code class="literal">InnoDB</code> テーブルを使用している場合は、ガイドラインについては<a class="xref" href="innodb-storage-engine.html#innodb-configuration" title="15.8 InnoDB の構成">セクション15.8「InnoDB の構成」</a>、オプションの構文については<a class="xref" href="innodb-storage-engine.html#innodb-parameters" title="15.14 InnoDB の起動オプションおよびシステム変数">セクション15.14「InnoDB の起動オプションおよびシステム変数」</a>を参照してください。 
          </p><p>
            ストレージエンジンは、省略したオプションについてはデフォルト値を使用しますが、使用可能なオプションを確認し、デフォルト値がインストールに対して適切でないようなオプションがあれば明示的に値を指定することを推奨します。
          </p></li><li class="listitem"><p>
            サーバーが、<a class="link" href="glossary.html#glos_data_directory" title="データディレクトリ">データディレクトリ</a>を検索する場所を認識していることを確認してください。 <span class="command"><strong>mysqld</strong></span> サーバーはこのディレクトリを現在のディレクトリとして使用します。 そこでデータベースを探し、ログファイルに書き込むことを想定しています。 サーバーはデータディレクトリで pid (プロセス ID) ファイルも書き込みます。 
          </p><p>
            デフォルトのデータディレクトリの場所は、サーバーのコンパイル時にハードコードされます。 デフォルトのパス設定を確認するには、<span class="command"><strong>mysqld</strong></span> を <code class="option">--verbose</code> オプションおよび <code class="option">--help</code> オプションで起動します。 データディレクトリがシステム上の別の場所にある場合は、その場所を、コマンド行またはオプションファイルで <code class="option">--datadir</code> オプションを使用して <span class="command"><strong>mysqld</strong></span> または <span class="command"><strong>mysqld_safe</strong></span> に指定します。 そうしないと、サーバーが正しく動作しません。 <code class="option">--datadir</code> オプションの代替として、MySQL がインストールされているベースディレクトリの場所を、<span class="command"><strong>mysqld</strong></span> に <code class="option">--basedir</code> で指定できます。そうすれば、<span class="command"><strong>mysqld</strong></span> はそこで <code class="filename">data</code> ディレクトリを検索します。 
          </p><p>
            パスオプションの指定の結果を知るには、<span class="command"><strong>mysqld</strong></span> をそれらのオプションで実行し次に<code class="option">--verbose</code> および <code class="option">--help</code> オプションを実行します。 たとえば、<span class="command"><strong>mysqld</strong></span> がインストールされているディレクトリに場所を変更して次のコマンドを実行すると、<code class="filename">/usr/local</code> のベースディレクトリを使用してサーバーを起動した場合の影響が表示されます: 
          </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>./mysqld --basedir=/usr/local --verbose --help</code></strong>
</pre><p>
            <code class="option">--datadir</code> のようなオプションも同様に指定できますが、<code class="option">--verbose</code> および <code class="option">--help</code> は最後のオプションでなければなりません。
          </p><p>
            任意のパスを設定したあと、サーバーを <code class="option">--verbose</code> および <code class="option">--help</code> を使用しないで起動します。
          </p><p>
            <span class="command"><strong>mysqld</strong></span> が動作しているときは、次のコマンドを実行してどのパス設定が使用されているか確認できます。
          </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>mysqladmin variables</code></strong>
</pre><p>
            または:
          </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>mysqladmin -h <em class="replaceable"><code>host_name</code></em> variables</code></strong>
</pre><p>
            <em class="replaceable"><code>host_name</code></em> は MySQL サーバーのホスト名です。
          </p></li><li class="listitem"><p>
            サーバーが、<a class="link" href="glossary.html#glos_data_directory" title="データディレクトリ">データディレクトリ</a>にアクセスできることを確認してください。 データディレクトリとそのコンテンツの所有権と許可は、サーバーがそれらを読み取って修正できるようなものでなければなりません。 
          </p><p>
            <span class="command"><strong>mysqld</strong></span> の起動時に <code class="literal">Errcode 13</code> (<code class="literal">許可が却下された</code>ことを意味します) を受け取る場合は、データディレクトリまたはそのコンテンツの特権が、サーバーアクセスを許可しないものであることを意味します。 この場合、関連するファイルおよびディレクトリの権限を変更して、サーバーがそれらを使用する権限を持つようにします。 サーバーを <code class="literal">root</code> から起動することもできますが、この場合セキュリティーの問題が生じるため、避けるべきです。 
          </p><p>
            データディレクトリの場所を変更し、データディレクトリとその内容の所有権をチェックして、サーバーがアクセスできることを確認します。 たとえば、データディレクトリが <code class="filename">/usr/local/mysql/var</code> の場合は、次のコマンドを使用します。 
          </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>ls -la /usr/local/mysql/var</code></strong>
</pre><p>
            データディレクトリあるいはそのファイルまたはサブディレクトリが、サーバーを稼働するためのログインアカウントの所有でない場合、それらの所有権をそのアカウントに変更します。 そのアカウントが <code class="literal">mysql</code> の場合、次のコマンドを使用します。 
          </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>chown -R mysql /usr/local/mysql/var</code></strong>
shell&gt; <strong class="userinput"><code>chgrp -R mysql /usr/local/mysql/var</code></strong>
</pre><p>
            所有権が適切な場合でも、ファイルシステムのさまざまな部分へのアプリケーションのアクセスを管理するようなセキュリティーソフトウェアがシステム上で実行されている場合、MySQL が起動に失敗することがあります。 この場合は、そのソフトウェアを再構成して <span class="command"><strong>mysqld</strong></span> が通常の動作中に使用するディレクトリにアクセスできるようにします。 
          </p></li><li class="listitem"><p>
            サーバーが使用するネットワークインタフェースが利用できることを確認します。
          </p><p>
            次のいずれかのエラーが発生した場合、ほかのプログラム (おそらく別の <span class="command"><strong>mysqld</strong></span> サーバー) が、<span class="command"><strong>mysqld</strong></span> が使用する TCP/IP ポートあるいは Unix のソケットファイルを使用していることを意味します。
          </p><pre class="programlisting">Can't start server: Bind on TCP/IP port: Address already in use
Can't start server: Bind on unix socket...
</pre><p>
            <span class="command"><strong>ps</strong></span> を使用して、別の <span class="command"><strong>mysqld</strong></span> サーバーが稼働しているかどうか判断します。 その場合、<span class="command"><strong>mysqld</strong></span> を再度起動する前にサーバーをシャットダウンします。 (別のサーバーが動作中で、複数のサーバーを稼働させる必要がある場合は、その方法に関する情報は、<a class="xref" href="server-administration.html#multiple-servers" title="5.8 1 つのマシン上での複数の MySQL インスタンスの実行">セクション5.8「1 つのマシン上での複数の MySQL インスタンスの実行」</a>にあります。) 
          </p><p>
            別のサーバーが稼働していない場合は、コマンド <code class="literal">telnet <em class="replaceable"><code>your_host_name</code></em> <em class="replaceable"><code>tcp_ip_port_number</code></em></code> を実行します。 (デフォルトの MySQL ポート番号は 3306 です。) 次に Enter を数回押します。 <code class="literal">telnet: Unable to connect to remote host: Connection refused</code> などのエラーメッセージが表示されない場合は、<span class="command"><strong>mysqld</strong></span> が使用しようとしている TCP/IP ポートをほかのプログラムが使用しています。 それがどのプログラムなのかを追跡して無効にするか、<code class="option">--port</code> オプションを使用して、<span class="command"><strong>mysqld</strong></span> に別のポートで待機するよう指示します。 この場合、TCP/IP を使用してサーバーに接続するときに、クライアントプログラムに同じデフォルト以外のポート番号を指定します。 
          </p><p>
            ポートにアクセスできない別の理由に、ファイアウォールがその接続をブロックしている場合があります。 その場合は、ファイアウォールの設定を、ポートへのアクセスを許可するように変更します。 
          </p><p>
            サーバーは起動するがそれに接続できない場合は、<code class="filename">/etc/hosts</code> に次のようなエントリがあることを確認します。
          </p><pre class="programlisting">127.0.0.1       localhost
</pre></li><li class="listitem"><p>
            <span class="command"><strong>mysqld</strong></span> を起動できない場合は、<code class="option">--debug</code> オプションを使用して、トレースファイルを作成して問題を発見してみてください。 <a class="xref" href="server-administration.html#dbug-package" title="5.9.4 DBUG パッケージ">セクション5.9.4「DBUG パッケージ」</a>を参照してください。 
          </p></li></ul></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="testing-server"></a>2.10.3 サーバーのテスト</h3></div></div></div><p>
      データディレクトリを初期化し、サーバーを起動したら、いくつかの単純なテストを実行して、適切に動作することを確認します。 このセクションでは、現在の場所が MySQL インストールディレクトリであり、ここで使用する MySQL プログラムを含む <code class="filename">bin</code> サブディレクトリがあることを前提としています。 そうでない場合は、コマンドパス名を適宜調整します。 
    </p><a class="indexterm" name="idm45548117222352"></a><a class="indexterm" name="idm45548117220864"></a><p>
      または、<code class="filename">bin</code> ディレクトリを <code class="literal">PATH</code> 環境変数設定に追加します。 これにより、シェル (コマンドインタプリタ) は MySQL プログラムを適切に検索できるため、パス名ではなく名前のみを入力してプログラムを実行できます。 <a class="xref" href="programs.html#setting-environment-variables" title="4.2.9 環境変数の設定">セクション4.2.9「環境変数の設定」</a>を参照してください。 
    </p><p>
      <span class="command"><strong>mysqladmin</strong></span> を使用してサーバーが動作していることを確認します。 次のコマンドは、サーバーの起動および接続を確認する簡単なテストを提供します。 
    </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>bin/mysqladmin version</code></strong>
shell&gt; <strong class="userinput"><code>bin/mysqladmin variables</code></strong>
</pre><p>
      サーバーに接続できない場合は、<code class="option">-u root</code> オプションを指定して <code class="literal">root</code> として接続します。 <code class="literal">root</code> アカウントのパスワードをすでに割り当てている場合は、コマンドラインで <code class="option">-p</code> を指定し、プロンプトが表示されたらパスワードを入力する必要もあります。 例: 
    </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>bin/mysqladmin -u root -p version</code></strong>
Enter password: <em class="replaceable"><code>(enter root password here)</code></em>
</pre><p>
      <span class="command"><strong>mysqladmin version</strong></span> の出力は、プラットフォームおよび MySQL のバージョンによって多少異なりますが、次に示すものに類似します。
    </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>bin/mysqladmin version</code></strong>
mysqladmin  Ver 14.12 Distrib 8.0.25, for pc-linux-gnu on i686
...

Server version          8.0.25
Protocol version        10
Connection              Localhost via UNIX socket
UNIX socket             /var/lib/mysql/mysql.sock
Uptime:                 14 days 5 hours 5 min 21 sec

Threads: 1  Questions: 366  Slow queries: 0
Opens: 0  Flush tables: 1  Open tables: 19
Queries per second avg: 0.000
</pre><p>
      <span class="command"><strong>mysqladmin</strong></span> のほかに機能を表示するには、それを <code class="option">--help</code> オプションで起動します。
    </p><a class="indexterm" name="idm45548117201488"></a><a class="indexterm" name="idm45548117199712"></a><p>
      サーバーを停止できることを確認します (<code class="literal">root</code> アカウントにすでにパスワードがある場合は、<code class="option">-p</code> オプションを含めます):
    </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>bin/mysqladmin -u root shutdown</code></strong>
</pre><p>
      サーバーを再度起動できることを確認します。 これは、<span class="command"><strong>mysqld_safe</strong></span> を使用するか、あるいは <span class="command"><strong>mysqld</strong></span> を直接起動して行います。 例: 
    </p><a class="indexterm" name="idm45548117192048"></a><a class="indexterm" name="idm45548117189904"></a><pre class="programlisting">shell&gt; <strong class="userinput"><code>bin/mysqld_safe --user=mysql &amp;</code></strong>
</pre><p>
      <span class="command"><strong>mysqld_safe</strong></span> が失敗する場合は、<a class="xref" href="installing.html#starting-server-troubleshooting" title="2.10.2.1 MySQL Server の起動時の問題のトラブルシューティング">セクション2.10.2.1「MySQL Server の起動時の問題のトラブルシューティング」</a>を参照します。
    </p><p>
      簡単なテストをいくつか実行して、サーバーから情報を取り出せることを確認します。 出力は次のようになります。 
    </p><p>
      どのようなデータベースが存在するかを表示するには、<span class="command"><strong>mysqlshow</strong></span> を使用します。
    </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>bin/mysqlshow</code></strong>
+--------------------+
|     Databases      |
+--------------------+
| information_schema |
| mysql              |
| performance_schema |
| sys                |
+--------------------+
</pre><p>
      インストールされているデータベースのリストは異なる場合がありますが、常に <code class="literal">mysql</code> および <code class="literal">information_schema</code> 以上が含まれています。
    </p><p>
      データベース名を指定すると、<span class="command"><strong>mysqlshow</strong></span> はそのデータベース内のテーブルのリストを表示します。
    </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>bin/mysqlshow mysql</code></strong>
Database: mysql
+---------------------------+
|          Tables           |
+---------------------------+
| columns_priv              |
| component                 |
| db                        |
| default_roles             |
| engine_cost               |
| func                      |
| general_log               |
| global_grants             |
| gtid_executed             |
| help_category             |
| help_keyword              |
| help_relation             |
| help_topic                |
| innodb_index_stats        |
| innodb_table_stats        |
| ndb_binlog_index          |
| password_history          |
| plugin                    |
| procs_priv                |
| proxies_priv              |
| role_edges                |
| server_cost               |
| servers                   |
| slave_master_info         |
| slave_relay_log_info      |
| slave_worker_info         |
| slow_log                  |
| tables_priv               |
| time_zone                 |
| time_zone_leap_second     |
| time_zone_name            |
| time_zone_transition      |
| time_zone_transition_type |
| user                      |
+---------------------------+
</pre><p>
      <span class="command"><strong>mysql</strong></span> プログラムを使用して、<code class="literal">mysql</code> スキーマのテーブルから情報を選択します:
    </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>bin/mysql -e "SELECT User, Host, plugin FROM mysql.user" mysql</code></strong>
+------+-----------+-----------------------+
| User | Host      | plugin                |
+------+-----------+-----------------------+
| root | localhost | caching_sha2_password |
+------+-----------+-----------------------+
</pre><p>
      この時点で、サーバーは稼働しており、アクセスできます。 初期アカウントにまだパスワードを割り当てていない場合にセキュリティを強化するには、<a class="xref" href="installing.html#default-privileges" title="2.10.4 初期 MySQL アカウントの保護">セクション2.10.4「初期 MySQL アカウントの保護」</a> の手順に従います。 
    </p><p>
      <span class="command"><strong>mysql</strong></span>、<span class="command"><strong>mysqladmin</strong></span> および <span class="command"><strong>mysqlshow</strong></span> の詳細は、<a class="xref" href="programs.html#mysql" title="4.5.1 mysql — MySQL コマンドラインクライアント">セクション4.5.1「mysql — MySQL コマンドラインクライアント」</a>、<a class="xref" href="programs.html#mysqladmin" title="4.5.2 mysqladmin — A MySQL Server 管理プログラム">セクション4.5.2「mysqladmin — A MySQL Server 管理プログラム」</a> および <a class="xref" href="programs.html#mysqlshow" title="4.5.7 mysqlshow — データベース、テーブル、およびカラム情報の表示">セクション4.5.7「mysqlshow — データベース、テーブル、およびカラム情報の表示」</a> を参照してください。
    </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="default-privileges"></a>2.10.4 初期 MySQL アカウントの保護</h3></div></div></div><a class="indexterm" name="idm45548117161552"></a><a class="indexterm" name="idm45548117159808"></a><a class="indexterm" name="idm45548117158032"></a><a class="indexterm" name="idm45548117156544"></a><a class="indexterm" name="idm45548117155168"></a><a class="indexterm" name="idm45548117153504"></a><a class="indexterm" name="idm45548117152016"></a><a class="indexterm" name="idm45548117150352"></a><a class="indexterm" name="idm45548117148576"></a><a class="indexterm" name="idm45548117146416"></a><a class="indexterm" name="idm45548117144352"></a><a class="indexterm" name="idm45548117142288"></a><a class="indexterm" name="idm45548117140224"></a><a class="indexterm" name="idm45548117138272"></a><a class="indexterm" name="idm45548117136240"></a><a class="indexterm" name="idm45548117134064"></a><a class="indexterm" name="idm45548117132112"></a><a class="indexterm" name="idm45548117130080"></a><a class="indexterm" name="idm45548117127856"></a><a class="indexterm" name="idm45548117125744"></a><p>
      MySQL のインストールプロセスには、MySQL アカウントを定義する <code class="literal">mysql</code> システムスキーマの付与テーブルを含む、データディレクトリの初期化が含まれます。 詳細は、<a class="xref" href="installing.html#data-directory-initialization" title="2.10.1 データディレクトリの初期化">セクション2.10.1「データディレクトリの初期化」</a>を参照してください。 
    </p><p>
      このセクションでは、MySQL のインストール手順中に作成された初期 <code class="literal">root</code> アカウントにパスワードを割り当てる方法について説明します (まだ行っていない場合)。
    </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
        このセクションで説明するプロセスを実行する別の方法:
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            Windows では、MySQL Installer を使用したインストール中にこのプロセスを実行できます (<a class="xref" href="installing.html#mysql-installer" title="2.3.3 MySQL Installer for Windows">セクション2.3.3「MySQL Installer for Windows」</a> を参照)。
          </p></li><li class="listitem"><p>
            すべてのプラットフォームで、MySQL 配布には、MySQL インストールをセキュアにするプロセスの大部分を自動化するコマンド行ユーティリティー <span class="command"><strong>mysql_secure_installation</strong></span> が含まれます。
          </p></li><li class="listitem"><p>
            すべてのプラットフォームで、MySQL Workbench を使用でき、ユーザーアカウントを管理できます (<a class="xref" href="workbench.html" title="第 31 章 MySQL Workbench">第31章「<i>MySQL Workbench</i>」</a> を参照)。
          </p></li></ul></div></div><p>
      次の状況では、初期アカウントにパスワードがすでに割り当てられている可能性があります:
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          Windows では、MySQL Installer を使用してインストールを実行すると、パスワードを割り当てることができます。
        </p></li><li class="listitem"><p>
          macOS インストーラを使用したインストールでは、初期ランダムパスワードが生成されます。このパスワードは、インストーラによってダイアログボックスに表示されます。
        </p></li><li class="listitem"><p>
          RPM パッケージを使用したインストールでは、サーバーエラーログに書き込まれる初期ランダムパスワードが生成されます。
        </p></li><li class="listitem"><p>
          Debian パッケージを使用したインストールでは、パスワードを割り当てるオプションが提供されます。
        </p></li><li class="listitem"><p>
          <span class="command"><strong>mysqld --initialize</strong></span> を使用して手動で実行されるデータディレクトリの初期化の場合、<span class="command"><strong>mysqld</strong></span> は初期ランダムパスワードを生成し、期限切れとマークして、サーバーエラーログに書き込みます。 <a class="xref" href="installing.html#data-directory-initialization" title="2.10.1 データディレクトリの初期化">セクション2.10.1「データディレクトリの初期化」</a>を参照してください。 
        </p></li></ul></div><p>
      <code class="literal">mysql.user</code> 付与テーブルは、初期 MySQL ユーザーアカウントとそのアクセス権限を定義します。 MySQL をインストールすると、すべての権限を持ち、何でも実行できる<code class="literal">'root'@'localhost'</code>スーパーユーザーアカウントのみが作成されます。 <code class="literal">root</code> アカウントのパスワードが空の場合、MySQL のインストールは保護されません: 誰でも <code class="literal">root</code> <span class="emphasis"><em>パスワードなし</em></span>として MySQL サーバーに接続でき、すべての権限を付与できます。 
    </p><p>
      <code class="literal">'root'@'localhost'</code>アカウントの <code class="literal">mysql.proxies_priv</code> テーブルには、<code class="literal">''@''</code>の <code class="literal">PROXY</code> 権限 (すべてのユーザーおよびすべてのホスト) の付与を可能にする行もあります。 これにより、<code class="literal">root</code> はプロキシユーザーを設定したり、プロキシユーザーを設定するための権限をほかのアカウントに委任したりできます。 <a class="xref" href="security.html#proxy-users" title="6.2.18 プロキシユーザー">セクション6.2.18「プロキシユーザー」</a>を参照してください。 
    </p><p>
      初期 MySQL <code class="literal">root</code> アカウントのパスワードを割り当てるには、次の手順を使用します。 例の <em class="replaceable"><code>root-password</code></em> を、使用するパスワードに置き換えます。 
    </p><p>
      サーバーが実行されていない場合は起動します。 その手順は、<a class="xref" href="installing.html#starting-server" title="2.10.2 サーバーの起動">セクション2.10.2「サーバーの起動」</a>を参照してください。 
    </p><p>
      初期 <code class="literal">root</code> アカウントには、パスワードがある場合とない場合があります。 次の手順のいずれかを選択します: 
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          期限切れの初期ランダムパスワードを持つ <code class="literal">root</code> アカウントが存在する場合は、そのパスワードを使用して <code class="literal">root</code> としてサーバーに接続し、新しいパスワードを選択します。 これは、データディレクトリが手動で、またはインストール操作中にパスワードを指定できないインストーラを使用して <span class="command"><strong>mysqld --initialize</strong></span> を使用して初期化された場合です。 パスワードは存在するため、サーバーへの接続に使用する必要があります。 ただし、パスワードの有効期限が切れているため、新しいパスワードを選択する以外の目的でアカウントを使用することはできません。 
        </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
              初期ランダムパスワードがわからない場合は、サーバーエラーログを参照してください。
            </p></li><li class="listitem"><p>
              パスワードを使用して <code class="literal">root</code> としてサーバーに接続します:
            </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>mysql -u root -p</code></strong>
Enter password: <em class="replaceable"><code>(enter the random root password here)</code></em>
</pre></li><li class="listitem"><p>
              ランダムパスワードを置き換える新しいパスワードを選択します:
            </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>ALTER USER 'root'@'localhost' IDENTIFIED BY '<em class="replaceable"><code>root-password</code></em>';</code></strong>
</pre></li></ol></div></li><li class="listitem"><p>
          <code class="literal">root</code> アカウントは存在するがパスワードがない場合は、パスワードを使用せずに <code class="literal">root</code> としてサーバーに接続し、パスワードを割り当てます。 これは、<span class="command"><strong>mysqld --initialize-insecure</strong></span> を使用してデータディレクトリを初期化した場合です。 
        </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
              パスワードを使用せずに <code class="literal">root</code> としてサーバーに接続します:
            </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>mysql -u root --skip-password</code></strong>
</pre></li><li class="listitem"><p>
              パスワードを割り当てます:
            </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>ALTER USER 'root'@'localhost' IDENTIFIED BY '<em class="replaceable"><code>root-password</code></em>';</code></strong>
</pre></li></ol></div></li></ul></div><p>
      <code class="literal">root</code> アカウントにパスワードを割り当てた後、そのアカウントを使用してサーバーに接続するたびにそのパスワードを指定する必要があります。 たとえば、<span class="command"><strong>mysql</strong></span> クライアントを使用してサーバーに接続するには、次のコマンドを使用します: 
    </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>mysql -u root -p</code></strong>
Enter password: <em class="replaceable"><code>(enter root password here)</code></em>
</pre><p>
      <span class="command"><strong>mysqladmin</strong></span> でサーバーを停止するには、次のコマンドを使用します:
    </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>mysqladmin -u root -p shutdown</code></strong>
Enter password: <em class="replaceable"><code>(enter root password here)</code></em>
</pre><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
        パスワード設定の詳細は、<a class="xref" href="security.html#assigning-passwords" title="6.2.14 アカウントパスワードの割り当て">セクション6.2.14「アカウントパスワードの割り当て」</a>を参照してください。 <code class="literal">root</code> パスワードを設定したあとでそれを忘れた場合は、<a class="xref" href="error-handling.html#resetting-permissions" title="B.3.3.2 root のパスワードをリセットする方法">セクションB.3.3.2「root のパスワードをリセットする方法」</a>を参照してください。 
      </p><p>
        追加のアカウントをセットアップするには、<a class="xref" href="security.html#creating-accounts" title="6.2.8 アカウントの追加、権限の割当ておよびアカウントの削除">セクション6.2.8「アカウントの追加、権限の割当ておよびアカウントの削除」</a>を参照してください。
      </p></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="automatic-start"></a>2.10.5 MySQL を自動的に起動および停止する</h3></div></div></div><a class="indexterm" name="idm45548117050944"></a><a class="indexterm" name="idm45548117048800"></a><a class="indexterm" name="idm45548117046768"></a><p>
      このセクションでは、MySQL サーバーを起動および停止する方法について説明します。
    </p><p>
      一般的には、<span class="command"><strong>mysqld</strong></span> サーバーは次のいずれかの方法で起動します。
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          直接 <span class="command"><strong>mysqld</strong></span> を呼び出します。 これはどのプラットフォームでも機能します。 
        </p></li><li class="listitem"><p>
          Windows では、Windows の起動時に自動的に実行される MySQL サービスを設定できます。 <a class="xref" href="installing.html#windows-start-service" title="2.3.4.8 Windows のサービスとして MySQL を起動する">セクション2.3.4.8「Windows のサービスとして MySQL を起動する」</a>を参照してください。 
        </p></li><li class="listitem"><p>
          Unix および Unix に似たシステムでは、<span class="command"><strong>mysqld_safe</strong></span> を起動して <span class="command"><strong>mysqld</strong></span> の適切なオプションを決定し、それらのオプションを使用して実行できます。 <a class="xref" href="programs.html#mysqld-safe" title="4.3.2 mysqld_safe — MySQL サーバー起動スクリプト">セクション4.3.2「mysqld_safe — MySQL サーバー起動スクリプト」</a>を参照してください。 
        </p></li><li class="listitem"><p>
          systemd をサポートする Linux システムでは、これを使用してサーバーを制御できます。 <a class="xref" href="installing.html#using-systemd" title="2.5.9 systemd を使用した MySQL Server の管理">セクション2.5.9「systemd を使用した MySQL Server の管理」</a>を参照してください。 
        </p></li><li class="listitem"><p>
          System V 形式の実行ディレクトリ (つまり、<code class="filename">/etc/init.d</code> および実行レベル固有のディレクトリ) を使用するシステムでは、<span class="command"><strong>mysql.server</strong></span> を起動します。 このスクリプトは、主にシステムの起動および停止時に使用されます。 通常は、<code class="literal">mysql</code> という名前でインストールされます。 <span class="command"><strong>mysql.server</strong></span> スクリプトは <span class="command"><strong>mysqld_safe</strong></span> を実行してサーバーを起動します。 <a class="xref" href="programs.html#mysql-server" title="4.3.3 mysql.server — MySQL サーバー起動スクリプト">セクション4.3.3「mysql.server — MySQL サーバー起動スクリプト」</a>を参照してください。 
        </p></li><li class="listitem"><p>
          macOS では、launchd デーモンをインストールして、システム起動時の MySQL の自動起動を有効にします。 デーモンは、<span class="command"><strong>mysqld_safe</strong></span> を呼び出してサーバーを起動します。 詳細は、<a class="xref" href="installing.html#macos-installation-launchd" title="2.4.3 MySQL 起動デーモンのインストールおよび使用">セクション2.4.3「MySQL 起動デーモンのインストールおよび使用」</a>を参照してください。 MySQL プリファレンスペインでは、システムプリファレンスを使用して MySQL を起動および停止するためのコントロールも提供されます。 <a class="xref" href="installing.html#macos-installation-prefpane" title="2.4.4 MySQL Preference Pane のインストールと使用">セクション2.4.4「MySQL Preference Pane のインストールと使用」</a>を参照してください。 
        </p></li><li class="listitem"><p>
          Solaris では、サービス管理フレームワーク (SMF) システムを使用して、MySQL の起動を開始および制御します。
        </p></li></ul></div><p>
      systemd、<span class="command"><strong>mysqld_safe</strong></span> および <span class="command"><strong>mysql.server</strong></span> スクリプト、Solaris SMF、および macOS 起動項目 (または MySQL 設定ペイン) を使用すると、サーバーを手動で、またはシステムの起動時に自動的に起動できます。systemd、<span class="command"><strong>mysql.server</strong></span>、および起動項目を使用して、サーバーを停止することもできます。
    </p><p>
      次のテーブルに、サーバーおよび起動スクリプトがオプションファイルから読み取るオプショングループを示します。
    </p><div class="table"><a name="startup-scripts-server-option-groups"></a><p class="title"><b>表 2.15 MySQL 起動スクリプトおよびサポートされているサーバーオプショングループ</b></p><div class="table-contents"><table summary="MySQL startup scripts and the server option groups they support."><col style="width: 20%"><col style="width: 80%"><thead><tr>
          <th>スクリプト</th>
          <th>オプショングループ</th>
        </tr></thead><tbody><tr>
          <td><span class="command"><strong>mysqld</strong></span></td>
          <td><code class="literal">[mysqld]</code>、<code class="literal">[server]</code>、<code class="literal">[mysqld-<em class="replaceable"><code>major_version</code></em>]</code></td>
        </tr><tr>
          <td><span class="command"><strong>mysqld_safe</strong></span></td>
          <td><code class="literal">[mysqld]</code>、<code class="literal">[server]</code>、<code class="literal">[mysqld_safe]</code></td>
        </tr><tr>
          <td><span class="command"><strong>mysql.server</strong></span></td>
          <td><code class="literal">[mysqld]</code>、<code class="literal">[mysql.server]</code>、<code class="literal">[server]</code></td>
        </tr></tbody></table></div></div><br class="table-break"><p>
      <code class="literal">[mysqld-<em class="replaceable"><code>major_version</code></em>]</code> は、<code class="literal">[mysqld-5.7]</code> および <code class="literal">[mysqld-8.0]</code> のような名前のグループが、5.7.x、8.0.x、などのバージョンのサーバーによって読み取られることを意味します。 この機能は、所定のリリースシリーズのサーバーによってのみ読み取られるオプションを指定するために使用できます。 
    </p><p>
      下位互換性のため、<span class="command"><strong>mysql.server</strong></span> は<code class="literal">[mysql_server]</code> グループも読み取り、<span class="command"><strong>mysqld_safe</strong></span> は<code class="literal">[safe_mysqld]</code> グループも読み取ります。 最新にするには、かわりに<code class="literal">[mysql.server]</code>および<code class="literal">[mysqld_safe]</code>グループを使用するようにオプションファイルを更新する必要があります。 
    </p><p>
      MySQL 構成ファイルとその構造とコンテンツについては、<a class="xref" href="programs.html#option-files" title="4.2.2.2 オプションファイルの使用">セクション4.2.2.2「オプションファイルの使用」</a>を参照してください。
    </p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="upgrading"></a>2.11 MySQL のアップグレード</h2></div></div></div><div class="toc"><dl class="toc"><dt><span class="section"><a href="installing.html#upgrade-before-you-begin">2.11.1 始める前に</a></span></dt><dt><span class="section"><a href="installing.html#upgrade-paths">2.11.2 アップグレードパス</a></span></dt><dt><span class="section"><a href="installing.html#upgrading-what-is-upgraded">2.11.3 MySQL のアップグレードプロセスの内容</a></span></dt><dt><span class="section"><a href="installing.html#upgrading-from-previous-series">2.11.4 MySQL 8.0 での変更</a></span></dt><dt><span class="section"><a href="installing.html#upgrade-prerequisites">2.11.5 アップグレード用のインストールの準備</a></span></dt><dt><span class="section"><a href="installing.html#upgrade-binary-package">2.11.6 Unix/Linux での MySQL バイナリまたはパッケージベースのインストールのアップグレード</a></span></dt><dt><span class="section"><a href="installing.html#updating-yum-repo">2.11.7 MySQL Yum リポジトリを使用する MySQL のアップグレード</a></span></dt><dt><span class="section"><a href="installing.html#updating-apt-repo">2.11.8 MySQL APT リポジトリを使用する MySQL のアップグレード</a></span></dt><dt><span class="section"><a href="installing.html#updating-sles-repo">2.11.9 MySQL SLES リポジトリを含む MySQL のアップグレード</a></span></dt><dt><span class="section"><a href="installing.html#windows-upgrading">2.11.10 Windows 上の MySQL をアップグレードする</a></span></dt><dt><span class="section"><a href="installing.html#upgrade-docker-mysql">2.11.11 MySQL の Docker インストールのアップグレード</a></span></dt><dt><span class="section"><a href="installing.html#upgrade-troubleshooting">2.11.12 アップグレードのトラブルシューティング</a></span></dt><dt><span class="section"><a href="installing.html#rebuilding-tables">2.11.13 テーブルまたはインデックスの再作成または修復</a></span></dt><dt><span class="section"><a href="installing.html#copying-databases">2.11.14 MySQL データベースのほかのマシンへのコピー</a></span></dt></dl></div><a class="indexterm" name="idm45548116988624"></a><p>
    このセクションでは、MySQL インストールをアップグレードするステップについて説明します。
  </p><p>
    MySQL の同じリリースシリーズ内でのバグフィックスや、MySQL の主なリリース間の重大な機能を入手する場合など、アップグレードは一般的な手順です。 この手順は、テストシステムでまず実行して、すべてが問題なく動作することを確認してから本番システムで実行します。 
  </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
      次の説明では、管理権限を持つ MySQL アカウントを使用して実行する必要がある MySQL コマンドに、MySQL <code class="literal">root</code> ユーザーを指定するための <code class="option">-u <code class="literal">root</code></code> がコマンドラインに含まれています。 <code class="literal">root</code> のパスワードを必要とするコマンドには、<code class="option">-p</code> オプションも含まれます。 <code class="option">-p</code> の後にオプション値がないため、このようなコマンドではパスワードの入力を求められます。 プロンプトが表示されたらパスワードを入力し、Enter キーを押します。 
    </p><p>
      SQL ステートメントは、<span class="command"><strong>mysql</strong></span> コマンドラインクライアントを使用して実行できます (<code class="literal">root</code> として接続し、必要な権限があることを確認します)。
    </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="upgrade-before-you-begin"></a>2.11.1 始める前に</h3></div></div></div><p>
      アップグレードする前に、このセクションの情報を確認してください。 推奨されるアクションを実行します。 
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          アップグレード中に発生する可能性があることを理解します。 <a class="xref" href="installing.html#upgrading-what-is-upgraded" title="2.11.3 MySQL のアップグレードプロセスの内容">セクション2.11.3「MySQL のアップグレードプロセスの内容」</a>を参照してください。 
        </p></li><li class="listitem"><p>
          バックアップを作成してデータを保護します。 バックアップには、MySQL データディクショナリテーブルおよびシステムテーブルを含む <code class="literal">mysql</code> システムデータベースを含める必要があります。 <a class="xref" href="backup-and-recovery.html#backup-methods" title="7.2 データベースバックアップ方法">セクション7.2「データベースバックアップ方法」</a>を参照してください。 
        </p><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">重要</div><p>
            MySQL 8.0 から MySQL 5.7 へのダウングレード、または MySQL 8.0 リリースから以前の MySQL 8.0 リリースへのダウングレードはサポートされていません。 サポートされている唯一の代替方法は、アップグレード前に作成したバックアップをリストアすることです。 したがって、アップグレードプロセスを開始する前にデータをバックアップする必要があります。 
          </p></div></li><li class="listitem"><p>
          <a class="xref" href="installing.html#upgrade-paths" title="2.11.2 アップグレードパス">セクション2.11.2「アップグレードパス」</a> を確認して、意図したアップグレードパスがサポートされていることを確認します。
        </p></li><li class="listitem"><p>
          アップグレード前に認識しておく必要がある変更については、<a class="xref" href="installing.html#upgrading-from-previous-series" title="2.11.4 MySQL 8.0 での変更">セクション2.11.4「MySQL 8.0 での変更」</a> を確認します。 一部の変更にはアクションが必要な場合があります。 
        </p></li><li class="listitem"><p>
          非推奨となった機能および削除された機能については、<a class="xref" href="introduction.html#mysql-nutshell" title="1.3 MySQL 8.0 の新機能">セクション1.3「MySQL 8.0 の新機能」</a> を確認してください。 アップグレードでは、これらの機能のいずれかを使用する場合、それらの機能の変更が必要になることがあります。 
        </p></li><li class="listitem"><p>
          <a class="xref" href="introduction.html#added-deprecated-removed" title="1.4 MySQL 8.0 で追加、非推奨または削除されたサーバーおよびステータスの変数とオプション">セクション1.4「MySQL 8.0
    で追加、非推奨または削除されたサーバーおよびステータスの変数とオプション」</a> を確認します。 非推奨の変数または削除された変数を使用する場合、アップグレードで構成の変更が必要になることがあります。 
        </p></li><li class="listitem"><p>
          修正、変更および新機能の詳細は、<a class="ulink" href="https://dev.mysql.com/doc/relnotes/mysql/8.0/en/" target="_top">「リリースノート」</a>を確認してください。
        </p></li><li class="listitem"><p>
          レプリケーションを使用する場合は、<a class="xref" href="replication.html#replication-upgrade" title="17.5.3 レプリケーションセットアップをアップグレードする">セクション17.5.3「レプリケーションセットアップをアップグレードする」</a> を確認します。
        </p></li><li class="listitem"><p>
          アップグレード手順は、プラットフォームおよび初期インストールの実行方法によって異なります。 現在の MySQL インストールに適用される手順を使用してください: 
        </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
              Windows 以外のプラットフォームでのバイナリおよびパッケージベースのインストールについては、<a class="xref" href="installing.html#upgrade-binary-package" title="2.11.6 Unix/Linux での MySQL バイナリまたはパッケージベースのインストールのアップグレード">セクション2.11.6「Unix/Linux での MySQL バイナリまたはパッケージベースのインストールのアップグレード」</a> を参照してください。
            </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
                サポートされている Linux ディストリビューションの場合、パッケージベースのインストールをアップグレードするには、MySQL ソフトウェアリポジトリ (MySQL Yum Repository、MySQL APT Repository、および MySQL SLES Repository) を使用することをお勧めします。
              </p></div></li><li class="listitem"><p>
              MySQL Yum Repository を使用した Enterprise Linux プラットフォームまたは Fedora へのインストールについては、<a class="xref" href="installing.html#updating-yum-repo" title="2.11.7 MySQL Yum リポジトリを使用する MySQL のアップグレード">セクション2.11.7「MySQL Yum リポジトリを使用する MySQL のアップグレード」</a> を参照してください。
            </p></li><li class="listitem"><p>
              MySQL APT リポジトリを使用した Ubuntu へのインストールについては、<a class="xref" href="installing.html#updating-apt-repo" title="2.11.8 MySQL APT リポジトリを使用する MySQL のアップグレード">セクション2.11.8「MySQL APT リポジトリを使用する MySQL のアップグレード」</a> を参照してください。
            </p></li><li class="listitem"><p>
              MySQL SLES リポジトリを使用した SLES へのインストールについては、<a class="xref" href="installing.html#updating-sles-repo" title="2.11.9 MySQL SLES リポジトリを含む MySQL のアップグレード">セクション2.11.9「MySQL SLES リポジトリを含む MySQL のアップグレード」</a> を参照してください。
            </p></li><li class="listitem"><p>
              Docker を使用して実行されるインストールについては、<a class="xref" href="installing.html#upgrade-docker-mysql" title="2.11.11 MySQL の Docker インストールのアップグレード">セクション2.11.11「MySQL の Docker インストールのアップグレード」</a> を参照してください。
            </p></li><li class="listitem"><p>
              Windows へのインストールについては、<a class="xref" href="installing.html#windows-upgrading" title="2.11.10 Windows 上の MySQL をアップグレードする">セクション2.11.10「Windows 上の MySQL をアップグレードする」</a> を参照してください。
            </p></li></ul></div></li><li class="listitem"><p>
          MySQL インストールに、インプレースアップグレード後の変換に時間がかかる可能性のある大量のデータが含まれている場合、必要な変換およびそれらの実行に関連する作業を評価するためのテストインスタンスを作成すると便利な場合があります。 テストインスタンスを作成するには、<code class="literal">mysql</code> データベースおよびデータのない他のデータベースを含む MySQL インスタンスのコピーを作成します。 テストインスタンスでアップグレード手順を実行して、実際のデータ変換の実行に関連する作業を評価します。 
        </p></li><li class="listitem"><p>
          MySQL の新しいリリースをインストールまたはアップグレードする場合は、MySQL 言語インタフェースの再構築および再インストールをお薦めします。 これは PHP <code class="literal">mysql</code> 拡張機能や Perl <code class="literal">DBD::mysql</code> モジュールなどの MySQL インタフェースに適用されます。 
        </p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="upgrade-paths"></a>2.11.2 アップグレードパス</h3></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          MySQL 5.7 から 8.0 へのアップグレードがサポートされています。 ただし、アップグレードは General Availability (GA) リリース間でのみサポートされます。 MySQL 8.0 の場合、MySQL 5.7 GA リリース (5.7.9 以上) からアップグレードする必要があります。 MySQL 5.7 の非 GA リリースからのアップグレードはサポートされていません。 
        </p></li><li class="listitem"><p>
          次のバージョンにアップグレードする前に、最新リリースにアップグレードすることをお薦めします。 たとえば、MySQL 8.0 にアップグレードする前に、最新の MySQL 5.7 リリースにアップグレードします。 
        </p></li><li class="listitem"><p>
          バージョンをスキップするアップグレードはサポートされていません。 たとえば、MySQL 5.6 から 8.0 への直接アップグレードはサポートされていません。 
        </p></li><li class="listitem"><p>
          リリースシリーズが GA (General Availability) ステータスに達すると、リリースシリーズ内で (GA バージョン間で) アップグレードがサポートされます。 たとえば、MySQL 8.0 からアップグレードします。<em class="replaceable"><code>x</code></em> から 8.0 へ。<em class="replaceable"><code>y</code></em> がサポートされています。 (開発ステータス非 GA リリースを含むアップグレードはサポートされていません。) リリースのスキップもサポートされています。 たとえば、MySQL 8.0 からアップグレードします。<em class="replaceable"><code>x</code></em> から 8.0 へ。<em class="replaceable"><code>z</code></em> がサポートされています。 MySQL 8.0.11 は、MySQL 8.0 リリースシリーズ内の最初の GA ステータスリリースです。 
        </p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="upgrading-what-is-upgraded"></a>2.11.3 MySQL のアップグレードプロセスの内容</h3></div></div></div><p>
      新しいバージョンの MySQL をインストールするには、既存のインストールの次の部分をアップグレードする必要がある場合があります:
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          <code class="literal">mysql</code> システムスキーマ。MySQL サーバーの実行時に必要な情報を格納するテーブルが含まれています (<a class="xref" href="server-administration.html#system-schema" title="5.3 mysql システムスキーマ">セクション5.3「mysql システムスキーマ」</a> を参照)。<code class="literal">mysql</code> スキーマテーブルは、次の 2 つの広範なカテゴリに分類されます:
        </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
              データディクショナリテーブル:データベースオブジェクトメタデータを格納します。
            </p></li><li class="listitem"><p>
              他の操作目的で使用されるシステムテーブル (残りの非データディクショナリテーブル)。
            </p></li></ul></div></li><li class="listitem"><p>
          その他のスキーマ。一部は組込みであり、サーバーによって <span class="quote">「<span class="quote">owned</span>」</span> とみなされる場合があります。その他のスキーマには、次のものはありません:
        </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
              パフォーマンススキーマ、<code class="literal">INFORMATION_SCHEMA</code>、<code class="literal">ndbinfo</code>、および <code class="literal">sys</code> スキーマ。
            </p></li><li class="listitem"><p>
              ユーザースキーマ。
            </p></li></ul></div></li></ul></div><p>
      アップグレードが必要になる可能性があるインストールの各部分には、次の 2 つの異なるバージョン番号が関連付けられています:
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          データディクショナリのバージョン。 これはデータディクショナリテーブルに適用されます。 
        </p></li><li class="listitem"><p>
          サーバーのバージョン (MySQL バージョンとも呼ばれます)。 これは、他のスキーマ内のシステムテーブルおよびオブジェクトに適用されます。 
        </p></li></ul></div><p>
      どちらの場合も、既存の MySQL インストールに適用可能な実際のバージョンがデータディクショナリに格納され、現在予想されているバージョンが新しいバージョンの MySQL にコンパイルされます。 実際のバージョンが現在予想されているバージョンより低い場合は、そのバージョンに関連付けられているインストールの一部を現在のバージョンにアップグレードする必要があります。 両方のバージョンでアップグレードが必要であることが示されている場合は、まずデータディクショナリのアップグレードを実行する必要があります。 
    </p><p>
      前述の 2 つの異なるバージョンの反射として、アップグレードは次の 2 つのステップで実行されます:
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          ステップ 1: データディクショナリのアップグレード。
        </p><p>
          このステップでは、次のアップグレードを行います:
        </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
              <code class="literal">mysql</code> スキーマ内のデータディクショナリテーブル。 実際のデータディクショナリのバージョンが現在予想されているバージョンより低い場合、サーバーは、更新された定義を含むデータディクショナリテーブルを作成し、永続化されたメタデータを新しいテーブルにコピーし、古いテーブルを新しいテーブルに原子的に置き換え、データディクショナリを再初期化します。 
            </p></li><li class="listitem"><p>
              パフォーマンススキーマ、<code class="literal">INFORMATION_SCHEMA</code>、および <code class="literal">ndbinfo</code>。
            </p></li></ul></div></li><li class="listitem"><p>
          ステップ 2: サーバーのアップグレード。
        </p><p>
          このステップは、他のすべてのアップグレードタスクで構成されます。 既存の MySQL インストールのサーバーバージョンが、新しくインストールされた MySQL バージョンより低い場合は、他のすべてをアップグレードする必要があります: 
        </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
              <code class="literal">mysql</code> スキーマ内のシステムテーブル (残りの非データディクショナリテーブル)。
            </p></li><li class="listitem"><p>
              <code class="literal">sys</code> スキーマ。
            </p></li><li class="listitem"><p>
              ユーザースキーマ。
            </p></li></ul></div></li></ul></div><p>
      データディクショナリのアップグレード (ステップ 1) は、起動時に必要に応じてこのタスクを実行するサーバーの役割です。ただし、起動を妨げるオプションを指定して起動した場合は除きます。 このオプションは、MySQL 8.0.16、MySQL 8.0.16 より前の <code class="option">--no-dd-upgrade</code> の時点での <code class="option">--upgrade=NONE</code> です。 
    </p><p>
      データディクショナリは期限切れだが、サーバーがアップグレードできない場合、サーバーは実行されず、かわりにエラーで終了します。 例: 
    </p><pre class="programlisting">[ERROR] [MY-013381] [Server] Server shutting down because upgrade is
required, yet prohibited by the command line option '--upgrade=NONE'.
[ERROR] [MY-010334] [Server] Failed to initialize DD Storage Engine
[ERROR] [MY-010020] [Server] Data Dictionary initialization failed.
</pre><p>
      ステップ 2 の職責に対するいくつかの変更は、MySQL 8.0.16 で発生しました:
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          MySQL 8.0.16 より前は、<span class="command"><strong>mysql_upgrade</strong></span> によって、パフォーマンススキーマ、<code class="literal">INFORMATION_SCHEMA</code> およびステップ 2 で説明したオブジェクトがアップグレードされます。 DBA は、サーバーの起動後に <span class="command"><strong>mysql_upgrade</strong></span> を手動で起動する必要があります。 
        </p></li><li class="listitem"><p>
          MySQL 8.0.16 の時点で、サーバーは以前に <span class="command"><strong>mysql_upgrade</strong></span> によって処理されたすべてのタスクを実行します。 アップグレードは 2 ステップの操作のままですが、サーバーは両方を実行するため、プロセスが簡単になります。 
        </p></li></ul></div><p>
      アップグレード先の MySQL のバージョンに応じて、<a class="xref" href="installing.html#upgrade-procedure-inplace" title="インプレースアップグレード">インプレースアップグレード</a> および <a class="xref" href="installing.html#upgrade-procedure-logical" title="論理アップグレード">論理アップグレード</a> の手順は、サーバーがすべてのアップグレードタスクを実行するか、サーバーの起動後に <span class="command"><strong>mysql_upgrade</strong></span> も起動する必要があるかを示します。
    </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
        サーバーはパフォーマンススキーマ、<code class="literal">INFORMATION_SCHEMA</code>、および MySQL 8.0.16 の時点でステップ 2 で説明されているオブジェクトをアップグレードするため、<span class="command"><strong>mysql_upgrade</strong></span> は不要であり、そのバージョンでは非推奨になっています。将来のバージョンの MySQL で削除される予定です。
      </p></div><p>
      ステップ 2 で発生する処理のほとんどは、MySQL 8.0.16 の前と時点で同じですが、特定の効果を得るために異なるコマンドオプションが必要になる場合があります。
    </p><p>
      MySQL 8.0.16 の時点で、<code class="option">--upgrade</code> サーバーオプションは、サーバーが起動時に自動アップグレードを実行するかどうか、およびその方法を制御します:
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          オプションを指定しない場合、または <code class="option">--upgrade=AUTO</code> を指定した場合、サーバーは最新でないと判断したものをすべてアップグレードします (ステップ 1 および 2)。
        </p></li><li class="listitem"><p>
          <code class="option">--upgrade=NONE</code> では、サーバーは何もアップグレードしません (ステップ 1 および 2 はスキップします)。ただし、データディクショナリをアップグレードする必要がある場合はエラーで終了します。 古いデータディクショナリを使用してサーバーを実行することはできません。サーバーはサーバーのアップグレードまたは終了を要求します。 
        </p></li><li class="listitem"><p>
          <code class="option">--upgrade=MINIMAL</code> を使用すると、サーバーは必要に応じてデータディクショナリ、パフォーマンススキーマおよび <code class="literal">INFORMATION_SCHEMA</code> をアップグレードします (ステップ 1)。 このオプションを使用したアップグレード後は、レプリケーション内部が依存するシステムテーブルは更新されず、他の領域でも機能が低下する可能性があるため、Group Replication を起動できないことに注意してください。 
        </p></li><li class="listitem"><p>
          <code class="option">--upgrade=FORCE</code> では、サーバーは必要に応じてデータディクショナリ、パフォーマンススキーマおよび <code class="literal">INFORMATION_SCHEMA</code> をアップグレードし (ステップ 1)、他のすべてのものを強制的にアップグレードします (ステップ 2)。 サーバーはすべてのスキーマ内のすべてのオブジェクトをチェックするため、このオプションではサーバーの起動に時間がかかります。 
        </p></li></ul></div><p>
      <code class="literal">FORCE</code> は、必要ないとサーバーが判断した場合に、ステップ 2 のアクションを強制的に実行する場合に役立ちます。 <code class="literal">FORCE</code> と <code class="literal">AUTO</code> の違いの 1 つは、<code class="literal">FORCE</code> では、ヘルプテーブルやタイムゾーンテーブルが欠落している場合は、サーバーによってシステムテーブル (ヘルプテーブルやタイムゾーンテーブルなど) が再作成されることです。 
    </p><p>
      次のリストは、MySQL 8.0.16 より前のアップグレードコマンドと、MySQL 8.0.16 以上の同等のコマンドを示しています:
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          通常のアップグレードを実行します (必要に応じてステップ 1 および 2):
        </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
              MySQL 8.0.16 より前: <span class="command"><strong>mysqld</strong></span> とそれに続く <span class="command"><strong>mysql_upgrade</strong></span>
            </p></li><li class="listitem"><p>
              MySQL 8.0.16 の時点: <span class="command"><strong>mysqld</strong></span>
            </p></li></ul></div></li><li class="listitem"><p>
          必要に応じて、ステップ 1 のみを実行します:
        </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
              MySQL 8.0.16 より前: ステップ 2 で説明したアップグレードタスクを除外して、ステップ 1 で説明したすべてのアップグレードタスクを実行することはできません。 ただし、ユーザースキーマおよび <code class="literal">sys</code> スキーマのアップグレードは、<span class="command"><strong>mysqld</strong></span> の後に <code class="option">--upgrade-system-tables</code> および <code class="option">--skip-sys-schema</code> オプションを指定した <span class="command"><strong>mysql_upgrade</strong></span> を使用して回避できます。 
            </p></li><li class="listitem"><p>
              MySQL 8.0.16 の時点: <span class="command"><strong>mysqld --upgrade=MINIMAL</strong></span>
            </p></li></ul></div></li><li class="listitem"><p>
          必要に応じてステップ 1 を実行し、ステップ 2 を強制します:
        </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
              MySQL 8.0.16 より前: <span class="command"><strong>mysqld</strong></span> とそれに続く <span class="command"><strong>mysql_upgrade --force</strong></span>
            </p></li><li class="listitem"><p>
              MySQL 8.0.16 の時点: <span class="command"><strong>mysqld --upgrade=FORCE</strong></span>
            </p></li></ul></div></li></ul></div><p>
      MySQL 8.0.16 より前は、特定の <span class="command"><strong>mysql_upgrade</strong></span> オプションが実行するアクションに影響します。 次のテーブルに、同様の効果を得るために MySQL 8.0.16 の時点で使用するサーバー <code class="option">--upgrade</code> オプションの値を示します。 (指定された <code class="option">--upgrade</code> オプション値には追加の効果がある場合があるため、これらは必ずしも完全に同等であるとはかぎりません。) 
    </p><div class="informaltable"><table summary="Server --upgrade option value equivalents to certain mysql_upgrade options."><col style="width: 50%"><col style="width: 50%"><thead><tr>
          <th>mysql_upgrade オプション</th>
          <th>サーバーオプション</th>
        </tr></thead><tbody><tr>
          <td><code class="option">--skip-sys-schema</code></td>
          <td><code class="option">--upgrade=NONE</code> または <code class="option">--upgrade=MINIMAL</code></td>
        </tr><tr>
          <td><code class="option">--upgrade-system-tables</code></td>
          <td><code class="option">--upgrade=NONE</code> または <code class="option">--upgrade=MINIMAL</code></td>
        </tr><tr>
          <td><code class="option">--force</code></td>
          <td><code class="option">--upgrade=FORCE</code></td>
        </tr></tbody></table></div><p>
      アップグレードステップ 2 で発生する処理に関する追加のノート:
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          ステップ 2 では、<code class="literal">sys</code> スキーマがインストールされていない場合はインストールし、インストールされていない場合は現在のバージョンにアップグレードします。 <code class="literal">sys</code> スキーマは存在するが <code class="literal">version</code> ビューがない場合、その存在しないという前提で、ユーザーが作成したスキーマがあるとエラーが発生します: 
        </p><pre class="programlisting">A sys schema exists with no sys.version view. If
you have a user created sys schema, this must be renamed for the
upgrade to succeed.
</pre><p>
          この場合にアップグレードするには、まず既存の <code class="literal">sys</code> スキーマを削除するか、名前を変更します。 その後、アップグレード手順を再度実行します。 (場合によっては、ステップ 2 を強制的に実行する必要があります。) 
        </p><p>
          <code class="literal">sys</code> スキーマチェックを防止するには:
        </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
              MySQL 8.0.16 の時点: <code class="option">--upgrade=NONE</code> または <code class="option">--upgrade=MINIMAL</code> オプションを使用してサーバーを起動します。
            </p></li><li class="listitem"><p>
              MySQL 8.0.16 より前: <code class="option">--skip-sys-schema</code> オプションを指定して <span class="command"><strong>mysql_upgrade</strong></span> を起動します。
            </p></li></ul></div></li><li class="listitem"><p>
          ステップ 2 では、必要に応じてすべてのユーザースキーマのすべてのテーブルを処理します。 テーブルチェックの完了には時間がかかる場合があります。 各テーブルはロックされるため、処理中にほかのセッションで使用することはできません。 チェックと修復の処理には時間がかかることがあり、特に大きなテーブルでは長い時間を要する可能性があります。 テーブルチェックでは、<code class="literal">CHECK TABLE</code> ステートメントの <code class="literal">FOR UPGRADE</code> オプションを使用します。 このオプションに必要な内容の詳細は、<a class="xref" href="sql-statements.html#check-table" title="13.7.3.2 CHECK TABLE ステートメント">セクション13.7.3.2「CHECK TABLE ステートメント」</a> を参照してください。 
        </p><p>
          テーブルチェックを防止するには:
        </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
              MySQL 8.0.16 の時点: <code class="option">--upgrade=NONE</code> または <code class="option">--upgrade=MINIMAL</code> オプションを使用してサーバーを起動します。
            </p></li><li class="listitem"><p>
              MySQL 8.0.16 より前: <code class="option">--upgrade-system-tables</code> オプションを指定して <span class="command"><strong>mysql_upgrade</strong></span> を起動します。
            </p></li></ul></div><p>
          テーブルチェックを強制するには:
        </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
              MySQL 8.0.16 の時点: <code class="option">--upgrade=FORCE</code> オプションを使用してサーバーを起動します。
            </p></li><li class="listitem"><p>
              MySQL 8.0.16 より前: <code class="option">--force</code> オプションを指定して <span class="command"><strong>mysql_upgrade</strong></span> を起動します。
            </p></li></ul></div></li><li class="listitem"><p>
          ステップ 2 では、MySQL のバージョン番号をデータディレクトリ内の <code class="filename">mysql_upgrade_info</code> という名前のファイルに保存します。
        </p><a class="indexterm" name="idm45548116794896"></a><a class="indexterm" name="idm45548116792800"></a><a class="indexterm" name="idm45548116790592"></a><p>
          <code class="filename">mysql_upgrade_info</code> ファイルを無視して、次のことに関係なくチェックを実行するには:
        </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
              MySQL 8.0.16 の時点: <code class="option">--upgrade=FORCE</code> オプションを使用してサーバーを起動します。
            </p></li><li class="listitem"><p>
              MySQL 8.0.16 より前: <code class="option">--force</code> オプションを指定して <span class="command"><strong>mysql_upgrade</strong></span> を起動します。
            </p></li></ul></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
            <code class="filename">mysql_upgrade_info</code> ファイルは非推奨です。将来のバージョンの MySQL で削除される予定です。
          </p></div></li><li class="listitem"><p>
          ステップ 2 では、チェックおよび修復されたすべてのテーブルに現在の MySQL バージョン番号を付けます。 これにより、同じバージョンのサーバーで次回のアップグレードチェックが行われるときに、特定のテーブルを再度チェックまたは修復する必要があるかどうかを判断できます。 
        </p></li><li class="listitem"><p>
          ステップ 2 では、システムテーブルをアップグレードして、現在の構造になるようにします。 これは、サーバーと <span class="command"><strong>mysql_upgrade</strong></span> のどちらがこのステップを実行するかに関係なく当てはまります。 ヘルプテーブルおよびタイムゾーンテーブルの内容に関して、<span class="command"><strong>mysql_upgrade</strong></span> はどちらのタイプのテーブルもロードしませんが、サーバーはヘルプテーブルをロードしますが、タイムゾーンテーブルはロードしません。 (つまり、MySQL 8.0.16 より前では、サーバーはデータディレクトリの初期化時にのみヘルプテーブルをロードします。 MySQL 8.0.16 では、初期化およびアップグレード時にヘルプテーブルがロードされます。) タイムゾーンテーブルをロードする手順はプラットフォームによって異なり、DBA による決定が必要なため、自動的には実行できません。 
        </p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="upgrading-from-previous-series"></a>2.11.4 MySQL 8.0 での変更</h3></div></div></div><p>
      MySQL 8.0 にアップグレードする前に、このセクションで説明されている変更を確認して、現在の MySQL インストールおよびアプリケーションに適用される変更を特定します。 推奨されるアクションを実行します。 
    </p><p>
      <span class="bold"><strong>互換性のない変更</strong></span>としてマークされた変更は、以前のバージョンの MySQL との互換性がないため、<span class="emphasis"><em>アップグレード前</em></span>に注意する必要がある場合があります。 弊社の目的はそれらの変更を避けることですが、各リリースの間の非適合性よりもさらに深刻な問題を修正するために必要である場合もあります。 インストールに適用可能なアップグレードの問題に互換性がない場合は、説明に示されている手順に従ってください。 
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a class="xref" href="installing.html#upgrade-data-dictionary-changes" title="データディクショナリの変更">データディクショナリの変更</a></p></li><li class="listitem"><p><a class="xref" href="installing.html#upgrade-caching-sha2-password" title="優先認証プラグインとしての caching_sha2_password">優先認証プラグインとしての caching_sha2_password</a></p></li><li class="listitem"><p><a class="xref" href="installing.html#upgrade-configuration-changes" title="構成の変更">構成の変更</a></p></li><li class="listitem"><p><a class="xref" href="installing.html#upgrade-server-changes" title="サーバーの変更">サーバーの変更</a></p></li><li class="listitem"><p><a class="xref" href="installing.html#upgrade-innodb-changes" title="InnoDB の変更点">InnoDB の変更点</a></p></li><li class="listitem"><p><a class="xref" href="installing.html#upgrade-sql-changes" title="SQL の変更">SQL の変更</a></p></li></ul></div><div class="simplesect"><div class="titlepage"><div><div><h4 class="title"><a name="upgrade-data-dictionary-changes"></a>データディクショナリの変更</h4></div></div></div><p>
        MySQL Server 8.0 には、トランザクションテーブルのデータベースオブジェクトに関する情報を含むグローバルデータディクショナリが組み込まれています。 以前の MySQL シリーズでは、ディクショナリデータはメタデータファイルおよび非トランザクションシステムテーブルに格納されていました。 そのため、アップグレード手順では、特定の前提条件を確認して、インストールのアップグレード準備状況を確認する必要があります。 詳細は、<a class="xref" href="installing.html#upgrade-prerequisites" title="2.11.5 アップグレード用のインストールの準備">セクション2.11.5「アップグレード用のインストールの準備」</a>を参照してください。 データディクショナリ対応サーバーには、一般的な操作上の違いがいくつかあります。<a class="xref" href="data-dictionary.html#data-dictionary-usage-differences" title="14.7 データディクショナリの使用方法の違い">セクション14.7「データディクショナリの使用方法の違い」</a> を参照してください。 
      </p></div><div class="simplesect"><div class="titlepage"><div><div><h4 class="title"><a name="upgrade-caching-sha2-password"></a>優先認証プラグインとしての caching_sha2_password</h4></div></div></div><a class="indexterm" name="idm45548116758848"></a><p>
        <code class="literal">caching_sha2_password</code> および <code class="literal">sha256_password</code> 認証プラグインは、<code class="literal">mysql_native_password</code> プラグインよりもセキュアなパスワード暗号化を提供し、<code class="literal">caching_sha2_password</code> は <code class="literal">sha256_password</code> よりも優れたパフォーマンスを提供します。 <code class="literal">caching_sha2_password</code> のこれらの優れたセキュリティおよびパフォーマンス特性のため、MySQL 8.0 が優先認証プラグインであり、<code class="literal">mysql_native_password</code> ではなくデフォルトの認証プラグインでもあります。 この変更は、サーバーと <code class="literal">libmysqlclient</code> クライアントライブラリの両方に影響します: 
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            サーバーの場合、<code class="literal">default_authentication_plugin</code> システム変数のデフォルト値が <code class="literal">mysql_native_password</code> から <code class="literal">caching_sha2_password</code> に変更されます。
          </p><p>
            この変更は、MySQL 8.0 以上のインストールまたはアップグレード後に作成された新しいアカウントにのみ適用されます。 アップグレードインストールにすでに存在するアカウントの場合、認証プラグインは変更されません。 <code class="literal">caching_sha2_password</code> に切り替える既存のユーザーは、<code class="literal">ALTER USER</code> ステートメントを使用してこれを実行できます: 
          </p><pre class="programlisting">ALTER USER <em class="replaceable"><code>user</code></em>
  IDENTIFIED WITH caching_sha2_password
  BY '<em class="replaceable"><code>password</code></em>';
</pre></li><li class="listitem"><p>
            <code class="literal">libmysqlclient</code> ライブラリは、<code class="literal">caching_sha2_password</code> を <code class="literal">mysql_native_password</code> ではなくデフォルトの認証プラグインとして扱います。
          </p></li></ul></div><p>
        次の各セクションでは、<code class="literal">caching_sha2_password</code> のより有望なロールの影響について説明します:
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a class="xref" href="installing.html#upgrade-caching-sha2-password-compatibility-issues" title="caching_sha2_password の互換性の問題および解決策">caching_sha2_password の互換性の問題および解決策</a></p></li><li class="listitem"><p><a class="xref" href="installing.html#upgrade-caching-sha2-password-compatible-connectors" title="caching_sha2_password-Compatible クライアントおよびコネクタ">caching_sha2_password-Compatible クライアントおよびコネクタ</a></p></li><li class="listitem"><p><a class="xref" href="installing.html#upgrade-caching-sha2-password-root-account" title="caching_sha2_password および root 管理アカウント">caching_sha2_password および root 管理アカウント</a></p></li><li class="listitem"><p><a class="xref" href="installing.html#upgrade-caching-sha2-password-replication" title="caching_sha2_password とレプリケーション">caching_sha2_password とレプリケーション</a></p></li></ul></div><h5><a name="upgrade-caching-sha2-password-compatibility-issues"></a>caching_sha2_password の互換性の問題および解決策</h5><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">重要</div><p>
          MySQL インストールで 8.0 より前のクライアントを提供する必要があり、MySQL 8.0 以上へのアップグレード後に互換性の問題が発生した場合、これらの問題に対処して 8.0 より前の互換性をリストアする最も簡単な方法は、以前のデフォルトの認証プラグイン (<code class="literal">mysql_native_password</code>) に戻すようにサーバーを再構成することです。 たとえば、サーバーオプションファイルで次の行を使用します: 
        </p><pre class="programlisting">[mysqld]
default_authentication_plugin=mysql_native_password
</pre><p>
          この設定により、インストールで使用されているクライアントおよびコネクタが <code class="literal">caching_sha2_password</code> を認識するようにアップグレードされるまで、8.0 より前のクライアントが 8.0 サーバーに接続できるようになります。 ただし、この設定は、長期または永続的なソリューションとしてではなく、一時的なものとして表示する必要があります。これは、この設定を有効にして作成された新しいアカウントが、<code class="literal">caching_sha2_password</code> によって提供される改善された認証セキュリティを予測するためです。 
        </p></div><p>
        <code class="literal">caching_sha2_password</code> を使用すると、<code class="literal">mysql_native_password</code> よりもセキュアなパスワードハッシュが提供されます (その結果、クライアント接続認証が改善されます)。 ただし、既存の MySQL インストールに影響する可能性がある互換性の影響もあります: 
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <code class="literal">caching_sha2_password</code> について知るために更新されていないクライアントおよびコネクタでは、<code class="literal">caching_sha2_password</code> で認証されないアカウントを使用する場合でも、<code class="literal">caching_sha2_password</code> でデフォルトの認証プラグインとして構成された MySQL 8.0 サーバーへの接続に問題が発生する可能性があります。 この問題は、サーバーがデフォルトの認証プラグインの名前をクライアントに指定しているために発生します。 クライアントまたはコネクタが、認識されないデフォルト認証プラグインを正常に処理しないクライアント/サーバープロトコル実装に基づいている場合、次のいずれかのエラーで失敗する可能性があります: 
          </p><a class="indexterm" name="idm45548116718464"></a><a class="indexterm" name="idm45548116716000"></a><a class="indexterm" name="idm45548116713648"></a><pre class="programlisting">Authentication plugin 'caching_sha2_password' is not supported
</pre><pre class="programlisting">Authentication plugin 'caching_sha2_password' cannot be loaded:
dlopen(/usr/local/mysql/lib/plugin/caching_sha2_password.so, 2):
image not found
</pre><pre class="programlisting">Warning: mysqli_connect(): The server requested authentication
method unknown to the client [caching_sha2_password]
</pre><p>
            不明なデフォルト認証プラグインに対するサーバーからのリクエストを正常に処理するコネクタの記述の詳細は、<a class="xref" href="security.html#pluggable-authentication-connector-writing" title="認証プラグインコネクタ - 書込みに関する考慮事項">認証プラグインコネクタ - 書込みに関する考慮事項</a> を参照してください。
          </p></li><li class="listitem"><p>
            <code class="literal">caching_sha2_password</code> で認証されるアカウントを使用するクライアントは、セキュアな接続 (TLS/SSL 資格証明、Unix ソケットファイルまたは共有メモリーを使用して TCP を使用して確立) または RSA キーペアを使用したパスワード交換をサポートする暗号化されていない接続を使用する必要があります。 このセキュリティ要件は <code class="literal">mysql_native_passsword</code> には適用されないため、<code class="literal">caching_sha2_password</code> への切替えには追加の構成が必要になる場合があります (<a class="xref" href="security.html#caching-sha2-pluggable-authentication" title="6.4.1.2 SHA-2 プラガブル認証のキャッシュ">セクション6.4.1.2「SHA-2 プラガブル認証のキャッシュ」</a> を参照)。 ただし、MySQL 8.0 のクライアント接続では、デフォルトで TLS/SSL を使用することをお薦めします。そのため、そのプリファレンスにすでに準拠しているクライアントでは、追加の構成が必要ない場合があります。 
          </p></li><li class="listitem"><p>
            <code class="literal">caching_sha2_password</code> について知るために更新されていないクライアントおよびコネクタは、このプラグインが有効であると認識されないため、<code class="literal">caching_sha2_password</code> で認証されるアカウントに接続できません。 (これは、<a class="xref" href="security.html#pluggable-authentication-compatibility" title="認証プラグインクライアント/サーバーの互換性">認証プラグインクライアント/サーバーの互換性</a> で説明されているように、クライアント/サーバー認証プラグインの互換性要件が適用される方法の特定のインスタンスです。) この問題を回避するには、MySQL 8.0 以上から <code class="literal">libmysqlclient</code> に対してクライアントを再リンクするか、<code class="literal">caching_sha2_password</code> を認識する更新済コネクタを取得します。 
          </p></li><li class="listitem"><p>
            <code class="literal">caching_sha2_password</code> は <code class="literal">libmysqlclient</code> クライアントライブラリのデフォルトの認証プラグインでもあるため、クライアントプログラムが <code class="option">--default-auth=mysql_native_password</code> オプションで呼び出されないかぎり、MySQL 8.0 クライアントから <code class="literal">mysql_native_password</code> (以前のデフォルトの認証プラグイン) を使用するアカウントへの接続には、クライアント/サーバープロトコルで追加のラウンドトリップが必要になります。
          </p></li></ul></div><p>
        8.0 MySQL より前のバージョンの <code class="literal">libmysqlclient</code> クライアントライブラリは、MySQL 8.0 サーバー (<code class="literal">caching_sha2_password</code> で認証されるアカウントを除く) に接続できます。 つまり、<code class="literal">libmysqlclient</code> に基づく 8.0 より前のクライアントも接続できる必要があります。 例: 
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <span class="command"><strong>mysql</strong></span> や <span class="command"><strong>mysqladmin</strong></span> などの標準 MySQL クライアントは <code class="literal">libmysqlclient</code> ベースです。
          </p></li><li class="listitem"><p>
            Perl DBI 用の DBD::mysql ドライバは <code class="literal">libmysqlclient</code> ベースです。
          </p></li><li class="listitem"><p>
            MySQL Connector/Python には、<code class="literal">libmysqlclient</code> ベースの C 拡張モジュールがあります。 これを使用するには、接続時に <code class="literal">use_pure=False</code> オプションを含めます。 
          </p></li></ul></div><p>
        既存の MySQL 8.0 インストールを MySQL 8.0.4 以上にアップグレードする場合、一部の古い <code class="literal">libmysqlclient</code> ベースのクライアントは、アップグレードによってインストールされた新しいクライアントライブラリを使用するため、動的にリンクされていれば<span class="quote">「<span class="quote">「自動」</span>」</span>をアップグレードできます。 たとえば、Perl DBI 用の DBD::mysql ドライバで動的リンクが使用されている場合、MySQL 8.0.4 以上へのアップグレード後に <code class="literal">libmysqlclient</code> を使用できます。その結果は次のようになります: 
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            アップグレードの前に、DBD::mysql を使用する DBI スクリプトは、<code class="literal">caching_sha2_password</code> で認証されるアカウントを除き、MySQL 8.0 サーバーに接続できます。
          </p></li><li class="listitem"><p>
            アップグレード後、同じスクリプトで <code class="literal">caching_sha2_password</code> アカウントも使用できるようになります。
          </p></li></ul></div><p>
        ただし、8.0.4 より前の MySQL 8.0 インストールの <code class="literal">libmysqlclient</code> インスタンスにはバイナリ互換性があるため、前述の結果になります: どちらの場合も、共有ライブラリのメジャーバージョン番号 21 が使用されます。 MySQL 5.7 以前から <code class="literal">libmysqlclient</code> にリンクされているクライアントの場合、バイナリ互換性のない異なるバージョン番号を持つ共有ライブラリにリンクします。 この場合、MySQL 8.0 サーバーおよび <code class="literal">caching_sha2_password</code> アカウントとの完全な互換性を確保するために、8.0.4 以上の <code class="literal">libmysqlclient</code> に対してクライアントを再コンパイルする必要があります。 
      </p><p>
        MySQL Connector/J 5.1 は 8.0.8 を介して MySQL 8.0 サーバーに接続できますが、<code class="literal">caching_sha2_password</code> で認証されるアカウントは例外です。(Connector/J 8.0.9 以上が <code class="literal">caching_sha2_password</code> アカウントに接続するために必要です。)
      </p><p>
        <code class="literal">libmysqlclient</code> 以外のクライアント/サーバープロトコルの実装を使用するクライアントは、新しい認証プラグインを認識する新しいバージョンにアップグレードする必要がある場合があります。 たとえば、PHP では、MySQL の接続性は通常、<code class="literal">mysqlnd</code> に基づいており、<code class="literal">caching_sha2_password</code> については現在認識されていません。 更新されたバージョンの <code class="literal">mysqlnd</code> が使用可能になるまで、PHP クライアントが MySQL 8.0 に接続できるようにするには、前述のように、<code class="literal">mysql_native_password</code> にデフォルトの認証プラグインとして戻すようにサーバーを再構成します。 
      </p><p>
        クライアントまたはコネクタがデフォルトの認証プラグインを明示的に指定するオプションをサポートしている場合は、それを使用して <code class="literal">caching_sha2_password</code> 以外のプラグインに名前を付けます。 例: 
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            一部の MySQL クライアントは、<code class="option">--default-auth</code> オプションをサポートしています。 (<span class="command"><strong>mysql</strong></span> や <span class="command"><strong>mysqladmin</strong></span> などの標準 MySQL クライアントはこのオプションをサポートしていますが、それを使用せずに 8.0 サーバーに正常に接続できます。 ただし、他のクライアントも同様のオプションをサポートする場合があります。 その場合は、試行する価値があります。) 
          </p></li><li class="listitem"><p>
            <code class="literal">libmysqlclient</code> C API を使用するプログラムでは、<code class="literal">MYSQL_DEFAULT_AUTH</code> オプションを指定して <code class="literal">mysql_options()</code> 関数をコールできます。
          </p></li><li class="listitem"><p>
            クライアント/サーバープロトコルのネイティブ Python 実装を使用する MySQL Connector/Python スクリプトでは、<code class="literal">auth_plugin</code> 接続オプションを指定できます。 (または、<code class="literal">auth_plugin</code> を必要とせずに MySQL 8.0 サーバーに接続できる Connector/Python C 拡張機能を使用します。) 
          </p></li></ul></div><h5><a name="upgrade-caching-sha2-password-compatible-connectors"></a>caching_sha2_password-Compatible クライアントおよびコネクタ</h5><p>
        <code class="literal">caching_sha2_password</code> について知るために更新されたクライアントまたはコネクタが使用可能な場合は、<code class="literal">caching_sha2_password</code> をデフォルトの認証プラグインとして構成された MySQL 8.0 サーバーに接続するときに互換性を確保するための最善の方法です。
      </p><p>
        次のクライアントおよびコネクタは、<code class="literal">caching_sha2_password</code> をサポートするようにアップグレードされています:
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            MySQL 8.0 (8.0.4 以上) の <code class="literal">libmysqlclient</code> クライアントライブラリ。 <span class="command"><strong>mysql</strong></span> や <span class="command"><strong>mysqladmin</strong></span> などの標準 MySQL クライアントは <code class="literal">libmysqlclient</code> ベースであるため、互換性もあります。 
          </p></li><li class="listitem"><p>
            MySQL 5.7 (5.7.23 以上) の <code class="literal">libmysqlclient</code> クライアントライブラリ。 <span class="command"><strong>mysql</strong></span> や <span class="command"><strong>mysqladmin</strong></span> などの標準 MySQL クライアントは <code class="literal">libmysqlclient</code> ベースであるため、互換性もあります。 
          </p></li><li class="listitem"><p>
            MySQL Connector/C++ 1.1.11 以上または 8.0.7 以上。
          </p></li><li class="listitem"><p>
            MySQL Connector/J 8.0.9 以上。
          </p></li><li class="listitem"><p>
            MySQL Connector/NET 8.0.10 以上 (クラシック MySQL プロトコルを使用)。
          </p></li><li class="listitem"><p>
            MySQL Connector/Node.js 8.0.9 以上。
          </p></li><li class="listitem"><p>
            PHP: X DevAPI PHP 拡張機能 (mysql_xdevapi) は、<code class="literal">caching_sha2_password</code> をサポートしています。
          </p><p>
            PHP: PDO_MySQL および ext/mysqli 拡張機能は <code class="literal">caching_sha2_password</code> をサポートしていません。 また、7.2.4 より前の 7.1.16 および PHP 7.2 より前の PHP バージョンで使用すると、<code class="literal">caching_sha2_password</code> が使用されていない場合でも <code class="literal">default_authentication_plugin=caching_sha2_password</code> との接続に失敗します。 
          </p></li></ul></div><h5><a name="upgrade-caching-sha2-password-root-account"></a>caching_sha2_password および root 管理アカウント</h5><p>
        MySQL 8.0 へのアップグレードの場合、<code class="literal">'root'@'localhost'</code>管理アカウントのプラグインを含め、認証プラグインの既存のアカウントは変更されません。
      </p><p>
        MySQL 8.0 の新規インストールでは、(<a class="xref" href="installing.html#data-directory-initialization" title="2.10.1 データディレクトリの初期化">セクション2.10.1「データディレクトリの初期化」</a> の手順を使用して) データディレクトリを初期化すると、<code class="literal">'root'@'localhost'</code>アカウントが作成され、そのアカウントはデフォルトで <code class="literal">caching_sha2_password</code> を使用します。 したがって、データディレクトリの初期化後にサーバーに接続するには、<code class="literal">caching_sha2_password</code> をサポートするクライアントまたはコネクタを使用する必要があります。 これを実行できるが、インストール後に <code class="literal">root</code> アカウントで <code class="literal">mysql_native_password</code> を使用する場合は、MySQL をインストールし、通常どおりにデータディレクトリを初期化します。 次に、<code class="literal">root</code> としてサーバーに接続し、次のように <code class="literal">ALTER USER</code> を使用してアカウント認証プラグインおよびパスワードを変更します: 
      </p><pre class="programlisting">ALTER USER 'root'@'localhost'
  IDENTIFIED WITH mysql_native_password
  BY '<em class="replaceable"><code>password</code></em>';
</pre><p>
        使用するクライアントまたはコネクタが <code class="literal">caching_sha2_password</code> をまだサポートしていない場合は、アカウントが作成されるとすぐに <code class="literal">root</code> アカウントを <code class="literal">mysql_native_password</code> に関連付ける変更済データディレクトリ初期化プロシージャを使用できます。 これを行うには、次のいずれかの方法を使用します: 
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <code class="option">--initialize</code> または <code class="option">--initialize-insecure</code> とともに <code class="option">--default-authentication-plugin=mysql_native_password</code> オプションを指定します。
          </p></li><li class="listitem"><p>
            オプションファイルで <code class="literal">default_authentication_plugin</code> を <code class="literal">mysql_native_password</code> に設定し、<code class="option">--initialize</code> または <code class="option">--initialize-insecure</code> とともに <code class="option">--defaults-file</code> オプションを使用してそのオプションファイルに名前を付けます。 (この場合、後続のサーバー起動にそのオプションファイルを引き続き使用すると、<code class="literal">default_authentication_plugin</code> 設定をオプションファイルから削除しないかぎり、<code class="literal">caching_sha2_password</code> ではなく <code class="literal">mysql_native_password</code> で新しいアカウントが作成されます。) 
          </p></li></ul></div><h5><a name="upgrade-caching-sha2-password-replication"></a>caching_sha2_password とレプリケーション</h5><p>
        すべてのサーバーが MySQL 8.0.4 以上にアップグレードされているレプリケーションシナリオでは、ソースサーバーへのレプリカ接続で、<code class="literal">caching_sha2_password</code> で認証されるアカウントを使用できます。 このような接続の場合、<code class="literal">caching_sha2_password</code> で認証されるアカウントを使用する他のクライアントと同じ要件が適用されます: セキュアな接続または RSA ベースのパスワード交換を使用します。 
      </p><p>
        ソース/レプリカレプリケーションのために <code class="literal">caching_sha2_password</code> アカウントに接続するには:
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            次の <code class="literal">CHANGE MASTER TO</code> オプションのいずれかを使用します:
          </p><pre class="programlisting">MASTER_SSL = 1
GET_MASTER_PUBLIC_KEY = 1
MASTER_PUBLIC_KEY_PATH='<em class="replaceable"><code>path to RSA public key file</code></em>'
</pre></li><li class="listitem"><p>
            または、サーバーの起動時に必要なキーが指定されている場合は、RSA 公開キー関連オプションを使用できます。
          </p></li></ul></div><p>
        グループレプリケーション用の <code class="literal">caching_sha2_password</code> アカウントに接続するには:
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            OpenSSL を使用して構築された MySQL の場合は、次のいずれかのシステム変数を設定します:
          </p><pre class="programlisting">SET GLOBAL group_replication_recovery_use_ssl = ON;
SET GLOBAL group_replication_recovery_get_public_key = 1;
SET GLOBAL group_replication_recovery_public_key_path = '<em class="replaceable"><code>path to RSA public key file</code></em>';
</pre></li><li class="listitem"><p>
            または、サーバーの起動時に必要なキーが指定されている場合は、RSA 公開キー関連オプションを使用できます。
          </p></li></ul></div></div><div class="simplesect"><div class="titlepage"><div><div><h4 class="title"><a name="upgrade-configuration-changes"></a>構成の変更</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <span class="bold"><strong>互換性のない変更</strong></span>: MySQL ストレージエンジンは独自のパーティショニングハンドラを提供する役割を果たし、MySQL サーバーは一般的なパーティショニングサポートを提供しなくなりました。 MySQL 8.0 でサポートされているネイティブパーティショニングハンドラを提供するストレージエンジンは、<code class="literal">InnoDB</code> および <code class="literal">NDB</code> のみです。 ほかのストレージエンジンを使用するパーティション化されたテーブルは、<code class="literal">InnoDB</code> または <code class="literal">NDB</code> に変換するか、サーバーをアップグレードする前にパーティション化を削除するために変更する必要があります。それ以外の場合は、あとで使用できません。 
          </p><p>
            <code class="literal">MyISAM</code> テーブルの <code class="literal">InnoDB</code> への変換の詳細は、<a class="xref" href="innodb-storage-engine.html#converting-tables-to-innodb" title="15.6.1.5 MyISAM から InnoDB へのテーブルの変換">セクション15.6.1.5「MyISAM から InnoDB へのテーブルの変換」</a> を参照してください。
          </p><p>
            このようなサポートがないストレージエンジンを使用してパーティション化されたテーブルになるテーブル作成ステートメントは、MySQL 8.0 のエラー (<span class="errorcode"> ER_CHECK_NOT_IMPLEMENTED </span>) で失敗します。 <span class="command"><strong>mysqldump</strong></span> を使用して MySQL 5.7 (またはそれ以前) で作成されたダンプファイルから MySQL 8.0 サーバーにデータベースをインポートする場合は、パーティションテーブルを作成するすべてのステートメントで、パーティション化への参照を削除するか、ストレージエンジンを <code class="literal">InnoDB</code> として指定するか、デフォルトで <code class="literal">InnoDB</code> として設定できるようにして、サポートされていないストレージエンジンも指定しないようにする必要があります。 
          </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
              <a class="xref" href="installing.html#upgrade-prerequisites" title="2.11.5 アップグレード用のインストールの準備">セクション2.11.5「アップグレード用のインストールの準備」</a> で提供されている手順では、MySQL 8.0 にアップグレードする前に変更する必要があるパーティションテーブルを識別する方法について説明します。
            </p></div><p>
            詳細は、<a class="xref" href="partitioning.html#partitioning-limitations-storage-engines" title="24.6.2 ストレージエンジンに関連するパーティショニング制限">セクション24.6.2「ストレージエンジンに関連するパーティショニング制限」</a> を参照してください。
          </p></li><li class="listitem"><p>
            <span class="bold"><strong>互換性のない変更</strong></span>: いくつかのサーバーエラーコードが使用されておらず、削除されています (リストについては、<a class="xref" href="introduction.html#mysql-nutshell-removals" title="MySQL 8.0 で削除された機能">MySQL 8.0 で削除された機能</a> を参照)。 特にテストするアプリケーションは更新する必要があります。 
          </p></li><li class="listitem"><p>
            <span class="bold"><strong>重要な変更</strong></span>: デフォルトの文字セットが <code class="literal">latin1</code> から <code class="literal">utf8mb4</code> に変更されました。 次のシステム変数が影響を受けます: 
          </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                <code class="literal">character_set_server</code> および <code class="literal">character_set_database</code> システム変数のデフォルト値が <code class="literal">latin1</code> から <code class="literal">utf8mb4</code> に変更されました。
              </p></li><li class="listitem"><p>
                <code class="literal">collation_server</code> および <code class="literal">collation_database</code> システム変数のデフォルト値が <code class="literal">latin1_swedish_ci</code> から <code class="literal">utf8mb4_0900_ai_ci</code> に変更されました。
              </p></li></ul></div><p>
            その結果、明示的な文字セットと照合順序が指定されていないかぎり、新しいオブジェクトのデフォルトの文字セットと照合順序は以前とは異なります。 これには、データベースおよびその内部のオブジェクト (テーブル、ビュー、ストアドプログラムなど) が含まれます。 以前のデフォルトが使用されていたと仮定すると、これらを保持する方法の 1 つは、<code class="filename">my.cnf</code> ファイル内の次の行を使用してサーバーを起動することです: 
          </p><pre class="programlisting">[mysqld]
character_set_server=latin1
collation_server=latin1_swedish_ci
</pre><p>
            レプリケートされた設定では、MySQL 5.7 から 8.0 にアップグレードする場合、アップグレードする前にデフォルトの文字セットを MySQL 5.7 で使用されている文字セットに戻すことをお薦めします。 アップグレードの完了後、デフォルトの文字セットを <code class="literal">utf8mb4</code> に変更できます。 
          </p></li><li class="listitem"><p>
            <span class="bold"><strong>互換性のない変更</strong></span>: MySQL 8.0.11 の時点では、サーバーの初期化時に使用された設定とは異なる <code class="literal">lower_case_table_names</code> 設定でサーバーを起動することは禁止されています。 様々なデータディクショナリテーブルのフィールドで使用される照合は、サーバーの初期化時に定義された <code class="literal">lower_case_table_names</code> 設定に基づいており、異なる設定でサーバーを再起動すると、識別子の順序付けおよび比較方法に矛盾が生じるため、制限が必要です。 
          </p></li></ul></div></div><div class="simplesect"><div class="titlepage"><div><div><h4 class="title"><a name="upgrade-server-changes"></a>サーバーの変更</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            MySQL 8.0.11 では、ユーザーアカウントの非権限特性を変更するための <code class="literal">GRANT</code> ステートメントの使用、<code class="literal">NO_AUTO_CREATE_USER</code> SQL モード、<code class="literal">PASSWORD()</code> 関数、<code class="option">old_passwords</code> システム変数など、アカウント管理に関連するいくつかの非推奨機能が削除されました。
          </p><p>
            これらの削除された機能を参照するステートメントの MySQL 5.7 から 8.0 へのレプリケーションによって、レプリケーションが失敗する可能性があります。 <a class="xref" href="introduction.html#mysql-nutshell-removals" title="MySQL 8.0 で削除された機能">MySQL 8.0 で削除された機能</a> で説明されているように、削除された機能のいずれかを使用するアプリケーションを改訂して回避し、可能な場合は代替機能を使用する必要があります。 
          </p><p>
            MySQL 8.0 での起動の失敗を回避するには、MySQL オプションファイルの <code class="literal">sql_mode</code> システム変数設定から <code class="literal">NO_AUTO_CREATE_USER</code> のインスタンスを削除します。
          </p><p>
            ストアドプログラム定義に <code class="literal">NO_AUTO_CREATE_USER</code> SQL モードを含むダンプファイルを MySQL 8.0 サーバーにロードすると、障害が発生します。 MySQL 5.7.24 および MySQL 8.0.13 の時点で、<span class="command"><strong>mysqldump</strong></span> はストアドプログラム定義から <code class="literal">NO_AUTO_CREATE_USER</code> を削除します。 以前のバージョンの <code class="literal">mysqldump</code> で作成されたダンプファイルは、<code class="literal">NO_AUTO_CREATE_USER</code> のインスタンスを削除するために手動で変更する必要があります。 
          </p></li><li class="listitem"><p>
            MySQL 8.0.11 では、これらの非推奨の互換性 SQL モードは削除されました: <code class="literal">DB2</code>, <code class="literal">MAXDB</code>, <code class="literal">MSSQL</code>, <code class="literal">MYSQL323</code>, <code class="literal">MYSQL40</code>, <code class="literal">ORACLE</code>, <code class="literal">POSTGRESQL</code>, <code class="literal">NO_FIELD_OPTIONS</code>, <code class="literal">NO_KEY_OPTIONS</code>, <code class="literal">NO_TABLE_OPTIONS</code>。 これらを <code class="literal">sql_mode</code> システム変数に割り当てたり、<span class="command"><strong>mysqldump</strong></span> <code class="option">--compatible</code> オプションの許可された値として使用したりすることはできなくなりました。 
          </p><p>
            <code class="literal">MAXDB</code> を削除すると、<code class="literal">CREATE TABLE</code> または <code class="literal">ALTER TABLE</code> の <code class="literal">TIMESTAMP</code> データ型は <code class="literal">DATETIME</code> として扱われなくなります。
          </p><p>
            削除された SQL モードを参照するステートメントの MySQL 5.7 から 8.0 へのレプリケーションによって、レプリケーションが失敗する可能性があります。 これには、現在の <code class="literal">sql_mode</code> 値に削除されたモードのいずれかが含まれているときに実行されるストアドプログラム (ストアドプロシージャとストアドファンクション、トリガーおよびイベント) の <code class="literal">CREATE</code> ステートメントのレプリケーションが含まれます。 削除されたモードのいずれかを使用するアプリケーションは、それらを回避するために改訂する必要があります。 
          </p></li><li class="listitem"><p>
            MySQL 8.0.3 の時点では、空間データ型で <code class="literal">SRID</code> 属性を使用して、カラムに格納されている値の空間参照システム (SRS) を明示的に指定できます。 <a class="xref" href="data-types.html#spatial-type-overview" title="11.4.1 空間データ型">セクション11.4.1「空間データ型」</a>を参照してください。 
          </p><p>
            明示的な <code class="literal">SRID</code> 属性を持つ空間カラムは、SRID 制限付きです: カラムはその ID を持つ値のみを取り、そのカラムの <code class="literal">SPATIAL</code> インデックスはオプティマイザによって使用される対象になります。 オプティマイザは、<code class="literal">SRID</code> 属性のない空間カラムの <code class="literal">SPATIAL</code> インデックスを無視します。 <a class="xref" href="optimization.html#spatial-index-optimization" title="8.3.3 SPATIAL インデックス最適化">セクション8.3.3「SPATIAL インデックス最適化」</a>を参照してください。 SRID 制限のない空間カラムの <code class="literal">SPATIAL</code> インデックスをオプティマイザで考慮する場合は、そのような各カラムを変更する必要があります: 
          </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                カラム内のすべての値が同じ SRID を持つことを確認します。 ジオメトリカラム <em class="replaceable"><code>col_name</code></em> に含まれる SRID を確認するには、次のクエリーを使用します: 
              </p><pre class="programlisting">SELECT DISTINCT ST_SRID(<em class="replaceable"><code>col_name</code></em>) FROM <em class="replaceable"><code>tbl_name</code></em>;
</pre><p>
                クエリーで複数の行が返された場合、カラムには SRID の混在が含まれます。 その場合は、その内容を変更して、すべての値が同じ SRID を持つようにします。 
              </p></li><li class="listitem"><p>
                明示的な <code class="literal">SRID</code> 属性を持つようにカラムを再定義します。
              </p></li><li class="listitem"><p>
                <code class="literal">SPATIAL</code> インデックスを再作成します。
              </p></li></ul></div></li><li class="listitem"><p>
            正確な操作を実行する関数の <code class="literal">ST_</code>接頭辞、または最小境界矩形に基づいて操作を実行する関数の <code class="literal">MBR</code> 接頭辞を実装する空間関数ネームスペースの変更により、MySQL 8.0.0 でいくつかの空間関数が削除されました。 生成されたカラム定義で削除された空間関数を使用すると、アップグレードが失敗する可能性があります。 アップグレードする前に、削除された空間関数に対して <span class="command"><strong>mysqlcheck --check-upgrade</strong></span> を実行し、見つかったものを <code class="literal">ST_</code>または <code class="literal">MBR</code> の名前付き置換に置き換えます。 削除された空間関数のリストは、<a class="xref" href="introduction.html#mysql-nutshell-removals" title="MySQL 8.0 で削除された機能">MySQL 8.0 で削除された機能</a> を参照してください。 
          </p></li><li class="listitem"><p>
            <code class="literal">BACKUP_ADMIN</code> 権限は、MySQL 8.0.3 以上へのインプレースアップグレードの実行時に、<code class="literal">RELOAD</code> 権限を持つユーザーに自動的に付与されます。
          </p></li><li class="listitem"><p>
            MySQL 8.0.13 からは、一時テーブルの処理方法における行ベースまたは混合レプリケーションモードとステートメントベースのレプリケーションモードの違いにより、実行時のバイナリロギング形式の切り替えに新しい制限があります。

            </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                  セッションにオープン一時テーブルがある場合、<code class="literal">SET @@SESSION.binlog_format</code> は使用できません。
                </p></li><li class="listitem"><p>
                  いずれかのレプリケーションチャネルにオープン一時テーブルがある場合、<code class="literal">SET @@global.binlog_format</code> および <code class="literal">SET @@persist.binlog_format</code> は使用できません。 <code class="literal">SET @@persist_only.binlog_format</code> は、レプリケーションチャネルにオープン一時テーブルがある場合に許可されます。これは、<code class="literal">PERSIST</code> とは異なり、<code class="literal">PERSIST_ONLY</code> ではランタイムグローバルシステム変数値が変更されないためです。 
                </p></li><li class="listitem"><p>
                  レプリケーションチャネルアプライヤが実行されている場合、<code class="literal">SET @@global.binlog_format</code> および <code class="literal">SET @@persist.binlog_format</code> は使用できません。 これは、変更がレプリケーションチャネルで有効になるのは、そのアプライヤが再起動されたときのみであり、そのときにレプリケーションチャネルにオープン一時テーブルがある可能性があるためです。 この動作は、以前よりも制限されています。 <code class="literal">SET @@persist_only.binlog_format</code> は、レプリケーションチャネルアプライヤが実行されている場合に許可されます。 
                </p></li></ul></div><p>
          </p></li></ul></div></div><div class="simplesect"><div class="titlepage"><div><div><h4 class="title"><a name="upgrade-innodb-changes"></a>InnoDB の変更点</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <code class="literal">InnoDB</code> システムテーブルに基づく <code class="literal">INFORMATION_SCHEMA</code> ビューは、データディクショナリテーブルの内部システムビューに置き換えられました。 影響を受ける <code class="literal">InnoDB</code> <code class="literal">INFORMATION_SCHEMA</code> ビューの名前が変更されました: 
          </p><div class="table"><a name="innodb-new-is-views-upgrade"></a><p class="title"><b>表 2.16 名前が変更された InnoDB 情報スキーマビュー</b></p><div class="table-contents"><table summary="InnoDB Information Schema views that were renamed in MySQL 8.0."><col style="width: 50%"><col style="width: 50%"><thead><tr>
                <th>旧名称</th>
                <th>新規名</th>
              </tr></thead><tbody><tr>
                <td><code class="literal">INNODB_SYS_COLUMNS</code></td>
                <td><code class="literal">INNODB_COLUMNS</code></td>
              </tr><tr>
                <td><code class="literal">INNODB_SYS_DATAFILES</code></td>
                <td><code class="literal">INNODB_DATAFILES</code></td>
              </tr><tr>
                <td><code class="literal">INNODB_SYS_FIELDS</code></td>
                <td><code class="literal">INNODB_FIELDS</code></td>
              </tr><tr>
                <td><code class="literal">INNODB_SYS_FOREIGN</code></td>
                <td><code class="literal">INNODB_FOREIGN</code></td>
              </tr><tr>
                <td><code class="literal">INNODB_SYS_FOREIGN_COLS</code></td>
                <td><code class="literal">INNODB_FOREIGN_COLS</code></td>
              </tr><tr>
                <td><code class="literal">INNODB_SYS_INDEXES</code></td>
                <td><code class="literal">INNODB_INDEXES</code></td>
              </tr><tr>
                <td><code class="literal">INNODB_SYS_TABLES</code></td>
                <td><code class="literal">INNODB_TABLES</code></td>
              </tr><tr>
                <td><code class="literal">INNODB_SYS_TABLESPACES</code></td>
                <td><code class="literal">INNODB_TABLESPACES</code></td>
              </tr><tr>
                <td><code class="literal">INNODB_SYS_TABLESTATS</code></td>
                <td><code class="literal">INNODB_TABLESTATS</code></td>
              </tr><tr>
                <td><code class="literal">INNODB_SYS_VIRTUAL</code></td>
                <td><code class="literal">INNODB_VIRTUAL</code></td>
              </tr></tbody></table></div></div><br class="table-break"><p>
            MySQL 8.0.3 以上にアップグレードした後、以前の <code class="literal">InnoDB</code> <code class="literal">INFORMATION_SCHEMA</code> ビュー名を参照するスクリプトを更新します。
          </p></li><li class="listitem"><p>
            MySQL にバンドルされている<a class="ulink" href="http://www.zlib.net/" target="_top">「zlib ライブラリ」</a>バージョンは、バージョン 1.2.3 からバージョン 1.2.11 に引き上げられました。
          </p><p>
            zlib 1.2.11 の zlib <code class="literal">compressBound()</code> 関数は、zlib version 1.2.3 の場合よりも一定のバイト長を圧縮するために必要なバッファーサイズの見積りを少し大きく返します。 <code class="literal">compressBound()</code> 関数は、圧縮 <code class="literal">InnoDB</code> テーブルの作成時または圧縮 <code class="literal">InnoDB</code> テーブルへの行の挿入および更新時に許可される最大行サイズを決定する <code class="literal">InnoDB</code> 関数によってコールされます。 その結果、以前のリリースで成功した最大行サイズに非常に近い行サイズの <code class="literal">CREATE TABLE ... ROW_FORMAT=COMPRESSED</code>、<code class="literal">INSERT</code> および <code class="literal">UPDATE</code> 操作が失敗する可能性があります。 この問題を回避するには、アップグレードの前に、MySQL 8.0 テストインスタンスで大きい行を含む圧縮 <code class="literal">InnoDB</code> テーブルの <code class="literal">CREATE TABLE</code> ステートメントをテストします。 
          </p></li><li class="listitem"><p>
            <code class="literal">--innodb-directories</code> 機能の導入により、絶対パスまたはデータディレクトリ外の場所で作成された file-per-table および一般的なテーブルスペースファイルの場所を <code class="literal">innodb_directories</code> 引数値に追加する必要があります。 そうしないと、<code class="literal">InnoDB</code> はリカバリ中にこれらのファイルを検出できません。 テーブルスペースファイルの場所を表示するには、<code class="literal">INFORMATION_SCHEMA.FILES</code> テーブルをクエリーします: 
          </p><pre class="programlisting">SELECT TABLESPACE_NAME, FILE_NAME FROM INFORMATION_SCHEMA.FILES \G
</pre></li><li class="listitem"><p>
            undo ログはシステムテーブルスペースに存在できなくなりました。 MySQL 8.0 では、undo ログはデフォルトで 2 つの undo テーブルスペースに存在します。 詳細は、<a class="xref" href="innodb-storage-engine.html#innodb-undo-tablespaces" title="15.6.3.4 undo テーブルスペース">セクション15.6.3.4「undo テーブルスペース」</a>を参照してください。 
          </p><p>
            MySQL 5.7 から MySQL 8.0 にアップグレードする場合、MySQL 5.7 インスタンスに存在する undo テーブルスペースは削除され、2 つの新しいデフォルト undo テーブルスペースに置き換えられます。 デフォルトの undo テーブルスペースは、<code class="literal">innodb_undo_directory</code> 変数で定義された場所に作成されます。 <code class="literal">innodb_undo_directory</code> 変数が定義されていない場合、undo テーブルスペースはデータディレクトリに作成されます。 MySQL 5.7 から MySQL へのアップグレード 8.0 では、MySQL 5.7 インスタンスの undo テーブルスペースが空であることを保証する低速な停止が必要であり、安全に削除できます。 
          </p><p>
            以前の MySQL 8.0 リリースから MySQL 8.0.14 以降にアップグレードする場合、2 より大きい <code class="literal">innodb_undo_tablespaces</code> 設定の結果としてアップグレード前インスタンスに存在する undo テーブルスペースは、ユーザー定義 undo テーブルスペースとして扱われ、アップグレード後に <code class="literal">ALTER UNDO TABLESPACE</code> および <code class="literal">DROP UNDO TABLESPACE</code> 構文を使用してそれぞれ非アクティブ化および削除できます。 MySQL 8.0 リリースシリーズ内のアップグレードでは、常に低速な停止が必要になるわけではありません。つまり、既存の undo テーブルスペースに undo ログが含まれている可能性があります。 したがって、既存の undo テーブルスペースはアップグレードプロセスによって削除されません。 
          </p></li><li class="listitem"><p>
            <span class="bold"><strong>互換性のない変更</strong></span>: MySQL 8.0.17 では、<code class="literal">CREATE TABLESPACE ... ADD DATAFILE</code> 句で循環ディレクトリ参照は許可されません。 たとえば、次のステートメントの循環ディレクトリ参照 (<code class="literal">/../</code>) は使用できません: 
          </p><pre class="programlisting">CREATE TABLESPACE ts1 ADD DATAFILE ts1.ibd '<em class="replaceable"><code>any_directory</code></em>/../ts1.ibd';
</pre><p>
            Linux には制限の例外があり、前述のディレクトリがシンボリックリンクの場合は循環ディレクトリ参照が許可されます。 たとえば、<em class="replaceable"><code>any_directory</code></em> がシンボリックリンクの場合、前述の例のデータファイルパスは許可されます。 (データファイルパスを'<code class="literal">../</code>'で始めることはできます。) 
          </p><p>
            アップグレードの問題を回避するには、MySQL 8.0.17 以上にアップグレードする前に、テーブルスペースデータファイルパスから循環ディレクトリ参照を削除します。 テーブルスペースパスを調べるには、<code class="literal">INFORMATION_SCHEMA.INNODB_DATAFILES</code> テーブルをクエリーします。 
          </p></li><li class="listitem"><p>
            MySQL 8.0.14 で導入された回帰のため、パーティションテーブルおよび <code class="literal">lower_case_table_names=1</code> を含むインスタンスで、MySQL 8.0.14 から MySQL 8.0.16 への MySQL 5.7 または MySQL 8.0 リリースより前の大/小文字を区別するファイルシステムでのインプレースアップグレードが失敗しました。 失敗の原因は、パーティションテーブルのファイル名に関連する大/小文字の不一致の問題でした。 回帰を導入した修正が元に戻され、MySQL 8.0.14 より前の MySQL 5.7 または MySQL 8.0 リリースから MySQL 8.0.17 へのアップグレードが正常に機能するようになりました。 ただし、回帰は MySQL 8.0.14、8.0.15 および 8.0.16 リリースには引き続き存在します。 
          </p><p>
            パーティション化されたテーブルが存在し、<code class="literal">lower_case_table_names=1</code> がある場合、バイナリまたはパッケージを MySQL 8.0.17 にアップグレードした後にサーバーを起動すると、大/小文字を区別するファイルシステムでの MySQL 8.0.14、8.0.15 または 8.0.16 から MySQL 8.0.17 へのインプレースアップグレードが次のエラーで失敗します:
          </p><pre class="programlisting">Upgrading from server version <em class="replaceable"><code>version_number</code></em> with
partitioned tables and lower_case_table_names == 1 on a case sensitive file
system may cause issues, and is therefore prohibited. To upgrade anyway, restart
the new server version with the command line option 'upgrade=FORCE'. When
upgrade is completed, please execute 'RENAME TABLE <em class="replaceable"><code>part_table_name</code></em>
TO <em class="replaceable"><code>new_table_name</code></em>; RENAME TABLE <em class="replaceable"><code>new_table_name</code></em>
TO <em class="replaceable"><code>part_table_name</code></em>;' for each of the partitioned tables.
Please see the documentation for further information.
</pre><p>
            MySQL 8.0.17 へのアップグレード時にこのエラーが発生した場合は、次の回避策を実行します:
          </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
                <code class="option">--upgrade=force</code> を使用してサーバーを再起動し、アップグレード操作を強制的に続行します。
              </p></li><li class="listitem"><p>
                小文字のパーティション名デリミタ <code class="literal">(#p#</code>または<code class="literal">#sp#</code>を使用して、パーティションテーブルのファイル名を識別します:
              </p><pre class="programlisting">mysql&gt; SELECT FILE_NAME FROM INFORMATION_SCHEMA.FILES WHERE FILE_NAME LIKE '%#p#%' OR FILE_NAME LIKE '%#sp#%';</pre></li><li class="listitem"><p>
                識別されたファイルごとに、一時名を使用して関連するテーブルの名前を変更し、テーブルの名前を元の名前に戻します。
              </p><pre class="programlisting">mysql&gt; RENAME TABLE <em class="replaceable"><code>table_name</code></em> TO <em class="replaceable"><code>temporary_table_name</code></em>;
mysql&gt; RENAME TABLE <em class="replaceable"><code>temporary_table_name</code></em> TO <em class="replaceable"><code>table_name</code></em>;
</pre></li><li class="listitem"><p>
                パーティションテーブルファイル名の小文字のパーティション名デリミタがないことを確認します (空の結果セットが返されます)。
              </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT FILE_NAME FROM INFORMATION_SCHEMA.FILES WHERE FILE_NAME LIKE '%#p#%' OR FILE_NAME LIKE '%#sp#%';</code></strong>
Empty set (0.00 sec)
</pre></li><li class="listitem"><p>
                名前を変更した各テーブルで <code class="literal">ANALYZE TABLE</code> を実行して、<code class="literal">mysql.innodb_index_stats</code> テーブルおよび <code class="literal">mysql.innodb_table_stats</code> テーブルのオプティマイザ統計を更新します。
              </p></li></ol></div><p>
            MySQL 8.0.14、8.0.15 および 8.0.16 リリースには回帰がまだ存在するため、MySQL 8.0.14、8.0.15 または 8.0.16 から MySQL 8.0.17 へのパーティションテーブルのインポートは、<code class="literal">lower_case_table_names=1</code> の大/小文字が区別されるファイルシステムではサポートされていません。 これを試行すると、<span class="quote">「<span class="quote">「テーブルのテーブルスペースがありません」</span>」</span>エラーが発生します。 
          </p></li><li class="listitem"><p>
            MySQL では、テーブルパーティションのテーブルスペース名およびファイル名を作成する際にデリミタ文字列が使用されます。 次に示すように、<span class="quote">「<span class="quote"><code class="literal">#p#</code></span>」</span>デリミタ文字列はパーティション名の前に、<span class="quote">「<span class="quote"><code class="literal">#sp#</code></span>」</span>デリミタ文字列はサブパーティション名の前にあります: 
          </p><pre class="programlisting">      <em class="replaceable"><code>schema_name</code></em>.<em class="replaceable"><code>table_name</code></em>#p#<em class="replaceable"><code>partition_name</code></em>#sp#<em class="replaceable"><code>subpartition_name</code></em>
      <em class="replaceable"><code>table_name</code></em>#p#<em class="replaceable"><code>partition_name</code></em>#sp#<em class="replaceable"><code>subpartition_name</code></em>.ibd
</pre><p>
            従来、Linux などの大/小文字を区別するファイルシステムではデリミタ文字列は大文字 (<code class="literal">#P#</code>および<code class="literal">#SP#</code>)、Windows などの大/小文字を区別しないファイルシステムでは小文字 (<code class="literal">#p#</code>および<code class="literal">#sp#</code>) になっていました。 MySQL 8.0.19 の時点では、デリミタ文字列はすべてのファイルシステムで小文字になります。 この変更により、大/小文字を区別するファイルシステムと大/小文字を区別しないファイルシステムの間でデータディレクトリを移行する際の問題が回避されます。 大文字のデリミタ文字列は使用されなくなりました。 
          </p><p>
            また、ユーザー指定のパーティション名またはサブパーティション名 (大文字または小文字で指定可能) に基づいて生成されたパーティションテーブルスペース名およびファイル名は、大/小文字を区別しないように <code class="literal">lower_case_table_names</code> 設定に関係なく小文字で生成 (および内部的に格納) されるようになりました。 たとえば、テーブルパーティションが <code class="literal">PART_1</code> という名前で作成された場合、テーブルスペース名とファイル名は小文字で生成されます: 
          </p><pre class="programlisting">      <em class="replaceable"><code>schema_name</code></em>.<em class="replaceable"><code>table_name</code></em>#p#<em class="replaceable"><code>part_1</code></em>
      <em class="replaceable"><code>table_name</code></em>#p#<em class="replaceable"><code>part_1</code></em>.ibd
</pre><p>
            アップグレード時に、MySQL は必要に応じてチェックおよび変更を行います:
          </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                小文字のデリミタとパーティション名を確認するために、ディスクおよびデータディクショナリのパーティションファイル名。
              </p></li><li class="listitem"><p>
                以前のバグ修正で発生した関連する問題のデータディクショナリ内のパーティションメタデータ。
              </p></li><li class="listitem"><p>
                以前のバグ修正で導入された関連する問題の <code class="literal">InnoDB</code> 統計データ。
              </p></li></ul></div><p>
            テーブルスペースのインポート操作中に、小文字のデリミタとパーティション名を確認するために、必要に応じてディスク上のパーティションテーブルスペースファイル名がチェックおよび変更されます。
          </p></li><li class="listitem"><p>
            MySQL 8.0.21 では、テーブルスペースデータファイルが不明なディレクトリに存在することが判明した場合、起動時または MySQL 5.7 からのアップグレード時にエラーログに警告が書き込まれます。 既知のディレクトリは、<code class="literal">datadir</code>、<code class="literal">innodb_data_home_dir</code> および <code class="literal">innodb_directories</code> 変数で定義されているディレクトリです。 ディレクトリを既知にするには、<code class="literal">innodb_directories</code> 設定に追加します。 ディレクトリを既知にすると、リカバリ中にデータファイルを検出できるようになります。 詳細は、<a class="xref" href="innodb-storage-engine.html#innodb-recovery-tablespace-discovery" title="クラッシュリカバリ中のテーブルスペースの検出">クラッシュリカバリ中のテーブルスペースの検出</a>を参照してください。 
          </p></li></ul></div></div><div class="simplesect"><div class="titlepage"><div><div><h4 class="title"><a name="upgrade-sql-changes"></a>SQL の変更</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <span class="bold"><strong>互換性のない変更</strong></span>: MySQL 8.0.13 では、<code class="literal">GROUP BY</code> 句の非推奨の <code class="literal">ASC</code> 修飾子または <code class="literal">DESC</code> 修飾子は削除されています。 以前に <code class="literal">GROUP BY</code> ソートに依存していたクエリーでは、以前の MySQL バージョンとは異なる結果が生成される場合があります。 特定のソート順序を生成するには、<code class="literal">ORDER BY</code> 句を指定します。 
          </p><p>
            <code class="literal">GROUP BY</code> 句に <code class="literal">ASC</code> または <code class="literal">DESC</code> 修飾子を使用する MySQL 8.0.12 以下のクエリーおよびストアドプログラム定義を修正する必要があります。 そうしないと、MySQL 8.0.13 以上のレプリカサーバーにレプリケートされる可能性があるため、MySQL 8.0.13 以上へのアップグレードが失敗することがあります。 
          </p></li><li class="listitem"><p>
            MySQL 5.7 では予約されていなかった一部のキーワードが、MySQL 8.0 では予約されている場合があります。 <a class="xref" href="language-structure.html#keywords" title="9.3 キーワードと予約語">セクション9.3「キーワードと予約語」</a>を参照してください。 これにより、以前に識別子として使用された単語が不正になる可能性があります。 影響を受けるステートメントを修正するには、識別子の引用符を使用します。 <a class="xref" href="language-structure.html#identifiers" title="9.2 スキーマオブジェクト名">セクション9.2「スキーマオブジェクト名」</a>を参照してください。 
          </p></li><li class="listitem"><p>
            アップグレード後、目的の最適化戦略を達成するためにヒントがまだ必要であることを確認するために、アプリケーションコードで指定されたオプティマイザヒントをテストすることをお薦めします。 オプティマイザの拡張により、特定のオプティマイザヒントが不要になる場合があります。 場合によっては、不要なオプティマイザヒントが対応することもあります。 
          </p></li><li class="listitem"><p>
            <span class="bold"><strong>互換性のない変更</strong></span>: MySQL 5.7 では、<code class="literal">CONSTRAINT <em class="replaceable"><code>symbol</code></em> </code>句なしで <code class="literal">InnoDB</code> テーブルの <code class="literal">FOREIGN KEY</code> 定義を指定するか、<code class="literal">symbol</code> なしで <code class="literal">CONSTRAINT</code> キーワードを指定すると、<code class="literal">InnoDB</code> で生成された制約名が使用されます。 この動作は MySQL 8.0 で変更され、<code class="literal">InnoDB</code> では生成された名前ではなく <code class="literal">FOREIGN KEY <em class="replaceable"><code>index_name</code></em> </code>値が使用されます。 制約名はスキーマ (データベース) ごとに一意である必要があるため、スキーマごとに一意ではない外部キーインデックス名が原因でエラーが発生しました。 このようなエラーを回避するために、MySQL 8.0.16 では新しい制約のネーミング動作が元に戻され、<code class="literal">InnoDB</code> では生成された制約名が再度使用されます。 
          </p><p>
            <code class="literal">InnoDB</code> との一貫性のために、<code class="literal">CONSTRAINT <em class="replaceable"><code>symbol</code></em> </code>句が指定されていない場合、または <code class="literal">CONSTRAINT</code> キーワードが <code class="literal">symbol</code> なしで指定されている場合は、MySQL 8.0.16 以上に基づく <code class="literal">NDB</code> リリースで生成された制約名が使用されます。 MySQL 5.7 以前の MySQL 8.0 リリースに基づく <code class="literal">NDB</code> リリースでは、<code class="literal">FOREIGN KEY <em class="replaceable"><code>index_name</code></em> </code>値が使用されていました。 
          </p><p>
            前述の変更により、以前の外部キー制約のネーミング動作に依存するアプリケーションの非互換性が生じる場合があります。
          </p></li></ul></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="upgrade-prerequisites"></a>2.11.5 アップグレード用のインストールの準備</h3></div></div></div><p>
      最新の MySQL 8.0 リリースにアップグレードする前に、次に説明する事前チェックを実行して、現在の MySQL 5.7 または MySQL 8.0 サーバーインスタンスのアップグレード準備状況を確認します。 そうしないと、アップグレードプロセスが失敗する可能性があります。 
    </p><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">ヒント</div><p>
        MySQL サーバーインスタンスのアップグレード準備ができているかどうかを確認できる <a class="ulink" href="https://dev.mysql.com/doc/mysql-shell/8.0/ja/mysql-shell-utilities-upgrade.html" target="_top">MySQL Shell upgrade checker utility</a> の使用を検討してください。 MySQL Server 8.0.11 から現在の MySQL Shell リリース番号と一致する MySQL Server リリース番号まで、アップグレード先のターゲット MySQL Server リリースを選択できます。 アップグレードチェッカユーティリティは、指定されたターゲットリリースに関連する自動チェックを実行し、手動で行う必要がある関連チェックをさらにアドバイスします。 アップグレードチェッカは、MySQL 5.7 および 8.0 のすべての GA リリースで機能します。 MySQL Shell のインストール手順は、<a class="ulink" href="https://dev.mysql.com/doc/mysql-shell/8.0/ja/mysql-shell-install.html" target="_top">here</a> にあります。 
      </p></div><p>
      予備チェック:
    </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
          次の問題は存在してはいけません:
        </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
              廃止されたデータ型または関数を使用するテーブルは存在しない必要があります。
            </p><p>
              テーブルに 5.6.4 より前の形式 (<code class="literal">TIME</code>、<code class="literal">DATETIME</code> および <code class="literal">TIMESTAMP</code> カラムで小数秒精度がサポートされていない) の古い時間カラムが含まれている場合、MySQL 8.0 へのインプレースアップグレードはサポートされません。 テーブルで古い一時カラム形式を使用している場合は、MySQL 8.0 へのインプレースアップグレードを試行する前に、<code class="literal">REPAIR TABLE</code> を使用してそれらをアップグレードします。 詳細は、<a class="ulink" href="https://dev.mysql.com/doc/refman/5.7/en/" target="_top">MySQL 5.7 Reference Manual</a> の <a class="ulink" href="https://dev.mysql.com/doc/refman/5.7/en/upgrading-from-previous-series.html#upgrade-server-changes" target="_top">Server Changes</a> を参照してください。 
            </p></li><li class="listitem"><p>
              孤立した <code class="filename">.frm</code> ファイルは存在できません。
            </p></li><li class="listitem"><p>
              トリガーには、欠落している定義者、空の定義者、または無効な作成コンテキスト (<code class="literal">SHOW TRIGGERS</code> または <code class="literal">INFORMATION_SCHEMA</code> <code class="literal">TRIGGERS</code> テーブルで表示される <code class="literal">character_set_client</code>, <code class="literal">collation_connection</code>, <code class="literal">Database Collation</code> 属性で示される) を指定できません。 このようなトリガーをダンプしてリストアし、問題を修正する必要があります。 
            </p></li></ul></div><p>
          これらの問題を確認するには、次のコマンドを実行します:
        </p><pre class="programlisting">mysqlcheck -u root -p --all-databases --check-upgrade
</pre><p>
          <span class="command"><strong>mysqlcheck</strong></span> からエラーが報告された場合は、問題を修正します。
        </p></li><li class="listitem"><p>
          ネイティブパーティション化がサポートされていないストレージエンジンを使用するパーティションテーブルは存在しない必要があります。 このようなテーブルを識別するには、次のクエリーを実行します: 
        </p><pre class="programlisting">SELECT TABLE_SCHEMA, TABLE_NAME
FROM INFORMATION_SCHEMA.TABLES
WHERE ENGINE NOT IN ('innodb', 'ndbcluster')
AND CREATE_OPTIONS LIKE '%partitioned%';
</pre><p>
          クエリーによってレポートされるテーブルは、<code class="literal">InnoDB</code> を使用するように変更するか、非パーティション化する必要があります。 テーブルストレージエンジンを <code class="literal">InnoDB</code> に変更するには、次のステートメントを実行します: 
        </p><pre class="programlisting">ALTER TABLE <em class="replaceable"><code>table_name</code></em> ENGINE = INNODB;
</pre><p>
          <code class="literal">MyISAM</code> テーブルの <code class="literal">InnoDB</code> への変換の詳細は、<a class="xref" href="innodb-storage-engine.html#converting-tables-to-innodb" title="15.6.1.5 MyISAM から InnoDB へのテーブルの変換">セクション15.6.1.5「MyISAM から InnoDB へのテーブルの変換」</a> を参照してください。
        </p><p>
          パーティションテーブルを非パーティションテーブルにするには、次のステートメントを実行します:
        </p><pre class="programlisting">ALTER TABLE <em class="replaceable"><code>table_name</code></em> REMOVE PARTITIONING;
</pre></li><li class="listitem"><p>
          一部のキーワードは、以前に予約されていない MySQL 8.0 で予約されている場合があります。 <a class="xref" href="language-structure.html#keywords" title="9.3 キーワードと予約語">セクション9.3「キーワードと予約語」</a>を参照してください。 これにより、以前に識別子として使用された単語が不正になる可能性があります。 影響を受けるステートメントを修正するには、識別子の引用符を使用します。 <a class="xref" href="language-structure.html#identifiers" title="9.2 スキーマオブジェクト名">セクション9.2「スキーマオブジェクト名」</a>を参照してください。 
        </p></li><li class="listitem"><p>
          MySQL 5.7 <code class="literal">mysql</code> システムデータベースには、MySQL 8.0 データディクショナリで使用されるテーブルと同じ名前のテーブルは存在しない必要があります。 これらの名前を持つテーブルを識別するには、次のクエリーを実行します: 
        </p><pre class="programlisting">SELECT TABLE_SCHEMA, TABLE_NAME
FROM INFORMATION_SCHEMA.TABLES
WHERE LOWER(TABLE_SCHEMA) = 'mysql'
and LOWER(TABLE_NAME) IN
(
'catalogs',
'character_sets',
'check_constraints',
'collations',
'column_statistics',
'column_type_elements',
'columns',
'dd_properties',
'events',
'foreign_key_column_usage',
'foreign_keys',
'index_column_usage',
'index_partitions',
'index_stats',
'indexes',
'parameter_type_elements',
'parameters',
'resource_groups',
'routines',
'schemata',
'st_spatial_reference_systems',
'table_partition_values',
'table_partitions',
'table_stats',
'tables',
'tablespace_files',
'tablespaces',
'triggers',
'view_routine_usage',
'view_table_usage'
);
</pre><p>
          クエリーによってレポートされたテーブルは、削除または名前変更する必要があります (<code class="literal">RENAME TABLE</code> を使用)。 これには、影響を受けるテーブルを使用するアプリケーションへの変更が含まれる場合もあります。 
        </p></li><li class="listitem"><p>
          64 文字を超える外部キー制約名を持つテーブルは使用できません。 制約名が長すぎるテーブルを識別するには、次のクエリーを使用します: 
        </p><pre class="programlisting">SELECT TABLE_SCHEMA, TABLE_NAME
FROM INFORMATION_SCHEMA.TABLES
WHERE TABLE_NAME IN
  (SELECT LEFT(SUBSTR(ID,INSTR(ID,'/')+1),
               INSTR(SUBSTR(ID,INSTR(ID,'/')+1),'_ibfk_')-1)
   FROM INFORMATION_SCHEMA.INNODB_SYS_FOREIGN
   WHERE LENGTH(SUBSTR(ID,INSTR(ID,'/')+1))&gt;64);
</pre><p>
          制約名が 64 文字を超えるテーブルの場合は、制約を削除し、64 文字を超えない制約名で追加しなおします (<code class="literal">ALTER TABLE</code> を使用)。
        </p></li><li class="listitem"><p>
          <code class="literal">sql_mode</code> システム変数で定義されている廃止された SQL モードは使用できません。 廃止された SQL モードを使用しようとすると、MySQL 8.0 が起動しなくなります。 廃止された SQL モードを使用するアプリケーションは、回避するために修正する必要があります。 MySQL 8.0 で削除された SQL モードの詳細は、<a class="xref" href="installing.html#upgrade-server-changes" title="サーバーの変更">サーバーの変更</a> を参照してください。 
        </p></li><li class="listitem"><p>
          明示的に定義されたカラム名が 64 文字を超えるビューは存在しない必要があります (MySQL 5.7 では、カラム名が 255 文字以内のビューが許可されていました)。 アップグレードエラーを回避するには、アップグレード前にこのようなビューを変更する必要があります。 現在、カラム名が 64 文字を超えるビューを識別する唯一の方法は、<code class="literal">SHOW CREATE VIEW</code> を使用してビュー定義を検査することです。 <code class="literal">INFORMATION_SCHEMA.VIEWS</code> テーブルをクエリーすることで、ビュー定義を検査することもできます。 
        </p></li><li class="listitem"><p>
          個々の <code class="literal">ENUM</code> または <code class="literal">SET</code> カラム要素の長さが 255 文字または 1020 バイトを超えるテーブルまたはストアドプロシージャは使用できません。 MySQL 8.0 より前は、<code class="literal">ENUM</code> または <code class="literal">SET</code> のカラム要素の最大長は 64K でした。 MySQL 8.0 では、個々の <code class="literal">ENUM</code> または <code class="literal">SET</code> カラム要素の最大文字長は 255 文字で、最大バイト長は 1020 バイトです。 (1020 バイトの制限では、マルチバイト文字セットがサポートされます)。 MySQL 8.0 にアップグレードする前に、新しい制限を超える <code class="literal">ENUM</code> または <code class="literal">SET</code> のカラム要素を変更します。 そうしないと、アップグレードはエラーで失敗します。 
        </p></li><li class="listitem"><p>
          MySQL 8.0.13 以上にアップグレードする前に、システムテーブルスペースおよび一般テーブルスペースを含む共有 <code class="literal">InnoDB</code> テーブルスペースにテーブルパーティションが存在していない必要があります。 <code class="literal">INFORMATION_SCHEMA</code> をクエリーして、共有テーブルスペースのテーブルパーティションを識別します: 
        </p><p>
          MySQL 5.7 からアップグレードする場合は、次のクエリーを実行します:
        </p><pre class="programlisting">SELECT DISTINCT NAME, SPACE, SPACE_TYPE FROM INFORMATION_SCHEMA.INNODB_SYS_TABLES
  WHERE NAME LIKE '%#P#%' AND SPACE_TYPE NOT LIKE 'Single';
</pre><p>
          以前の MySQL 8.0 リリースからアップグレードする場合は、次のクエリーを実行します:
        </p><pre class="programlisting">SELECT DISTINCT NAME, SPACE, SPACE_TYPE FROM INFORMATION_SCHEMA.INNODB_TABLES
  WHERE NAME LIKE '%#P#%' AND SPACE_TYPE NOT LIKE 'Single';
</pre><p>
          <code class="literal">ALTER TABLE ... REORGANIZE PARTITION</code> を使用して、テーブルパーティションを共有テーブルスペースから file-per-table テーブルスペースに移動します:
        </p><pre class="programlisting">ALTER TABLE <em class="replaceable"><code>table_name</code></em> REORGANIZE PARTITION <em class="replaceable"><code>partition_name</code></em>
  INTO (<em class="replaceable"><code>partition_definition</code></em> TABLESPACE=innodb_file_per_table);
</pre></li><li class="listitem"><p>
          <code class="literal">GROUP BY</code> 句に <code class="literal">ASC</code> または <code class="literal">DESC</code> 修飾子を使用する MySQL 8.0.12 以下のクエリーおよびストアドプログラム定義は使用できません。 そうしないと、MySQL 8.0.13 以上のレプリカサーバーにレプリケートされる可能性があるため、MySQL 8.0.13 以上へのアップグレードが失敗することがあります。 追加の詳細については、<a class="xref" href="installing.html#upgrade-sql-changes" title="SQL の変更">SQL の変更</a>を参照してください。 
        </p></li><li class="listitem"><p>
          MySQL 5.7 インストールでは、MySQL 8.0 でサポートされていない機能を使用しないでください。 ここでの変更はインストール固有である必要がありますが、次の例は検索する内容の種類を示しています: 
        </p><p>
          一部のサーバー起動オプションおよびシステム変数は、MySQL 8.0 で削除されました。 <a class="ulink" href="https://dev.mysql.com/doc/refman/8.0/en/mysql-nutshell.html#mysql-nutshell-removals" target="_top">Features Removed in MySQL 8.0</a>および<a class="ulink" href="https://dev.mysql.com/doc/refman/8.0/en/added-deprecated-removed.html" target="_top">Server and Status Variables and Options Added, Deprecated, or Removed in MySQL 8.0</a>を参照してください。 これらのいずれかを使用する場合、アップグレードには構成の変更が必要です。 
        </p><p>
          例: データディクショナリはデータベースオブジェクトに関する情報を提供するため、サーバーはデータディレクトリ内のディレクトリ名をチェックしてデータベースを検索しなくなりました。 したがって、<code class="option">--ignore-db-dir</code> オプションは無関係であり、削除されています。 これを処理するには、起動構成から <code class="option">--ignore-db-dir</code> のインスタンスを削除します。 また、MySQL 8.0 にアップグレードする前に、名前付きデータディレクトリのサブディレクトリを削除または移動します。 (または、8.0 サーバーでこれらのディレクトリをデータベースとしてデータディクショナリに追加し、<code class="literal">DROP DATABASE</code> を使用してこれらの各データベースを削除します。) 
        </p></li><li class="listitem"><p>
          アップグレード時に <code class="literal">lower_case_table_names</code> 設定を 1 に変更する場合は、アップグレード前にスキーマ名とテーブル名が小文字であることを確認してください。 そうしないと、スキーマ名またはテーブル名の大文字と小文字の不一致が原因で障害が発生する可能性があります。 次のクエリーを使用して、大文字を含むスキーマおよびテーブル名を確認できます: 
        </p><pre class="programlisting">mysql&gt; SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME != LOWER(TABLE_NAME) AND TABLE_TYPE = 'BASE TABLE';
mysql&gt; SELECT SCHEMA_NAME FROM INFORMATION_SCHEMA.SCHEMATA WHERE SCHEMA_NAME != LOWER(SCHEMA_NAME);
        </pre><p>
          MySQL 8.0.19 では、<code class="literal">lower_case_table_names=1</code> の場合、アップグレードプロセスによってテーブル名およびスキーマ名がチェックされ、すべての文字が小文字であることが確認されます。 テーブル名またはスキーマ名に大文字が含まれていることが判明した場合、アップグレードプロセスはエラーで失敗します。 
        </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
            アップグレード時に <code class="literal">lower_case_table_names</code> 設定を変更することはお薦めしません。
          </p></div></li></ol></div><p>
      前述のいずれかの問題が原因で MySQL 8.0 へのアップグレードが失敗した場合、サーバーはすべての変更をデータディレクトリに戻します。 この場合は、すべての redo ログファイルを削除し、既存のデータディレクトリで MySQL 5.7 サーバーを再起動してエラーに対処します。 redo ログファイル (<code class="filename">ib_logfile*</code>) は、デフォルトでは MySQL データディレクトリにあります。 エラーが修正されたら、アップグレードを再試行する前に、(<code class="literal">innodb_fast_shutdown=0</code> を設定して) 低速な停止を実行します。 
    </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="upgrade-binary-package"></a>2.11.6 Unix/Linux での MySQL バイナリまたはパッケージベースのインストールのアップグレード</h3></div></div></div><p>
      このセクションでは、Unix/Linux で MySQL バイナリおよびパッケージベースのインストールをアップグレードする方法について説明します。 インプレースおよび論理アップグレード方法について説明します。 
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a class="xref" href="installing.html#upgrade-procedure-inplace" title="インプレースアップグレード">インプレースアップグレード</a></p></li><li class="listitem"><p><a class="xref" href="installing.html#upgrade-procedure-logical" title="論理アップグレード">論理アップグレード</a></p></li><li class="listitem"><p><a class="xref" href="installing.html#upgrading-cluster" title="MySQL クラスタのアップグレード">MySQL クラスタのアップグレード</a></p></li></ul></div><div class="simplesect"><div class="titlepage"><div><div><h4 class="title"><a name="upgrade-procedure-inplace"></a>インプレースアップグレード</h4></div></div></div><p>
        インプレースアップグレードには、古い MySQL サーバーの停止、古い MySQL バイナリまたはパッケージの新しいバイナリまたはパッケージへの置換、既存のデータディレクトリでの MySQL の再起動、およびアップグレードが必要な既存のインストールの残りの部分のアップグレードが含まれます。 アップグレードが必要なものの詳細は、<a class="xref" href="installing.html#upgrading-what-is-upgraded" title="2.11.3 MySQL のアップグレードプロセスの内容">セクション2.11.3「MySQL のアップグレードプロセスの内容」</a> を参照してください。 
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
          最初に複数の RPM パッケージをインストールして作成したインストールをアップグレードする場合は、一部だけでなく、すべてのパッケージをアップグレードします。 たとえば、以前にサーバーおよびクライアントの RPM をインストールした場合は、サーバーの RPM だけをアップグレードすることはしないでください。 
        </p><p>
          一部の Linux プラットフォームでは、RPM または Debian パッケージからの MySQL インストールに、MySQL サーバーの起動と停止を管理するための systemd サポートが含まれています。 これらのプラットフォームでは、<span class="command"><strong>mysqld_safe</strong></span> はインストールされません。 このような場合は、次の手順で使用する方法ではなく、systemd を使用してサーバーを起動および停止します。 <a class="xref" href="installing.html#using-systemd" title="2.5.9 systemd を使用した MySQL Server の管理">セクション2.5.9「systemd を使用した MySQL Server の管理」</a>を参照してください。 
        </p><p>
          MySQL クラスタインストールへのアップグレードについては、<a class="xref" href="installing.html#upgrading-cluster" title="MySQL クラスタのアップグレード">MySQL クラスタのアップグレード</a> も参照してください。
        </p></div><p>
        インプレースアップグレードを実行するには:
      </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
            <a class="xref" href="installing.html#upgrade-before-you-begin" title="2.11.1 始める前に">セクション2.11.1「始める前に」</a> の情報を確認します。
          </p></li><li class="listitem"><p>
            <a class="xref" href="installing.html#upgrade-prerequisites" title="2.11.5 アップグレード用のインストールの準備">セクション2.11.5「アップグレード用のインストールの準備」</a> で事前チェックを完了して、インストールのアップグレード準備が整っていることを確認します。
          </p></li><li class="listitem"><p>
            XA トランザクションを <code class="literal">InnoDB</code> で使用する場合は、アップグレードの前に <code class="literal">XA RECOVER</code> を実行して、コミットされていない XA トランザクションを確認します。 結果が返された場合は、<code class="literal">XA COMMIT</code> または <code class="literal">XA ROLLBACK</code> ステートメントを発行して XA トランザクションをコミットまたはロールバックします。 
          </p></li><li class="listitem"><p>
            暗号化された <code class="literal">InnoDB</code> テーブルスペースがある場合は、次のステートメントを実行してキーリングマスターキーをローテーションします:
          </p><pre class="programlisting">ALTER INSTANCE ROTATE INNODB MASTER KEY;
</pre></li><li class="listitem"><p>
            <code class="literal">innodb_fast_shutdown</code> を <code class="literal">2</code> (コールドシャットダウン) に設定して構成した MySQL サーバーを通常実行する場合は、次のいずれかのステートメントを実行して、高速または低速なシャットダウンを実行するように構成します:
          </p><pre class="programlisting">SET GLOBAL innodb_fast_shutdown = 1; -- fast shutdown
SET GLOBAL innodb_fast_shutdown = 0; -- slow shutdown
</pre><p>
            高速停止または低速停止では、<code class="literal">InnoDB</code> は undo ログおよびデータファイルを、リリース間でファイル形式が異なる場合に処理できる状態のままにします。
          </p></li><li class="listitem"><p>
            古い MySQL サーバーを停止します。 例: 
          </p><pre class="programlisting">mysqladmin -u root -p shutdown
</pre></li><li class="listitem"><p>
            MySQL バイナリまたはパッケージをアップグレードします。 バイナリインストールをアップグレードする場合は、新しい MySQL バイナリ配布パッケージを解凍します。 <a class="xref" href="installing.html#binary-installation-unpack" title="配布の取得とアンパック">配布の取得とアンパック</a>を参照してください。 パッケージベースのインストールの場合は、新しいパッケージをインストールします。 
          </p></li><li class="listitem"><p>
            既存のデータディレクトリを使用して、MySQL 8.0 サーバーを起動します。 例: 
          </p><pre class="programlisting">mysqld_safe --user=mysql --datadir=<em class="replaceable"><code>/path/to/existing-datadir</code></em> &amp;
</pre><p>
            暗号化された <code class="literal">InnoDB</code> テーブルスペースがある場合は、<code class="option">--early-plugin-load</code> オプションを使用してキーリングプラグインをロードします。
          </p><p>
            MySQL 8.0 サーバーを起動すると、データディクショナリテーブルが存在するかどうかが自動的に検出されます。 そうでない場合、サーバーはデータディレクトリにそれらを作成し、メタデータを移入してから、通常の起動シーケンスに進みます。 このプロセス中、サーバーは、データベース、テーブルスペース、システムテーブルとユーザーテーブル、ビュー、ストアドプログラム (ストアドプロシージャと関数、トリガーおよびイベントスケジューライベント) など、すべてのデータベースオブジェクトのメタデータをアップグレードします。 サーバーは、以前にメタデータ記憶域に使用されていたファイルも削除します。 たとえば、MySQL 5.7 から MySQL 8.0 にアップグレードした後、テーブルに <code class="filename">.frm</code> ファイルがなくなった場合があります。 
          </p><p>
            このステップが失敗すると、サーバーはすべての変更をデータディレクトリに戻します。 この場合、すべての redo ログファイルを削除し、同じデータディレクトリで MySQL 5.7 サーバーを起動して、エラーの原因を修正する必要があります。 次に、5.7 サーバーの別の低速シャットダウンを実行し、MySQL 8.0 サーバーを起動して再試行します。 
          </p></li><li class="listitem"><p>
            前のステップでは、サーバーは必要に応じてデータディクショナリをアップグレードします。 ここで、残りのアップグレード操作を実行する必要があります: 
          </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                MySQL 8.0.16 の時点では、サーバーは前のステップの一部としてこれを行い、新しい権限または機能を利用できるように、<code class="literal">mysql</code> システムデータベースで MySQL 5.7 と MySQL 8.0 の間で必要な変更を行います。 また、パフォーマンススキーマ、<code class="literal">INFORMATION_SCHEMA</code> および <code class="literal">sys</code> データベースを MySQL 8.0 用に最新の状態にし、すべてのユーザーデータベースで現在のバージョンの MySQL との非互換性を調べます。 
              </p></li><li class="listitem"><p>
                MySQL 8.0.16 より前は、サーバーは前のステップのデータディクショナリのみをアップグレードします。 MySQL 8.0 サーバーが正常に起動したら、<span class="command"><strong>mysql_upgrade</strong></span> を実行して残りのアップグレードタスクを実行します: 
              </p><pre class="programlisting">mysql_upgrade -u root -p
</pre><p>
                次に、MySQL サーバーを停止して再起動し、システムテーブルに対する変更が有効になるようにします。 例: 
              </p><pre class="programlisting">mysqladmin -u root -p shutdown
mysqld_safe --user=mysql --datadir=<em class="replaceable"><code>/path/to/existing-datadir</code></em> &amp;
</pre><p>
                (前のステップで)MySQL 8.0 サーバーを初めて起動すると、アップグレードされていないテーブルに関するメッセージがエラーログに記録される場合があります。 <span class="command"><strong>mysql_upgrade</strong></span> が正常に実行された場合、サーバーの再起動時にこのようなメッセージは表示されません。 
              </p></li></ul></div></li></ol></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
          アップグレードプロセスでは、タイムゾーンテーブルの内容はアップグレードされません。 アップグレードの手順については、<a class="xref" href="server-administration.html#time-zone-support" title="5.1.15 MySQL Server でのタイムゾーンのサポート">セクション5.1.15「MySQL Server でのタイムゾーンのサポート」</a>を参照してください。 
        </p><p>
          アップグレードプロセスで <span class="command"><strong>mysql_upgrade</strong></span> (MySQL 8.0.16 より前) が使用されている場合、このプロセスではヘルプテーブルの内容もアップグレードされません。 この場合のアップグレード手順については、<a class="xref" href="server-administration.html#server-side-help-support" title="5.1.17 サーバー側ヘルプのサポート">セクション5.1.17「サーバー側ヘルプのサポート」</a> を参照してください。 
        </p></div></div><div class="simplesect"><div class="titlepage"><div><div><h4 class="title"><a name="upgrade-procedure-logical"></a>論理アップグレード</h4></div></div></div><p>
        論理アップグレードには、<span class="command"><strong>mysqldump</strong></span> や <span class="command"><strong>mysqlpump</strong></span> などのバックアップまたはエクスポートユーティリティを使用した古い MySQL インスタンスからの SQL のエクスポート、新しい MySQL サーバーのインストール、および新しい MySQL インスタンスへの SQL の適用が含まれます。 アップグレードが必要なものの詳細は、<a class="xref" href="installing.html#upgrading-what-is-upgraded" title="2.11.3 MySQL のアップグレードプロセスの内容">セクション2.11.3「MySQL のアップグレードプロセスの内容」</a> を参照してください。 
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
          一部の Linux プラットフォームでは、RPM または Debian パッケージからの MySQL インストールに、MySQL サーバーの起動と停止を管理するための systemd サポートが含まれています。 これらのプラットフォームでは、<span class="command"><strong>mysqld_safe</strong></span> はインストールされません。 このような場合は、次の手順で使用する方法ではなく、systemd を使用してサーバーを起動および停止します。 <a class="xref" href="installing.html#using-systemd" title="2.5.9 systemd を使用した MySQL Server の管理">セクション2.5.9「systemd を使用した MySQL Server の管理」</a>を参照してください。 
        </p></div><div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">警告</div><p>
          以前の MySQL リリースから抽出された SQL を新しい MySQL リリースに適用すると、新しい機能、変更された機能、非推奨になった機能または削除された機能によって導入された非互換性が原因でエラーが発生する場合があります。 したがって、以前の MySQL リリースから抽出された SQL では、論理アップグレードを有効にするために変更が必要になる場合があります。 
        </p><p>
          最新の MySQL 8.0 リリースにアップグレードする前に非互換性を識別するには、<a class="xref" href="installing.html#upgrade-prerequisites" title="2.11.5 アップグレード用のインストールの準備">セクション2.11.5「アップグレード用のインストールの準備」</a> で説明されているステップを実行します。
        </p></div><p>
        論理アップグレードを実行するには:
      </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
            <a class="xref" href="installing.html#upgrade-before-you-begin" title="2.11.1 始める前に">セクション2.11.1「始める前に」</a> の情報を確認します。
          </p></li><li class="listitem"><p>
            以前の MySQL インストールから既存のデータをエクスポートします:
          </p><pre class="programlisting">mysqldump -u root -p
  --add-drop-table --routines --events
  --all-databases --force &gt; data-for-upgrade.sql
</pre><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
              データベースにストアドプログラムが含まれている場合は、<span class="command"><strong>mysqldump</strong></span> で <code class="option">--routines</code> および <code class="option">--events</code> オプションを使用します (前述を参照)。 <code class="option">--all-databases</code> オプションには、システムテーブルを保持する <code class="literal">mysql</code> データベースを含む、ダンプ内のすべてのデータベースが含まれます。 
            </p></div><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">重要</div><p>
              生成されたカラムを含むテーブルがある場合は、MySQL 5.7.9 以上で提供される <span class="command"><strong>mysqldump</strong></span> ユーティリティを使用してダンプファイルを作成します。 以前のリリースで提供されていた <span class="command"><strong>mysqldump</strong></span> ユーティリティでは、生成されたカラム定義に不正な構文が使用されています (Bug #20769542)。 <code class="literal">INFORMATION_SCHEMA.COLUMNS</code> テーブルを使用して、生成されたカラムを持つテーブルを識別できます。 
            </p></div></li><li class="listitem"><p>
            古い MySQL サーバーを停止します。 例: 
          </p><pre class="programlisting">mysqladmin -u root -p shutdown
</pre></li><li class="listitem"><p>
            MySQL 8.0 をインストールします。 インストールの手順については、<a class="xref" href="installing.html" title="第 2 章 MySQL のインストールとアップグレード">第2章「<i>MySQL のインストールとアップグレード</i>」</a>を参照してください。 
          </p></li><li class="listitem"><p>
            <a class="xref" href="installing.html#data-directory-initialization" title="2.10.1 データディレクトリの初期化">セクション2.10.1「データディレクトリの初期化」</a> の説明に従って、新しいデータディレクトリを初期化します。 例: 
          </p><pre class="programlisting">mysqld --initialize --datadir=<em class="replaceable"><code>/path/to/8.0-datadir</code></em>
     </pre><p>
            画面に表示された一時<code class="literal">'root'@'localhost'</code>パスワードをコピーするか、後で使用するためにエラーログに書き込みます。
          </p></li><li class="listitem"><p>
            新しいデータディレクトリを使用して、MySQL 8.0 サーバーを起動します。 例: 
          </p><pre class="programlisting">mysqld_safe --user=mysql --datadir=<em class="replaceable"><code>/path/to/8.0-datadir</code></em> &amp;
</pre></li><li class="listitem"><p>
            <code class="literal">root</code> パスワードをリセットします:
          </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>mysql -u root -p</code></strong>
Enter password: <strong class="userinput"><code>****</code></strong>  &lt;- enter temporary root password
</pre><pre class="programlisting">mysql&gt; <strong class="userinput"><code>ALTER USER USER() IDENTIFIED BY '<em class="replaceable"><code>your new password</code></em>';</code></strong>
     </pre></li><li class="listitem"><p>
            以前に作成したダンプファイルを新しい MySQL サーバーにロードします。 例: 
          </p><pre class="programlisting">mysql -u root -p --force &lt; data-for-upgrade.sql
</pre><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
              ダンプファイルにシステムテーブルが含まれている場合、GTID がサーバー (<code class="literal">gtid_mode=ON</code>) で有効になっているときにダンプファイルをロードすることはお薦めしません。<span class="command"><strong>mysqldump</strong></span> は、非トランザクション MyISAM ストレージエンジンを使用するシステムテーブルに対して DML 命令を発行します。GTID が有効になっている場合、この組み合わせは許可されません。 GTID が有効になっているサーバーから GTID が有効になっている別のサーバーにダンプファイルをロードすると、異なるトランザクション識別子が生成されることにも注意してください。 
            </p></div></li><li class="listitem"><p>
            残りのアップグレード操作を実行します:
          </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                MySQL 8.0.16 以上では、サーバーを停止し、<code class="option">--upgrade=FORCE</code> オプションを使用して再起動して残りのアップグレードタスクを実行します:
              </p><pre class="programlisting">mysqladmin -u root -p shutdown
mysqld_safe --user=mysql --datadir=<em class="replaceable"><code>/path/to/8.0-datadir</code></em> --upgrade=FORCE &amp;
</pre><p>
                <code class="option">--upgrade=FORCE</code> を使用して再起動すると、新しい権限または機能を利用できるように、<code class="literal">mysql</code> システムスキーマで MySQL 5.7 と MySQL 8.0 の間で必要な変更がサーバーによって行われます。 また、パフォーマンススキーマ、<code class="literal">INFORMATION_SCHEMA</code>、および <code class="literal">sys</code> スキーマを MySQL 8.0 用に最新の状態にし、すべてのユーザースキーマで現在のバージョンの MySQL との非互換性を調べます。 
              </p></li><li class="listitem"><p>
                MySQL 8.0.16 より前は、<span class="command"><strong>mysql_upgrade</strong></span> を実行して残りのアップグレードタスクを実行します:
              </p><pre class="programlisting">mysql_upgrade -u root -p
</pre><p>
                次に、MySQL サーバーを停止して再起動し、システムテーブルに対する変更が有効になるようにします。 例: 
              </p><pre class="programlisting">mysqladmin -u root -p shutdown
mysqld_safe --user=mysql --datadir=<em class="replaceable"><code>/path/to/8.0-datadir</code></em> &amp;
</pre></li></ul></div></li></ol></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
          アップグレードプロセスでは、タイムゾーンテーブルの内容はアップグレードされません。 アップグレードの手順については、<a class="xref" href="server-administration.html#time-zone-support" title="5.1.15 MySQL Server でのタイムゾーンのサポート">セクション5.1.15「MySQL Server でのタイムゾーンのサポート」</a>を参照してください。 
        </p><p>
          アップグレードプロセスで <span class="command"><strong>mysql_upgrade</strong></span> (MySQL 8.0.16 より前) が使用されている場合、このプロセスではヘルプテーブルの内容もアップグレードされません。 この場合のアップグレード手順については、<a class="xref" href="server-administration.html#server-side-help-support" title="5.1.17 サーバー側ヘルプのサポート">セクション5.1.17「サーバー側ヘルプのサポート」</a> を参照してください。 
        </p></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
          MySQL 5.7 <code class="literal">mysql</code> スキーマを含むダンプファイルをロードすると、使用されなくなった 2 つのテーブルが再作成されます: <code class="literal">event</code> および <code class="literal">proc</code>。 (対応する MySQL 8.0 テーブルは <code class="literal">events</code> および <code class="literal">routines</code> で、どちらもデータディクショナリテーブルであり、保護されています。) アップグレードが成功したことを確認したら、次の SQL ステートメントを実行して <code class="literal">event</code> テーブルおよび <code class="literal">proc</code> テーブルを削除できます: 
        </p><pre class="programlisting">DROP TABLE mysql.event;
DROP TABLE mysql.proc;
</pre></div></div><div class="simplesect"><div class="titlepage"><div><div><h4 class="title"><a name="upgrading-cluster"></a>MySQL クラスタのアップグレード</h4></div></div></div><p>
        このセクションの情報は、MySQL クラスタをアップグレードする場合に使用するための、<a class="xref" href="installing.html#upgrade-procedure-inplace" title="インプレースアップグレード">インプレースアップグレード</a> で説明されているインプレースアップグレード手順に関連しています。
      </p><p>
        MySQL 8.0.16 では、MySQL クラスタのアップグレードは、通常の順序付きステップに従って定期的なローリングアップグレードとして実行できます:
      </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
            MGM ノードのアップグレード。
          </p></li><li class="listitem"><p>
            データノードを一度に 1 つずつアップグレードします。
          </p></li><li class="listitem"><p>
            API ノードを一度に 1 つずつアップグレードします (MySQL サーバーを含む)。
          </p></li></ol></div><p>
        データディクショナリのアップグレードとシステムテーブルのアップグレードは分離されているため、各ノードをアップグレードする方法は MySQL 8.0.16 の前とほとんど同じです。 個々の <code class="literal">mysqld</code> をアップグレードするには、2 つのステップがあります: 
      </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
            データディクショナリをインポートします。
          </p><p>
            <code class="option">--upgrade=MINIMAL</code> オプションを使用して新しいサーバーを起動し、データディクショナリをアップグレードしますが、システムテーブルはアップグレードしません。 これは基本的に、<span class="command"><strong>mysql_upgrade</strong></span> を起動せずにサーバーを起動する pre-MySQL 8.0.16 アクションと同じです。 
          </p><p>
            このフェーズを完了するには、MySQL サーバーを <code class="literal">NDB</code> に接続する必要があります。 <code class="literal">NDB</code> テーブルまたは <code class="literal">NDBINFO</code> テーブルが存在し、サーバーがクラスタに接続できない場合は、次のエラーメッセージで終了します: 
          </p><pre class="programlisting">Failed to Populate DD tables.
</pre></li><li class="listitem"><p>
            システムテーブルをアップグレードします。
          </p><p>
            MySQL 8.0.16 より前は、DBA は <span class="command"><strong>mysql_upgrade</strong></span> クライアントを起動してシステムテーブルをアップグレードします。 MySQL 8.0.16 の時点で、サーバーはこのアクションを実行: システムテーブルをアップグレードするには、<code class="option">--upgrade=MINIMAL</code> オプションを指定せずに個々の <span class="command"><strong>mysqld</strong></span> を再起動します。 
          </p></li></ol></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="updating-yum-repo"></a>2.11.7 MySQL Yum リポジトリを使用する MySQL のアップグレード</h3></div></div></div><a class="indexterm" name="idm45548115960224"></a><a class="indexterm" name="idm45548115958864"></a><p>
      サポートされている Yum ベースのプラットフォーム (リストについては、<a class="xref" href="installing.html#linux-installation-yum-repo" title="2.5.1 MySQL Yum リポジトリを使用して MySQL を Linux にインストールする">セクション2.5.1「MySQL Yum リポジトリを使用して MySQL を Linux にインストールする」</a> を参照) では、MySQL のインプレースアップグレード (古いバージョンを置き換えてから、古いデータファイルを使用して新しいバージョンを実行) を MySQL Yum リポジトリで実行できます。
    </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">メモ</div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            MySQL に対して更新を実行する前に、<a class="xref" href="installing.html#upgrading" title="2.11 MySQL のアップグレード">セクション2.11「MySQL のアップグレード」</a>の手順に慎重に従ってください。 そこで議論されている手順のうち、更新の前にデータベースのバックアップを取ることが特に重要です。 
          </p></li><li class="listitem"><p>
            次の手順では、MySQL を MySQL Yum リポジトリとともにインストールしたか、<a class="ulink" href="https://dev.mysql.com/downloads/" target="_top">「MySQL Developer Zone MySQL ダウンロードページ」</a>から直接ダウンロードした RPM パッケージを使用してインストールしたことを前提としています。そうでない場合は、<a class="ulink" href="https://dev.mysql.com/doc/refman/5.7/en/replace-third-party-yum.html" target="_top">Replacing a Third-Party Distribution of MySQL Using the MySQL Yum Repository</a> の手順に従います。
          </p></li></ul></div></div><p>
      </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><h4><a name="idm45548115947968"></a>ターゲットシリーズの選択</h4><p>
            デフォルトでは、MySQL Yum リポジトリは、インストール時に選択したリリースシリーズの最新バージョンに MySQL を更新します (詳細は <a class="xref" href="installing.html#yum-repo-select-series" title="リリースシリーズの選択">リリースシリーズの選択</a> を参照)。つまり、5.7.x インストールは 8.0.x リリースに自動的に更新されません。 別のリリースシリーズに更新するには、最初に選択したシリーズ (デフォルトまたは自分自身) のサブリポジトリを無効にし、ターゲットシリーズのサブリポジトリを有効にする必要があります。 これを行うには、<a class="xref" href="installing.html#yum-repo-select-series" title="リリースシリーズの選択">リリースシリーズの選択</a> に示されている一般的な手順を参照してください。 MySQL 5.7 から 8.0 にアップグレードするには、<a class="xref" href="installing.html#yum-repo-select-series" title="リリースシリーズの選択">リリースシリーズの選択</a> に示されているステップの <span class="emphasis"><em>reverse</em></span> を実行し、MySQL 5.7 シリーズのサブリポジトリを無効にして、MySQL 8.0 シリーズに対して有効にします。 
          </p><p>
            原則として、あるリリースシリーズから別のものにアップグレードするには、シリーズをスキップせずに次のシリーズに移動します。 たとえば、現在 MySQL 5.6 を実行しており、8.0 にアップグレードする場合は、まず MySQL 5.7 にアップグレードしてから 8.0 にアップグレードします。 
          </p><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">重要</div><p>
              MySQL 5.7 から 8.0 へのアップグレードに関する重要な情報は、<a class="link" href="installing.html#upgrading-from-previous-series" title="2.11.4 MySQL 8.0 での変更">Upgrading from MySQL 5.7 to 8.0</a> を参照してください。
            </p></div></li><li class="listitem"><h4><a name="idm45548115940256"></a>MySQL のアップグレード</h4><p>
            dnf 対応でないプラットフォームの場合は、次のコマンドを使用して MySQL とそのコンポーネントをアップグレードします:
          </p><pre class="programlisting">sudo yum update mysql-server
</pre><p>
            dnf 対応のプラットフォームの場合:
          </p><pre class="programlisting">sudo dnf upgrade mysql-server
</pre><p>
            または、システム上のすべてを更新するように Yum に指示することで、MySQL を更新することもできます。これにはかなり時間がかかる可能性があります。 dnf 対応でないプラットフォームの場合: 
          </p><pre class="programlisting">sudo yum update
</pre><p>
            dnf 対応のプラットフォームの場合:
          </p><pre class="programlisting">sudo dnf upgrade
</pre></li><li class="listitem"><h4><a name="idm45548115932880"></a>MySQL の再起動</h4><p>
            MySQL Server は、Yum による更新後必ず再起動します。 MySQL 8.0.16 より前は、サーバーの再起動後に <span class="command"><strong>mysql_upgrade</strong></span> を実行して、古いデータとアップグレードされたソフトウェア間の非互換性を確認し、場合によっては解決します。<span class="command"><strong>mysql_upgrade</strong></span> は、他の機能も実行します。詳細は、<a class="xref" href="programs.html#mysql-upgrade" title="4.4.5 mysql_upgrade — MySQL テーブルのチェックとアップグレード">セクション4.4.5「mysql_upgrade — MySQL テーブルのチェックとアップグレード」</a> を参照してください。 MySQL 8.0.16 では、サーバーは以前に <span class="command"><strong>mysql_upgrade</strong></span> によって処理されたすべてのタスクを実行するため、このステップは必要ありません。 
          </p></li></ol></div><p>
    </p><p>
      特定のコンポーネントのみを更新することもできます。 次のコマンドを使用して、MySQL コンポーネントにインストールされているすべてのパッケージをリストします (dnf 対応システムの場合は、コマンド内の <span class="command"><strong>yum</strong></span> を <span class="command"><strong>dnf</strong></span> に置き換えます): 
    </p><pre class="programlisting">sudo yum list installed | grep "^mysql"
</pre><p>
      選択したコンポーネントのパッケージ名を特定した後、次のコマンドを使用してパッケージを更新し、<em class="replaceable"><code>package-name</code></em> をパッケージの名前に置き換えます。 dnf 対応でないプラットフォームの場合: 
    </p><pre class="programlisting">sudo yum update <em class="replaceable"><code>package-name</code></em>
  </pre><p>
      dnf 対応プラットフォームの場合:
    </p><pre class="programlisting">sudo dnf upgrade <em class="replaceable"><code>package-name</code></em>
  </pre><h4><a name="updating-yum-repo-client-lib"></a>共有クライアントライブラリのアップグレード</h4><p>
      Yum リポジトリを使用して MySQL を更新したあとも、古いバージョンの共有クライアントライブラリを使用してコンパイルされたアプリケーションは機能するはずです。
    </p><p>
      <span class="emphasis"><em>アプリケーションを再コンパイルし、それらを更新されたライブラリに動的にリンクする場合:</em></span>新しいライブラリと古いライブラリ間のシンボルのバージョニングに違いまたは追加がある新しいバージョンの共有ライブラリ (たとえば、新しい標準 8.0 共有クライアントライブラリと、Linux 配布ソフトウェアリポジトリによってネイティブに出荷された共有ライブラリの古いバージョンまたは可変バージョンの共有ライブラリ、または他のソースから出荷されたアプリケーション) の場合、更新された新しい共有ライブラリを使用してコンパイルされたアプリケーションでは、それらの更新されたライブラリがアプリケーションがデプロイされているシステムで必要になります。 予期したとおり、これらのライブラリが配置されていない場合、共有ライブラリを必要とするアプリケーションは失敗します。 このため、共有ライブラリのパッケージは、必ず MySQL からそれらのシステムにデプロイしてください。 これを行うには、MySQL Yum リポジトリをシステムに追加し (<a class="xref" href="installing.html#yum-repo-setup" title="MySQL Yum リポジトリの追加">MySQL Yum リポジトリの追加</a> を参照)、<a class="xref" href="installing.html#yum-install-components" title="追加の MySQL 製品およびコンポーネントの Yum でのインストール">追加の MySQL 製品およびコンポーネントの Yum でのインストール</a> に記載されている手順を使用して最新の共有ライブラリをインストールします。 
    </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="updating-apt-repo"></a>2.11.8 MySQL APT リポジトリを使用する MySQL のアップグレード</h3></div></div></div><a class="indexterm" name="idm45548115914096"></a><a class="indexterm" name="idm45548115912736"></a><p>
      Debian および Ubuntu プラットフォームで、MySQL とそのコンポーネントのインプレースアップグレードを実行するには、MySQL APT リポジトリを使用します。 「<a class="ulink" href="https://dev.mysql.com/doc/mysql-apt-repo-quick-guide/en/" target="_top">A Quick Guide to Using the MySQL APT Repository</a>」の、「<a class="ulink" href="https://dev.mysql.com/doc/mysql-apt-repo-quick-guide/en/index.html#repo-qg-apt-upgrading" target="_top">Upgrading MySQL with the MySQL APT Repository</a>」を参照してください。 
    </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="updating-sles-repo"></a>2.11.9 MySQL SLES リポジトリを含む MySQL のアップグレード</h3></div></div></div><a class="indexterm" name="idm45548115907552"></a><a class="indexterm" name="idm45548115906192"></a><p>
      SUSE Linux Enterprise Server (SLES) プラットフォームで、MySQL とそのコンポーネントのインプレースアップグレードを実行するには、MySQL SLES リポジトリを使用します。 <a class="ulink" href="https://dev.mysql.com/doc/mysql-sles-repo-quick-guide/en/" target="_top">「A MySQL SLES リポジトリの使用方法のクイックガイド」</a>の<a class="ulink" href="https://dev.mysql.com/doc/mysql-sles-repo-quick-guide/en/index.html#repo-qg-sles-upgrading" target="_top">「MySQL SLES リポジトリを含む MySQL のアップグレード」</a>を参照してください。 
    </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="windows-upgrading"></a>2.11.10 Windows 上の MySQL をアップグレードする</h3></div></div></div><a class="indexterm" name="idm45548115900832"></a><p>
      Windows で MySQL をアップグレードするには、次の 2 つの方法があります:
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          <a class="link" href="installing.html#windows-upgrading-installer" title="MySQL Installer を含む MySQL のアップグレード">Using MySQL Installer</a>
        </p></li><li class="listitem"><p>
          <a class="link" href="installing.html#windows-upgrading-zip-distribution" title="Windows ZIP ディストリビューションを使用した MySQL のアップグレード">Using the Windows ZIP archive distribution</a>
        </p></li></ul></div><p>
      選択する方法は、既存のインストールの実行方法によって異なります。 先に進む前に、Windows に固有でない MySQL のアップグレードに関する追加情報を <a class="xref" href="installing.html#upgrading" title="2.11 MySQL のアップグレード">セクション2.11「MySQL のアップグレード」</a> で確認してください。 
    </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
        どちらの方法を選択しても、アップグレードを実行する前に必ず現在の MySQL インストールをバックアップしてください。 <a class="xref" href="backup-and-recovery.html#backup-methods" title="7.2 データベースバックアップ方法">セクション7.2「データベースバックアップ方法」</a>を参照してください。 
      </p></div><p>
      非 GA リリース間 (または非 GA リリースから GA リリースへ) のアップグレードはサポートされていません。 GA 以外のリリースでは大幅な開発変更が行われ、サーバーの起動時に互換性の問題や問題が発生する可能性があります。 
    </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
        MySQL Installer では、<span class="emphasis"><em>コミュニティ</em></span>リリースと<span class="emphasis"><em>コマーシャル</em></span>リリース間のアップグレードはサポートされていません。 このタイプのアップグレードが必要な場合は、<a class="link" href="installing.html#windows-upgrading-zip-distribution" title="Windows ZIP ディストリビューションを使用した MySQL のアップグレード">ZIP archive</a> アプローチを使用して実行します。 
      </p></div><div class="simplesect"><div class="titlepage"><div><div><h4 class="title"><a name="windows-upgrading-installer"></a>MySQL Installer を含む MySQL のアップグレード</h4></div></div></div><p>
        MySQL Installer を使用したアップグレードの実行は、現在のサーバーインストールが実行され、アップグレードが現在のリリースシリーズ内にある場合に最適な方法です。MySQL Installer では、5.7 から 8.0 へのアップグレードなど、リリースシリーズ間のアップグレードはサポートされておらず、アップグレードを求めるアップグレードインジケータも提供されていません。 リリースシリーズ間のアップグレード手順については、<a class="xref" href="installing.html#windows-upgrading-zip-distribution" title="Windows ZIP ディストリビューションを使用した MySQL のアップグレード">Windows ZIP ディストリビューションを使用した MySQL のアップグレード</a> を参照してください。 
      </p><p>
        MySQL Installer を使用してアップグレードを実行するには:
      </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
            MySQL Installer を起動します。
          </p></li><li class="listitem"><p>
            ダッシュボードから <span class="guilabel">Catalog</span> をクリックして、カタログへの最新の変更をダウンロードします。 インストールされたサーバーは、ダッシュボードでサーバーのバージョン番号の横に矢印が表示されている場合にのみアップグレードできます。 
          </p></li><li class="listitem"><p>
            <span class="guilabel">「アップグレード」</span>をクリックします。 新しいバージョンを持つすべての製品がリストに表示されます。 
          </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
              MySQL Installer では、同じリリースシリーズのマイルストンリリース (事前リリース) のサーバーアップグレードオプションの選択が解除されます。 また、アップグレードがサポートされていないことを示す警告が表示され、続行のリスクが識別され、アップグレードを手動で実行するステップのサマリーが示されます。 サーバーのアップグレードを再選択して、自分のリスクで続行できます。 
            </p></div></li><li class="listitem"><p>
            この時点で他の製品をアップグレードする予定がないかぎり、MySQL サーバー製品以外のすべての製品の選択を解除し、<span class="guibutton">次へ</span>をクリックします。
          </p></li><li class="listitem"><p>
            <span class="guibutton"> Execute </span>をクリックしてダウンロードを開始します。 ダウンロードが終了したら、<span class="guibutton">次へ</span>をクリックしてアップグレード操作を開始します。 
          </p><p>
            MySQL 8.0.16 以上へのアップグレードでは、システムテーブルのアップグレードチェックおよびプロセスをスキップするオプションが表示される場合があります。 このオプションの詳細は、<a class="link" href="installing.html#mysql-installer-alter-upgrade">Important server upgrade conditions</a> を参照してください。 
          </p></li><li class="listitem"><p>
            サーバーを構成します。
          </p></li></ol></div></div><div class="simplesect"><div class="titlepage"><div><div><h4 class="title"><a name="windows-upgrading-zip-distribution"></a>Windows ZIP ディストリビューションを使用した MySQL のアップグレード</h4></div></div></div><p>
        Windows ZIP アーカイブ配布を使用してアップグレードを実行するには:
      </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
            MySQL の最新の Windows ZIP アーカイブディストリビューションを <a class="ulink" href="https://dev.mysql.com/downloads/" target="_top">https://dev.mysql.com/downloads/</a> からダウンロードします。
          </p></li><li class="listitem"><p>
            サーバーが実行中の場合は停止します。 サーバーをサービスとしてインストールしている場合は、コマンドプロンプトから次のコマンドでサービスを停止します。 
          </p><pre class="programlisting">C:\&gt; <strong class="userinput"><code>SC STOP <em class="replaceable"><code>mysqld_service_name</code></em>
      </code></strong>
     </pre><p>
            または、<span class="command"><strong>NET STOP <em class="replaceable"><code>mysqld_service_name</code></em> </strong></span>を使用します。
          </p><p>
            MySQL Server をサービスとして実行していない場合は、<span class="command"><strong>mysqladmin</strong></span> を使用して停止します。 たとえば、MySQL 5.7 から 8.0 にアップグレードする前に、<span class="command"><strong>mysqladmin</strong></span> を MySQL 5.7 から次のように使用します。 
          </p><pre class="programlisting">C:\&gt; <strong class="userinput"><code>"C:\Program Files\MySQL\MySQL Server 5.7\bin\mysqladmin" -u root shutdown</code></strong>
     </pre><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
              MySQL の <code class="literal">root</code> ユーザーアカウントにパスワードが設定されている場合は、<span class="command"><strong>mysqladmin</strong></span> を <code class="option">-p</code> オプションを使って起動し、要求されたらパスワードを入力します。
            </p></div></li><li class="listitem"><p>
            ZIP アーカイブを抽出します。 既存の MySQL インストール (通常は <code class="filename">C:\mysql</code> にあります) を上書きするか、<code class="literal">C:\mysql8</code> などの別のディレクトリにインストールできます。 既存のインストールの上書きをお勧めしています。 
          </p></li><li class="listitem"><p>
            サーバーを再起動します。 たとえば、MySQL をサービスとして実行する場合は <span class="command"><strong>SC START <em class="replaceable"><code>mysqld_service_name</code></em> </strong></span>または <span class="command"><strong>NET START <em class="replaceable"><code>mysqld_service_name</code></em> </strong></span>コマンドを使用し、それ以外の場合は <span class="command"><strong>mysqld</strong></span> を直接起動します。 
          </p></li><li class="listitem"><p>
            MySQL 8.0.16 より前は、管理者として <span class="command"><strong>mysql_upgrade</strong></span> を実行してテーブルを確認し、必要に応じて修復し、権限付与テーブルが変更されている場合は更新して、新しい機能を利用できるようにしてください。 <a class="xref" href="programs.html#mysql-upgrade" title="4.4.5 mysql_upgrade — MySQL テーブルのチェックとアップグレード">セクション4.4.5「mysql_upgrade — MySQL テーブルのチェックとアップグレード」</a>を参照してください。 MySQL 8.0.16 では、サーバーは以前に <span class="command"><strong>mysql_upgrade</strong></span> によって処理されたすべてのタスクを実行するため、このステップは必要ありません。 
          </p></li><li class="listitem"><p>
            エラーが発生する場合は <a class="xref" href="installing.html#windows-troubleshooting" title="2.3.5 Microsoft Windows MySQL Server インストールのトラブルシューティング">セクション2.3.5「Microsoft Windows MySQL Server インストールのトラブルシューティング」</a> を参照します。
          </p></li></ol></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="upgrade-docker-mysql"></a>2.11.11 MySQL の Docker インストールのアップグレード</h3></div></div></div><a class="indexterm" name="idm45548115844000"></a><a class="indexterm" name="idm45548115843008"></a><p>
      MySQL の Docker インストールをアップグレードするには、<a class="xref" href="installing.html#docker-upgrading" title="MySQL Server コンテナのアップグレード">MySQL Server コンテナのアップグレード</a> を参照してください。
    </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="upgrade-troubleshooting"></a>2.11.12 アップグレードのトラブルシューティング</h3></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          テーブルの <code class="filename">.frm</code> ファイルと <code class="literal">InnoDB</code> データディクショナリの間で MySQL 5.7 インスタンスのスキーマが一致しないと、MySQL 8.0 へのアップグレードが失敗する可能性があります。 このような不一致は、<code class="filename">.frm</code> ファイルの破損が原因である可能性があります。 この問題に対処するには、アップグレードを再試行する前に、影響を受けるテーブルをダンプしてリストアします。 
        </p></li><li class="listitem"><p>
          新しい <span class="command"><strong>mysqld</strong></span> サーバーが起動しないなどの問題が発生した場合は、以前のインストールの古い <code class="filename">my.cnf</code> ファイルがないことを確認します。 これは <code class="option">--print-defaults</code> オプション (たとえば、<span class="command"><strong>mysqld --print-defaults</strong></span>) で確認できます。 このコマンドがプログラム名以外の何かを表示した場合、サーバーあるいはクライアントオペレーションに影響を及ぼすアクティブな <code class="filename">my.cnf</code> ファイルがあることになります。 
        </p></li><li class="listitem"><p>
          アップグレード後に、コンパイル済みのクライアントプログラムに <code class="literal">Commands out of sync</code> または予測外のコアダンプなどの問題が発生した場合は、プログラムのコンパイル時に、古いヘッダーファイルまたはライブラリファイルを使用した可能性があります。 この場合、<code class="filename">mysql.h</code> ファイルおよび <code class="filename">libmysqlclient.a</code> ライブラリの日付をチェックして、それらが新しい MySQL 配布のものであることを確認します。 そうでない場合には、プログラムを新しいヘッダーおよびライブラリで再度コンパイルします。 ライブラリのメジャーバージョン番号が (たとえば、<code class="filename">libmysqlclient.so.20</code> から <code class="filename">libmysqlclient.so.21</code> に) 変更された場合、共有クライアントライブラリに対してコンパイルされたプログラムに再コンパイルが必要になることもあります。 
        </p></li><li class="listitem"><p>
          ユーザー定義関数 (UDF) を所定の名前で作成したあとで、MySQL を同じ名前の組み込み関数を実装した新しいバージョンにアップグレードした場合、その UDF はアクセスできなくなります。 これを修正するには、<code class="literal">DROP FUNCTION</code> を使用して UDF を削除してから、<code class="literal">CREATE FUNCTION</code> を使用して競合しない別の名前で UDF を再作成します。 新しいバージョンの MySQL が、既存のストアドファンクションと同名の組み込み関数を実装している場合にも、同じとこが言えます。 各種の関数への参照をサーバーが解釈する方法を記述したルールについては、<a class="xref" href="language-structure.html#function-resolution" title="9.2.5 関数名の構文解析と解決">セクション9.2.5「関数名の構文解析と解決」</a>を参照してください。 
        </p></li><li class="listitem"><p>
          <a class="xref" href="installing.html#upgrade-prerequisites" title="2.11.5 アップグレード用のインストールの準備">セクション2.11.5「アップグレード用のインストールの準備」</a> で概説されている問題のいずれかが原因で MySQL 8.0 へのアップグレードが失敗した場合、サーバーはすべての変更をデータディレクトリに戻します。 この場合は、すべての redo ログファイルを削除し、既存のデータディレクトリで MySQL 5.7 サーバーを再起動してエラーに対処します。 redo ログファイル (<code class="filename">ib_logfile*</code>) は、デフォルトでは MySQL データディレクトリにあります。 エラーが修正されたら、アップグレードを再試行する前に、(<code class="literal">innodb_fast_shutdown=0</code> を設定して) 低速な停止を実行します。 
        </p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="rebuilding-tables"></a>2.11.13 テーブルまたはインデックスの再作成または修復</h3></div></div></div><a class="indexterm" name="idm45548115815024"></a><a class="indexterm" name="idm45548115813040"></a><a class="indexterm" name="idm45548115811168"></a><p>
      このセクションでは、次の方法でテーブルまたはインデックスを再構築または修復する方法について説明します:
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          MySQL によるデータ型または文字セットの処理方法の変更。 たとえば、照合順序のエラーが修正され、照合順序を使用する文字カラムのインデックスを更新するためにテーブルの再構築が必要になる場合があります。 
        </p></li><li class="listitem"><p>
          <code class="literal">CHECK TABLE</code>、<span class="command"><strong>mysqlcheck</strong></span> または <span class="command"><strong>mysql_upgrade</strong></span> によって報告される必要なテーブルの修復またはアップグレード。
        </p></li></ul></div><p>
      テーブルを再構築する方法には、次のものがあります:
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a class="xref" href="installing.html#rebuilding-tables-dump-reload" title="ダンプおよびリロード方法">ダンプおよびリロード方法</a></p></li><li class="listitem"><p><a class="xref" href="installing.html#rebuilding-tables-alter-table" title="ALTER TABLE メソッド">ALTER TABLE メソッド</a></p></li><li class="listitem"><p><a class="xref" href="installing.html#rebuilding-tables-repair-table" title="REPAIR TABLE メソッド">REPAIR TABLE メソッド</a></p></li></ul></div><div class="simplesect"><div class="titlepage"><div><div><h4 class="title"><a name="rebuilding-tables-dump-reload"></a>ダンプおよびリロード方法</h4></div></div></div><p>
        バイナリ (インプレース) のアップグレードまたはダウングレード後に異なるバージョンの MySQL で処理できないためにテーブルを再構築する場合は、ダンプアンドリロード方法を使用する必要があります。 アップグレードまたはダウングレードの<span class="emphasis"><em>前に</em></span>、元のバージョンの MySQL を使用してテーブルをダンプします。 次に、アップグレードまたはダウングレードの<span class="emphasis"><em>あとに</em></span>、テーブルをリロードします。 
      </p><p>
        インデックスを再構築する目的のためだけにダンプしてリロードする方法を使ってテーブルを再構築する場合は、アップグレードまたはダウングレードの前でもあとでもダンプを実行できます。 その場合でも、リロードはあとで行う必要があります。 
      </p><p>
        <code class="literal">CHECK TABLE</code> 操作でテーブルのアップグレードが必要であることが示されているために <code class="literal">InnoDB</code> テーブルを再構築する必要がある場合は、<span class="command"><strong>mysqldump</strong></span> を使用してダンプファイルを作成し、<span class="command"><strong>mysql</strong></span> を使用してファイルをリロードします。 <code class="literal">CHECK TABLE</code> 操作で、破損があることが示されたり <code class="literal">InnoDB</code> が失敗したりする場合は、<code class="literal">innodb_force_recovery</code> オプションを使用して <code class="literal">InnoDB</code> を再起動する方法について、<a class="xref" href="innodb-storage-engine.html#forcing-innodb-recovery" title="15.21.2 InnoDB のリカバリの強制的な実行">セクション15.21.2「InnoDB のリカバリの強制的な実行」</a>を参照してください。 <code class="literal">CHECK TABLE</code> が遭遇している問題のタイプを理解するには、<a class="xref" href="sql-statements.html#check-table" title="13.7.3.2 CHECK TABLE ステートメント">セクション13.7.3.2「CHECK TABLE ステートメント」</a>の <code class="literal">InnoDB</code> に関する注記を参照してください。 
      </p><p>
        テーブルをダンプしてリロードすることによって再構築するには、<span class="command"><strong>mysqldump</strong></span> を使用してダンプファイルを作成し、<span class="command"><strong>mysql</strong></span> でファイルをリロードします。
      </p><pre class="programlisting">mysqldump <em class="replaceable"><code>db_name</code></em> t1 &gt; dump.sql
mysql <em class="replaceable"><code>db_name</code></em> &lt; dump.sql
</pre><p>
        単独のデータベース内のテーブルをすべて再構築する場合は、データベース名を、そのあとにテーブル名なしで指定します。
      </p><pre class="programlisting">mysqldump <em class="replaceable"><code>db_name</code></em> &gt; dump.sql
mysql <em class="replaceable"><code>db_name</code></em> &lt; dump.sql
</pre><p>
        すべてのデータベース内のすべてのテーブルをリロードするには、<code class="option">--all-databases</code> オプションを使用してください。
      </p><pre class="programlisting">mysqldump --all-databases &gt; dump.sql
mysql &lt; dump.sql
</pre></div><div class="simplesect"><div class="titlepage"><div><div><h4 class="title"><a name="rebuilding-tables-alter-table"></a>ALTER TABLE メソッド</h4></div></div></div><p>
        <code class="literal">ALTER TABLE</code> でテーブルを再構築する場合は、<span class="quote">「<span class="quote">null</span>」</span> 変更を使用します。すなわち、すでに使用しているストレージエンジンを使用するように、テーブルを<span class="quote">「<span class="quote">変更</span>」</span>する <code class="literal">ALTER TABLE</code> ステートメントです。 たとえば、<code class="literal">t1</code> が <code class="literal">InnoDB</code> テーブルである場合、次のステートメントを利用します。 
      </p><pre class="programlisting">ALTER TABLE t1 ENGINE = InnoDB;
</pre><p>
        <code class="literal">ALTER TABLE</code> ステートメントで指定するストレージエンジンがわからない場合は、<code class="literal">SHOW CREATE TABLE</code> を使用してテーブル定義を表示します。
      </p></div><div class="simplesect"><div class="titlepage"><div><div><h4 class="title"><a name="rebuilding-tables-repair-table"></a>REPAIR TABLE メソッド</h4></div></div></div><p>
        <code class="literal">REPAIR TABLE</code> メソッドは、<code class="literal">MyISAM</code>、<code class="literal">ARCHIVE</code> および <code class="literal">CSV</code> テーブルにのみ適用できます。
      </p><p>
        テーブルチェック操作で破損があること、またはアップグレードが必要であることが示されている場合は、<code class="literal">REPAIR TABLE</code> を使用できます。 たとえば、<code class="literal">MyISAM</code> テーブルを修復するには、次のステートメントを使用します。 
      </p><pre class="programlisting">REPAIR TABLE t1;
</pre><p>
        <span class="command"><strong>mysqlcheck --repair</strong></span> は、コマンド行で <code class="literal">REPAIR TABLE</code> ステートメントへのアクセスを提供します。 <code class="option">--databases</code> オプションまたは <code class="option">--all-databases</code> オプションをそれぞれ使用して、特定のデータベースまたはすべてのデータベースのすべてのテーブルを修復できるため、テーブル修復の方法として、より便利な場合があります。 
      </p><pre class="programlisting">mysqlcheck --repair --databases <em class="replaceable"><code>db_name</code></em> ...
mysqlcheck --repair --all-databases
</pre></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="copying-databases"></a>2.11.14 MySQL データベースのほかのマシンへのコピー</h3></div></div></div><a class="indexterm" name="idm45548115753376"></a><a class="indexterm" name="idm45548115751232"></a><a class="indexterm" name="idm45548115749856"></a><p>
      データベースを異なるアーキテクチャー間で移動する必要がある場合、<span class="command"><strong>mysqldump</strong></span> を使用して SQL ステートメントを含むファイルを作成します。 次にそのファイルを別のマシンに転送して <span class="command"><strong>mysql</strong></span> クライアントへの入力として扱います。 
    </p><p>
      利用できるオプションを表示するには <span class="command"><strong>mysqldump --help</strong></span> を使用します。
    </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
        GTID がダンプ (<code class="literal">gtid_mode=ON</code>) を作成するサーバーで使用されている場合、デフォルトでは、<span class="command"><strong>mysqldump</strong></span> は <code class="literal">gtid_executed</code> セットの内容をダンプに含めて、これらを新しいマシンに転送します。 この結果は、関係する MySQL Server のバージョンによって異なる場合があります。 <span class="command"><strong>mysqldump's</strong></span> <code class="option">--set-gtid-purged</code> オプションの説明を確認して、使用しているバージョンで何が起こるか、およびデフォルトの動作の結果が状況に適していない場合の動作の変更方法を確認します。 
      </p></div><p>
      データベースを 2 つのマシンで間で移動するもっとも容易な (ただし、速くはない) 方法は、データベースを搭載したマシン上で次のコマンドを実行することです。
    </p><pre class="programlisting">mysqladmin -h '<em class="replaceable"><code>other_hostname</code></em>' create <em class="replaceable"><code>db_name</code></em>
mysqldump <em class="replaceable"><code>db_name</code></em> | mysql -h '<em class="replaceable"><code>other_hostname</code></em>' <em class="replaceable"><code>db_name</code></em>
  </pre><p>
      データベースをリモートマシンから速度の遅いネットワークを介してコピーするには、次のコマンドを使用できます。
    </p><pre class="programlisting">mysqladmin create <em class="replaceable"><code>db_name</code></em>
mysqldump -h '<em class="replaceable"><code>other_hostname</code></em>' --compress <em class="replaceable"><code>db_name</code></em> | mysql <em class="replaceable"><code>db_name</code></em>
  </pre><p>
      ダンプをファイルに保存して、そのファイルをターゲットマシンに転送し、そのファイルをそこのデータベースにロードすることもできます。 たとえば、データベースをソースマシンの圧縮ファイルに次のようにダンプできます。 
    </p><pre class="programlisting">mysqldump --quick <em class="replaceable"><code>db_name</code></em> | gzip &gt; <em class="replaceable"><code>db_name</code></em>.gz
</pre><p>
      データベースのコンテンツを含んだファイルをターゲットマシンに転送し、そこで次のコマンドを実行します。
    </p><pre class="programlisting">mysqladmin create <em class="replaceable"><code>db_name</code></em>
gunzip &lt; <em class="replaceable"><code>db_name</code></em>.gz | mysql <em class="replaceable"><code>db_name</code></em>
  </pre><a class="indexterm" name="idm45548115724368"></a><a class="indexterm" name="idm45548115723024"></a><p>
      データベースの転送に <span class="command"><strong>mysqldump</strong></span> および <span class="command"><strong>mysqlimport</strong></span> を使用することもできます。 大きなテーブルの場合、これは単に <span class="command"><strong>mysqldump</strong></span> を使用するよりも非常に速いです。 次のコマンドで、<em class="replaceable"><code>DUMPDIR</code></em> は <span class="command"><strong>mysqldump</strong></span> の出力の保存に使用されるディレクトリのフルパス名です。 
    </p><p>
      最初に、その出力ファイルのディレクトリを作成してデータベースをダンプします。
    </p><pre class="programlisting">mkdir <em class="replaceable"><code>DUMPDIR</code></em>
mysqldump --tab=<em class="replaceable"><code>DUMPDIR</code></em>
   <em class="replaceable"><code>db_name</code></em>
  </pre><p>
      次に <em class="replaceable"><code>DUMPDIR</code></em> ディレクトリのファイルをターゲットマシンの相当するディレクトリに転送して、そのファイルをそこの MySQL にロードします。
    </p><pre class="programlisting">mysqladmin create <em class="replaceable"><code>db_name</code></em>           # create database
cat <em class="replaceable"><code>DUMPDIR</code></em>/*.sql | mysql <em class="replaceable"><code>db_name</code></em>   # create tables in database
mysqlimport <em class="replaceable"><code>db_name</code></em>
   <em class="replaceable"><code>DUMPDIR</code></em>/*.txt   # load data into tables
</pre><p>
      <code class="literal">mysql</code> データベースをコピーすることを忘れないでください。付与テーブルがそこに格納されているからです。 新しいマシンで <code class="literal">mysql</code> データベースが用意できるまで、コマンドを MySQL <code class="literal">root</code> ユーザーとして実行しなければならない場合があります。 
    </p><p>
      <code class="literal">mysql</code> データベースを新しいマシンにインポートしたら、<span class="command"><strong>mysqladmin flush-privileges</strong></span> を実行してサーバーに付与テーブルの情報をロードさせます。
    </p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="downgrading"></a>2.12 MySQL のダウングレード</h2></div></div></div><a class="indexterm" name="idm45548115703360"></a><p>
    MySQL 8.0 から MySQL 5.7 へのダウングレード、または MySQL 8.0 リリースから以前の MySQL 8.0 リリースへのダウングレードはサポートされていません。 サポートされている唯一の代替方法は、アップグレード前に作成したバックアップをリストアすることです。 したがって、アップグレードプロセスを開始する前にデータをバックアップする必要があります。 
  </p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="perl-support"></a>2.13 Perl のインストールに関する注釈</h2></div></div></div><div class="toc"><dl class="toc"><dt><span class="section"><a href="installing.html#perl-installation">2.13.1 Unix に Perl をインストールする</a></span></dt><dt><span class="section"><a href="installing.html#activestate-perl">2.13.2 Windows に ActiveState Perl をインストールする</a></span></dt><dt><span class="section"><a href="installing.html#perl-support-problems">2.13.3 Perl DBI/DBD インタフェース使用の問題</a></span></dt></dl></div><a class="indexterm" name="idm45548115699616"></a><a class="indexterm" name="idm45548115697504"></a><p>
    Perl<code class="literal">DBI</code>モジュールはデータベースアクセスのための一般的なインタフェースを提供します。 変更なしで多くの異なったデータベースエンジンで作動する <code class="literal">DBI</code> スクリプトを書くことができます。 <code class="literal">DBI</code> を使用するには、<code class="literal">DBI</code> モジュール、および DataBase Driver (DBD) モジュールを、アクセスする各データベースサーバーのタイプごとにインストールする必要があります。 MySQL の場合、このドライバは <code class="literal">DBD::mysql</code> モジュールです。 
  </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><div class="admon-title">注記</div><p>
      MySQL の配布には Perl のサポートは含まれていません。 必要なモジュールは、Unix の場合は <a class="ulink" href="http://search.cpan.org" target="_top">http://search.cpan.org</a> から、Windows では ActiveState <span class="command"><strong>ppm</strong></span> プログラムを使用して取得できます。 次のセクションでその方法について説明します。 
    </p></div><p>
    <code class="literal">DBI</code>/<code class="literal">DBD</code> インタフェースは Perl 5.6.0 を必要とし、5.6.1 以降が推奨されます。 それより古いバージョンの Perl の場合、DBI は<span class="emphasis"><em>機能しません</em></span>。 <code class="literal">DBD::mysql</code> 4.009 以上を使用するようにしてください。 それより前のバージョンは使用可能ですが、MySQL 8.0 の全機能をサポートしているわけではありません。 
  </p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="perl-installation"></a>2.13.1 Unix に Perl をインストールする</h3></div></div></div><p>
      MySQL の Perl のサポートには MySQL のクライアントプログラムサポート (ライブラリおよびヘッダーファイル) をインストールする必要があります。 ほとんどのインストール方法で、必要なファイルがインストールされます。 MySQL を RPM ファイルからインストールする場合、開発者 RPM もインストールしてください。 クライアントプログラムはクライアント RPM にありますが、クライアントプログラムサポートは開発者 RPM にあります。 
    </p><p>
      Perl のサポートに必要なファイルは、<a class="ulink" href="http://search.cpan.org" target="_top">http://search.cpan.org</a> の CPAN (Comprehensive Perl Archive Network) から入手できます。
    </p><p>
      Unix に Perl モジュールをインストールするには <code class="literal">CPAN</code> モジュールを使用するのがいちばん簡単です。 例: 
    </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>perl -MCPAN -e shell</code></strong>
cpan&gt; <strong class="userinput"><code>install DBI</code></strong>
cpan&gt; <strong class="userinput"><code>install DBD::mysql</code></strong>
</pre><p>
      <code class="literal">DBD::mysql</code> インストールは多くのテストを実行します。 これらのテストでは、デフォルトのユーザー名とパスワードを使用してローカルの MySQL サーバーに接続を試みます。 (デフォルトのユーザー名は、Unix ではログイン名であり、Windows では <code class="literal">ODBC</code> です。 デフォルトのパスワードは<span class="quote">「<span class="quote">パスワードなし</span>」</span>です)。サーバーにそれらの値で接続できない場合 (たとえば、アカウントにパスワードを設定している場合)、テストは失敗します。 <code class="literal">force install DBD::mysql</code> を使用すると、失敗したテストを無視できます。 
    </p><p>
      <code class="literal">DBI</code> には <code class="literal">Data::Dumper</code> モジュールが必要です。 それはインストールされている場合があります。もしされていない場合、<code class="literal">DBI</code> をインストールする前にそれをインストールするようにしてください。 
    </p><p>
      モジュールの配布を圧縮 <span class="command"><strong>tar</strong></span> アーカイブの形でダウンロードして、モジュールを手動でビルドすることもできます。 たとえば、DBI 配布をアンパックしてビルドするには、次のような手順に従います。 
    </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
          配布を現在のディレクトリにアンパックします。
        </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>gunzip &lt; DBI-<em class="replaceable"><code>VERSION</code></em>.tar.gz | tar xvf -</code></strong>
</pre><p>
          このコマンドは、<code class="filename">DBI-<em class="replaceable"><code>VERSION</code></em></code> という名前のディレクトリを作成します。
        </p></li><li class="listitem"><p>
          アンパックした配布のトップレベルのディレクトリに場所を変更します。
        </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>cd DBI-<em class="replaceable"><code>VERSION</code></em></code></strong>
</pre></li><li class="listitem"><p>
          配布をビルドしてすべてをコンパイルします。
        </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>perl Makefile.PL</code></strong>
shell&gt; <strong class="userinput"><code>make</code></strong>
shell&gt; <strong class="userinput"><code>make test</code></strong>
shell&gt; <strong class="userinput"><code>make install</code></strong>
</pre></li></ol></div><p>
      <span class="command"><strong>make test</strong></span> コマンドはモジュールが動作していることを確認するために重要です。 <code class="literal">DBD::mysql</code> のインストール中にそのコマンドを実行してインタフェースのコードを実行するには、MySQL サーバーが動作していなければなりません。そうしないとそのテストは失敗します。 
    </p><p>
      新しいリリースの MySQL をインストールする際は必ず <code class="literal">DBD::mysql</code> 配布を再構築して再インストールするのがいいでしょう。 これにより、MySQL クライアントライブラリの最新バージョンが正しくインストールされていることが保証されます。 
    </p><p>
      Perl モジュールをシステムディレクトリにインストールするアクセス権がない場合、またはローカルの Perl をインストールする場合、次のリファレンスが有用でしょう。<a class="ulink" href="http://learn.perl.org/faq/perlfaq8.html#How-do-I-keep-my-own-module-library-directory-" target="_top">http://learn.perl.org/faq/perlfaq8.html#How-do-I-keep-my-own-module-library-directory-</a>。
    </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="activestate-perl"></a>2.13.2 Windows に ActiveState Perl をインストールする</h3></div></div></div><a class="indexterm" name="idm45548115647952"></a><a class="indexterm" name="idm45548115645808"></a><a class="indexterm" name="idm45548115643712"></a><p>
      Windows 上で、MySQL <code class="literal">DBD</code> モジュールを ActiveState Perl でインストールするには次の手順に従います。
    </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
          <a class="ulink" href="http://www.activestate.com/Products/ActivePerl/" target="_top">http://www.activestate.com/Products/ActivePerl/</a> から ActiveState Perl を入手してインストールします。
        </p></li><li class="listitem"><p>
          コンソールウィンドウを開きます。
        </p></li><li class="listitem"><p>
          必要に応じて <code class="literal">HTTP_proxy</code> 変数を設定します。 たとえば、次のような設定を試してみます。 
        </p><pre class="programlisting">C:\&gt; <strong class="userinput"><code>set HTTP_proxy=my.proxy.com:3128</code></strong>
</pre></li><li class="listitem"><p>
          PPM プログラムを起動します。
        </p><pre class="programlisting">C:\&gt; <strong class="userinput"><code>C:\perl\bin\ppm.pl</code></strong>
</pre></li><li class="listitem"><p>
          まだ <code class="literal">DBI</code> をインストールしていない場合は、インストールします。
        </p><pre class="programlisting">ppm&gt; <strong class="userinput"><code>install DBI</code></strong>
</pre></li><li class="listitem"><p>
          これが成功したら、次のコマンドを実行します。
        </p><pre class="programlisting">ppm&gt; <strong class="userinput"><code>install DBD-mysql</code></strong>
</pre></li></ol></div><p>
      この手順は、ActiveState Perl 5.6 以上で動作する必要があります。
    </p><p>
      手順が機能しない場合は、代わりに ODBC ドライバをインストールして ODBC から MySQL サーバーに接続するようにしてください。
    </p><pre class="programlisting">use DBI;
$dbh= DBI-&gt;connect("DBI:ODBC:$dsn",$user,$password) ||
  die "Got error $DBI::errstr when connecting to $dsn\n";
</pre></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="perl-support-problems"></a>2.13.3 Perl DBI/DBD インタフェース使用の問題</h3></div></div></div><a class="indexterm" name="idm45548115621904"></a><a class="indexterm" name="idm45548115619744"></a><p>
      Perl が <code class="filename">../mysql/mysql.so</code> モジュールを見つけることができない場合、問題はおそらく Perl が <code class="filename">libmysqlclient.so</code> 共有ライブラリの場所がわからないことです。 この問題は次の方法のいずれかで解決できるはずです。 
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          <code class="filename">libmysqlclient.so</code> をほかの共有ライブラリがある (おそらく <code class="filename">/usr/lib</code> あるいは <code class="filename">/lib</code>) ディレクトリにコピーします。
        </p></li><li class="listitem"><p>
          <code class="literal">DBD::mysql</code> のコンパイルに使用される <code class="option">-L</code> オプションを、<code class="filename">libmysqlclient.so</code> の実際の場所を反映するように変更します。
        </p></li><li class="listitem"><p>
          Linux では、<code class="filename">libmysqlclient.so</code> があるディレクトリのパス名を <code class="filename">/etc/ld.so.conf</code> ファイルに追加できます。
        </p></li><li class="listitem"><p>
          <a class="indexterm" name="idm45548115606224"></a> <a class="indexterm" name="idm45548115604720"></a> <a class="indexterm" name="idm45548115602784"></a> <a class="indexterm" name="idm45548115601248"></a> <code class="filename">libmysqlclient.so</code> があるディレクトリのパス名を <code class="literal">LD_RUN_PATH</code> 環境変数に追加します。 システムの中には <code class="literal">LD_LIBRARY_PATH</code> を使用しているものもあります。 
        </p></li></ul></div><p>
      リンカーが見つけられないほかのライブラリがある場合も、<code class="option">-L</code> オプションを変更する必要がある場合があります。 たとえば、<code class="literal">libc</code> が <code class="filename">/lib</code> にあり、リンクコマンドが <code class="option">-L/usr/lib</code> を指定しているためにリンカーがそれを見つけられない場合、<code class="option">-L</code> オプションを <code class="option">-L/lib</code> に変更するかあるいは <code class="option">-L/lib</code> を既存のリンクコマンドに追加します。 
    </p><p>
      <code class="literal">DBD::mysql</code> から次のエラーが表示された場合、おそらく <span class="command"><strong>gcc</strong></span> (あるいは <span class="command"><strong>gcc</strong></span> でコンパイルされた旧バイナリ) を使用しているでしょう。
    </p><pre class="programlisting">/usr/bin/perl: can't resolve symbol '__moddi3'
/usr/bin/perl: can't resolve symbol '__divdi3'
</pre><p>
      <code class="filename">mysql.so</code> ライブラリがビルドされるときに、<code class="option">-L/usr/lib/gcc-lib/... -lgcc</code> をリンクコマンドに追加します (Perl クライアントのコンパイル時に、<span class="command"><strong>make</strong></span> の出力で <code class="filename">mysql.so</code> を確認します)。 <code class="option">-L</code> オプションは、システム上の <code class="filename">libgcc.a</code> があるディレクトリのパス名を指定するようにしてください。 
    </p><p>
      この問題の別の原因は Perl および MySQL が両方とも <span class="command"><strong>gcc</strong></span> でコンパイルされていない場合です。 この場合、両方を <span class="command"><strong>gcc</strong></span> でコンパイルすることでこの不一致を解決できます。 
    </p></div></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="introduction.html">前</a> </td><td width="20%" align="center"> </td><td width="40%" align="right"> <a accesskey="n" href="tutorial.html">次へ</a></td></tr><tr><td width="40%" align="left" valign="top">第 1 章 一般情報 </td><td width="20%" align="center"><a accesskey="h" href="index.html">ホーム</a></td><td width="40%" align="right" valign="top"> 第 3 章 チュートリアル</td></tr></table></div><div class="copyright-footer"></div></body></html>
